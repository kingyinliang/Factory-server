webpackJsonp([19],{DNQ1:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,i=s("P9l9"),r=s("Lna1"),o=s("jO17"),n=s("EEq9"),l=s("m+pf"),c=s("PQ51"),d=s("dlYS"),u=s("MR1d"),p=s("JT87"),m=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])})(t,e)},function(t,e){function s(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}),h=this&&this.__decorate||function(t,e,s,a){var i,r=arguments.length,o=r<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,a);else for(var n=t.length-1;n>=0;n--)(i=t[n])&&(o=(r<3?i(o):r>3?i(e,s,o):i(e,s))||o);return r>3&&o&&Object.defineProperty(e,s,o),o},f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.params=JSON.parse(JSON.stringify(e.$store.state.common.ZQWorkshop.defaultVal)),e.factoryList=[],e.workshopList=[],e.processesList=[],e.searched=!1,e.disabled=!0,e.datalist=[],e.totalList=[],e.OrgTree=[],e.arrList=[],e.row={userId:[]},e.currPage=1,e.pageSize=10,e.totalCount=0,e.orderList=[],e}return m(e,t),e.prototype.mounted=function(){this.params.zqDate=Object(r.c)(new Date,"yyyy-MM-dd"),this.getFactory(),this.getWorkshop(this.params.factoryId),this.getProcess(this.params.workshopId),this.getTree()},e.prototype.isAuth=function(t){return o.b.prototype.isAuth(t)},Object.defineProperty(e.prototype,"isMyAuth",{get:function(){return"abnormal"===this.params.productStatus?this.isAuth("kjm:user:listUser"):"normal"===this.params.productStatus&&this.isAuth("kjm:order:list")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mainTabs",{get:function(){return this.$store.state.common.mainTabs},set:function(t){this.$store.commit("common/updateMainTabs",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"countMan",{get:function(){var t=0;return this.totalList&&this.totalList.length>0&&this.totalList.forEach(function(e){e.userId&&(t+=e.userId.length)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DayTypeList",{get:function(){return u.a},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EmployeeTypeList",{get:function(){return u.b},enumerable:!0,configurable:!0}),e.prototype.changeOptions=function(t){var e=this;if("factory"===t){var s=this.factoryList.find(function(t){return t.deptId===e.params.factoryId});this.params.factoryName=s?s.deptName:""}else if("workshop"===t){s=this.workshopList.find(function(t){return t.deptId===e.params.workshopId});this.params.workshopName=s?s.deptName:""}},e.prototype.changeProcType=function(t){t.userId=[]},e.prototype.getFactory=function(){var t=this;this.factoryList=[],o.b.prototype.$http(i.c.FINDORG_API+"?code=factory","POST",{},!1,!1,!1).then(function(e){0===e.data.code?(t.factoryList=e.data.typeList,t.params.factoryId||(t.params.factoryId=e.data.typeList[0].deptId)):t.$message.error(e.data.msg)})},e.prototype.getWorkshop=function(t){var e=this;this.workshopList=[],t&&o.b.prototype.$http(""+i.c.FINDORGBYID_API,"POST",{deptId:t,deptName:"制曲"},!1,!1,!1).then(function(t){0===t.data.code?(e.workshopList=t.data.typeList,e.params.factoryId||(e.params.workshopId=t.data.typeList[0].deptId)):e.$message.error(t.data.msg)})},e.prototype.getProcess=function(t){var e=this;this.processesList=[],t?o.b.prototype.$http(""+i.c.FINDTEAM_API,"POST",{id:t,factory:this.params.factoryId},!1,!1,!1).then(function(t){var s=t.data;0===s.code?e.processesList=s.teamList:e.$message.error(s.msg)}):o.b.prototype.$http(""+i.c.FINDTEAM_API,"POST",{factory:this.params.factoryId}).then(function(t){var s=t.data;0===s.code?e.processesList=s.teamList:e.$message.error(s.msg)})},e.prototype.setDisabled=function(t){this.disabled=t},e.prototype.setStore=function(t){this.$store.commit("common/updateZQDefault",t)},e.prototype.getOrderList=function(){var t=this;if(""!==this.params.factoryId)if(""!==this.params.workshopId)if(null!==this.params.zqDate&&""!==this.params.zqDate)if(""!==this.params.productStatus)if(this.setStore(this.params),this.searched=!0,"normal"===this.params.productStatus){var e={factory:this.params.factoryId,workShop:this.params.workshopId,inKjmDate:this.params.zqDate};this.retrieveOrderList(e)}else"abnormal"===this.params.productStatus&&(this.disabled=!0,this.datalist=[],this.totalList=[],o.b.prototype.$http(""+i.l.CINDEXLISTUSER,"POST",{deptId:this.params.workshopId,productDate:this.params.zqDate}).then(function(e){if(0===e.data.code){for(var s=0,a=e.data.infoUser;s<a.length;s++){var i=a[s];i.productDate=i.productDate?i.productDate.substring(0,10):i.productDate,i.dinner=i.dinner+""}t.totalCount=e.data.infoUser.length,t.totalList=e.data.infoUser,t.datalist=e.data.infoUser.slice(0,t.pageSize)}else t.$message.error(e.data.msg)}).catch(function(t){console.log("catch data::",t)}));else this.$message.error("请选择生产状态");else this.$message.error("请选择制曲时间");else this.$message.error("请选择车间");else this.$message.error("请选择工厂")},e.prototype.retrieveOrderList=function(t){var e=this;this.orderList=[],o.b.prototype.$http(""+i.d.KJMAKINGORDERLIST_API,"POST",t).then(function(t){if(0===t.data.code)for(var s=0,a=t.data.list;s<a.length;s++){var i=a[s],r=new p.a(i.orderId,i.orderNo,i.materialCode,i.materialName,i.houseNo,i.inPotNoName,i.inEndTime,i.inEndTimeLength,i.orderHouseId,i.status,i.beanStatus,i.guardStatus,i.outStatus);e.orderList.push(r)}else e.$message.error(t.data.msg)}).catch(function(t){console.log("catch data::",t)})},e.prototype.addPeople=function(){var t=new d.a("",this.params.zqDate,"60");this.datalist.push(t)},e.prototype.delUser=function(t){var e=this;t.orderId&&""!==t.orderId?this.$confirm("是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){o.b.prototype.$http(""+i.l.CINDEXDELUSER,"POST",{orderId:t.orderId}).then(function(s){var a=s.data;0===a.code?(e.datalist.splice(e.datalist.indexOf(t),1),e.$message({type:"success",message:"删除成功"})):e.$message.error(a.msg)})}):this.datalist.splice(this.datalist.indexOf(t),1)},e.prototype.selectUser=function(t){this.row=t;var e=this.$refs.loanedPersonnel,s=this.$refs.officialWorker,a=this.$refs.temporaryWorker;t.userType===u.b.TRANSFER?this.$nextTick(function(){e.init(t.userId)}):t.userType===u.b.FORMAL?t.deptId&&""!==t.deptId?this.$nextTick(function(){s.init(t.deptId,t.userId)}):this.$message.error("请选择工序"):t.userType===u.b.TEMP?this.$nextTick(function(){a.init(t)}):this.$message.error("请选择人员属性")},e.prototype.changeUser=function(t){this.row.userId=t,this.$set(this.row,t,this.row.userId)},e.prototype.handleSizeChange=function(t){this.pageSize=t,this.currPage=1,this.datalist=this.totalList.slice((this.currPage-1)*this.pageSize,(this.currPage-1)*this.pageSize+this.pageSize)},e.prototype.handleCurrentChange=function(t){this.currPage=t,this.datalist=this.totalList.slice((this.currPage-1)*this.pageSize,(t-1)*this.pageSize+this.pageSize)},e.prototype.save=function(){var t=this;this.datalist&&0!==this.datalist.length?this.$confirm("确认保存，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var e=0,s=t.datalist;e<s.length;e++){var a=s[e];if(!a.classType)return void t.$message.error("班次不能为空");if(!a.deptId||""===a.deptId)return void t.$message.error("工序不能为空");if(!a.userType)return void t.$message.error("人员属性不能为空");if(!a.userId||0===a.userId.length)return void t.$message.error("作业人员不能为空");if(!a.startDate||""===a.startDate)return void t.$message.error("开始时间不能为空");if(!a.dinner||""===a.dinner)return void t.$message.error("用餐时间不能为空");if(!a.endDate||""===a.endDate)return void t.$message.error("结束时间不能为空")}o.b.prototype.$http(""+i.l.CINDEXUPDATEUSER,"POST",t.datalist).then(function(e){var s=e.data;0===s.code?t.$message({type:"success",message:"保存成功"}):t.$message.error(s.msg)}).catch(function(e){t.$message.error("保存失败，"+e)})}):this.$message.error("请先新增数据")},e.prototype.getTree=function(){var t=this;this.OrgTree=[],this.arrList=[],o.b.prototype.$http(""+i.c.ORGSTRUCTURE_API,"GET",{},!1,!1,!1).then(function(e){var s=e.data;0===s.code?(t.OrgTree=s.deptList,t.arrList=[t.OrgTree[0].children[0].deptId]):t.$message.error(s.msg)})},e.prototype.goPage=function(t,e){var s=!1;if("煮豆"===t?s=this.isAuth("kjm:bean:material:list"):"看曲"===t?s=this.isAuth("kjm:guard:list"):"出曲"===t&&(s=this.isAuth("sys:kjmOutMaterial:list")),s){this.$store.commit("common/updateZQParamsOrderNo",e.orderNo),this.$store.commit("common/updateZQParamsOrderId",e.orderId);var a="";"煮豆"===t?(this.$store.commit("common/updateZQParamsBeanHouseId",e.orderHouseId),a="DataEntry-KojiMaking-BoiledBeans-index"):"看曲"===t?(this.$store.commit("common/updateZQParamsLookHouseId",e.orderHouseId),a="DataEntry-KojiMaking-Look-index"):"出曲"===t&&(this.$store.commit("common/updateZQParamsOutHouseId",e.orderHouseId),a="DataEntry-KojiMaking-Out-index"),this.pushPage(a)}else this.$message.error("无权限查看"+t)},e.prototype.pushPage=function(t){this.mainTabs=this.mainTabs.filter(function(e){return e.name!==t});var e=this;setTimeout(function(){e.$router.push({name:t})},100)},e.prototype.onChangeValue=function(t,e){this.searched=!1,this.disabled=!0},e.prototype.onFactoryValue=function(t,e){this.params.workshopId="",this.params.workshopName="",this.getWorkshop(t)},e.prototype.onWorkshopValue=function(t,e){this.getProcess(t)},h([Object(o.c)("params",{deep:!0})],e.prototype,"onChangeValue",null),h([Object(o.c)("params.factoryId")],e.prototype,"onFactoryValue",null),h([Object(o.c)("params.workshopId")],e.prototype,"onWorkshopValue",null),e=h([Object(o.a)({components:{TemporaryWorker:n.default,LoanedPersonnel:l.default,officialWorker:c.default}})],e)}(o.b),v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-row",[s("el-col",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.lodingStatus,expression:"lodingStatus",modifiers:{fullscreen:!0,lock:!0}}],attrs:{"element-loading-text":"加载中"}},[s("div",{staticClass:"main"},[s("el-card",{staticClass:"newCard"},[s("el-row",{staticStyle:{"border-bottom":"1px solid #E9E9E9","margin-bottom":"12px"},attrs:{type:"flex"}},[s("el-col",[s("el-form",{attrs:{model:t.params,size:"small",inline:!0,"label-position":"right","label-width":"42px"}},[s("el-form-item",{attrs:{label:"工厂："}},[s("el-select",{staticClass:"selectwpx",staticStyle:{width:"140px"},on:{change:function(e){return t.changeOptions("factory")}},model:{value:t.params.factoryId,callback:function(e){t.$set(t.params,"factoryId",e)},expression:"params.factoryId"}},[s("el-option",{attrs:{label:"请选择",value:""}}),t._v(" "),t._l(t.factoryList,function(t){return s("el-option",{key:t.deptId,attrs:{label:t.deptName,value:t.deptId}})})],2)],1),t._v(" "),s("el-form-item",{attrs:{label:"车间："}},[s("el-select",{staticClass:"selectwpx",staticStyle:{width:"140px"},on:{change:function(e){return t.changeOptions("workshop")}},model:{value:t.params.workshopId,callback:function(e){t.$set(t.params,"workshopId",e)},expression:"params.workshopId"}},[s("el-option",{attrs:{label:"请选择",value:""}}),t._v(" "),t._l(t.workshopList,function(t){return s("el-option",{key:t.deptId,attrs:{label:t.deptName,value:t.deptId}})})],2)],1),t._v(" "),s("el-form-item",{attrs:{label:"制曲日期：","label-width":"70px"}},[s("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:t.params.zqDate,callback:function(e){t.$set(t.params,"zqDate",e)},expression:"params.zqDate"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"生产状态：","label-width":"70px"}},[s("el-select",{staticClass:"selectwpx",staticStyle:{width:"140px"},model:{value:t.params.productStatus,callback:function(e){t.$set(t.params,"productStatus",e)},expression:"params.productStatus"}},[s("el-option",{attrs:{label:"正常生产",value:"normal"}}),t._v(" "),s("el-option",{attrs:{label:"无生产",value:"abnormal"}})],1)],1)],1)],1),t._v(" "),s("el-col",{staticStyle:{width:"340px"}},[s("el-row",{staticClass:"rowButton"},[t.isMyAuth?s("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.getOrderList()}}},[t._v("查询")]):t._e(),t._v(" "),"abnormal"===t.params.productStatus?[t.searched&&t.disabled&&t.isAuth("kjm:user:updateUser")?s("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.setDisabled(!1)}}},[t._v("编辑")]):t._e(),t._v(" "),t.disabled?t._e():s("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.setDisabled(!0)}}},[t._v("返回")])]:t._e(),t._v(" "),"abnormal"===t.params.productStatus&&!t.disabled&&t.isAuth("kjm:user:updateUser")?[s("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:t.addPeople}},[t._v("新增")]),t._v(" "),s("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:t.save}},[t._v("保存")])]:t._e()],2)],1)],1)],1),t._v(" "),"normal"===t.params.productStatus&&t.searched?s("el-row",{staticStyle:{"margin-top":"20px"}},[s("el-col",t._l(t.orderList,function(e,a){return a%3==0?s("el-row",{key:a,attrs:{gutter:32}},[a<t.orderList.length?s("el-col",{attrs:{span:8}},[s("div",{staticClass:"box-item"},[s("div",{staticClass:"box-item-top"},[s("div",{staticClass:"box-item-title"},[s("div",{staticClass:"box-item-title-name"},[s("div",[t._v(t._s(t.orderList[a].houseNo))]),s("div",[t._v(t._s(t.orderList[a].inPotNoName))])]),t._v(" "),s("div",{class:"不通过"===t.orderList[a].status?"box-item-title-state-nopass":"box-item-title-state"},[s("label",{staticStyle:{color:"rgba(0,0,0,0.65)"}},[t._v("状态：")]),t._v(t._s(t.orderList[a].status))])]),t._v(" "),s("div",{staticClass:"box-item-container"},[s("div",{staticClass:"box-item-container-left"},[s("div",{staticClass:"box-item-container-img"})]),t._v(" "),s("div",{staticClass:"box-item-container-right"},[s("div",{staticClass:"box-item-container-item"},[s("div",{staticClass:"name"},[t._v("生产订单")]),s("div",{staticClass:"detail"},[t._v(t._s(t.orderList[a].orderNo))])]),t._v(" "),s("div",{staticClass:"box-item-container-item"},[s("div",{staticClass:"name"},[t._v("生产品项")]),s("div",{staticClass:"detail"},[t._v(t._s(t.orderList[a].materialCode+" "+t.orderList[a].materialName))])]),t._v(" "),s("div",{staticClass:"box-item-container-item"},[s("div",{staticClass:"name"},[t._v("入曲时长")]),s("div",{staticClass:"detail"},[t._v(t._s(t.orderList[a].inEndTimeLength)+" 小时")])]),t._v(" "),s("div",{staticClass:"box-item-container-item"},[s("div",{staticClass:"name"},[t._v("入曲时间")]),s("div",{staticClass:"detail"},[t._v(t._s(t.orderList[a].inEndTime?t.orderList[a].inEndTime:""))])])])])]),t._v(" "),s("div",{staticClass:"box-item-bottom"},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.orderList[a].beanStatus,placement:"top-start"}},[s("div",{staticClass:"box-item-bottom-item",style:{color:"不通过"===t.orderList[a].beanStatus?"red":""},on:{click:function(e){return t.goPage("煮豆",t.orderList[a])}}},[t._v("煮豆")])]),t._v(" "),s("div",{staticClass:"box-item-bottom-split"}),t._v(" "),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.orderList[a].guardStatus,placement:"top-start"}},[s("div",{staticClass:"box-item-bottom-item",style:{color:"不通过"===t.orderList[a].guardStatus?"red":""},on:{click:function(e){return t.goPage("看曲",t.orderList[a])}}},[t._v("看曲")])]),t._v(" "),s("div",{staticClass:"box-item-bottom-split"}),t._v(" "),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.orderList[a].outStatus,placement:"top-start"}},[s("div",{staticClass:"box-item-bottom-item",style:{color:"不通过"===t.orderList[a].outStatus?"red":""},on:{click:function(e){return t.goPage("出曲",t.orderList[a])}}},[t._v("出曲")])])],1)])]):t._e(),t._v(" "),a+1<t.orderList.length?s("el-col",{attrs:{span:8}},[s("div",{staticClass:"box-item"},[s("div",{staticClass:"box-item-top"},[s("div",{staticClass:"box-item-title"},[s("div",{staticClass:"box-item-title-name"},[s("div",{staticStyle:{background:"#5BD171"}},[t._v(t._s(t.orderList[a+1].houseNo))]),s("div",[t._v(t._s(t.orderList[a+1].inPotNoName))])]),t._v(" "),s("div",{class:"不通过"===t.orderList[a+1].status?"box-item-title-state-nopass":"box-item-title-state"},[s("label",{staticStyle:{color:"rgba(0,0,0,0.65)"}},[t._v("状态：")]),t._v(t._s(t.orderList[a+1].status))])]),t._v(" "),s("div",{staticClass:"box-item-container"},[s("div",{staticClass:"box-item-container-left"},[s("div",{staticClass:"box-item-container-img"})]),t._v(" "),s("div",{staticClass:"box-item-container-right"},[s("div",{staticClass:"box-item-container-item"},[s("div",{staticClass:"name"},[t._v("生产订单")]),s("div",{staticClass:"detail"},[t._v(t._s(t.orderList[a+1].orderNo))])]),t._v(" "),s("div",{staticClass:"box-item-container-item"},[s("div",{staticClass:"name"},[t._v("生产品项")]),s("div",{staticClass:"detail"},[t._v(t._s(t.orderList[a+1].materialCode+" "+t.orderList[a+1].materialName))])]),t._v(" "),s("div",{staticClass:"box-item-container-item"},[s("div",{staticClass:"name"},[t._v("入曲时长")]),s("div",{staticClass:"detail"},[t._v(t._s(t.orderList[a+1].inEndTimeLength)+" 小时")])]),t._v(" "),s("div",{staticClass:"box-item-container-item"},[s("div",{staticClass:"name"},[t._v("入曲时间")]),s("div",{staticClass:"detail"},[t._v(t._s(t.orderList[a+1].inEndTime?t.orderList[a+1].inEndTime:""))])])])])]),t._v(" "),s("div",{staticClass:"box-item-bottom"},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.orderList[a+1].beanStatus,placement:"top-start"}},[s("div",{staticClass:"box-item-bottom-item",style:{color:"不通过"===t.orderList[a+1].beanStatus?"red":""},on:{click:function(e){return t.goPage("煮豆",t.orderList[a+1])}}},[t._v("煮豆")])]),t._v(" "),s("div",{staticClass:"box-item-bottom-split"}),t._v(" "),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.orderList[a+1].guardStatus,placement:"top-start"}},[s("div",{staticClass:"box-item-bottom-item",style:{color:"不通过"===t.orderList[a+1].guardStatus?"red":""},on:{click:function(e){return t.goPage("看曲",t.orderList[a+1])}}},[t._v("看曲")])]),t._v(" "),s("div",{staticClass:"box-item-bottom-split"}),t._v(" "),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.orderList[a+1].outStatus,placement:"top-start"}},[s("div",{staticClass:"box-item-bottom-item",style:{color:"不通过"===t.orderList[a+1].outStatus?"red":""},on:{click:function(e){return t.goPage("出曲",t.orderList[a+1])}}},[t._v("出曲")])])],1)])]):t._e(),t._v(" "),a+2<t.orderList.length?s("el-col",{attrs:{span:8}},[s("div",{staticClass:"box-item"},[s("div",{staticClass:"box-item-top"},[s("div",{staticClass:"box-item-title"},[s("div",{staticClass:"box-item-title-name"},[s("div",{staticStyle:{background:"#2C92F6"}},[t._v(t._s(t.orderList[a+2].houseNo))]),s("div",[t._v(t._s(t.orderList[a+2].inPotNoName))])]),t._v(" "),s("div",{class:"不通过"===t.orderList[a+2].status?"box-item-title-state-nopass":"box-item-title-state"},[s("label",{staticStyle:{color:"rgba(0,0,0,0.65)"}},[t._v("状态：")]),t._v(t._s(t.orderList[a+2].status))])]),t._v(" "),s("div",{staticClass:"box-item-container"},[s("div",{staticClass:"box-item-container-left"},[s("div",{staticClass:"box-item-container-img"})]),t._v(" "),s("div",{staticClass:"box-item-container-right"},[s("div",{staticClass:"box-item-container-item"},[s("div",{staticClass:"name"},[t._v("生产订单")]),s("div",{staticClass:"detail"},[t._v(t._s(t.orderList[a+2].orderNo))])]),t._v(" "),s("div",{staticClass:"box-item-container-item"},[s("div",{staticClass:"name"},[t._v("生产品项")]),s("div",{staticClass:"detail"},[t._v(t._s(t.orderList[a+2].materialCode+" "+t.orderList[a+2].materialName))])]),t._v(" "),s("div",{staticClass:"box-item-container-item"},[s("div",{staticClass:"name"},[t._v("入曲时长")]),s("div",{staticClass:"detail"},[t._v(t._s(t.orderList[a+2].inEndTimeLength)+" 小时")])]),t._v(" "),s("div",{staticClass:"box-item-container-item"},[s("div",{staticClass:"name"},[t._v("入曲时间")]),s("div",{staticClass:"detail"},[t._v(t._s(t.orderList[a+2].inEndTime?t.orderList[a+2].inEndTime:""))])])])])]),t._v(" "),s("div",{staticClass:"box-item-bottom"},[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.orderList[a+2].beanStatus,placement:"top-start"}},[s("div",{staticClass:"box-item-bottom-item",style:{color:"不通过"===t.orderList[a+2].beanStatus?"red":""},on:{click:function(e){return t.goPage("煮豆",t.orderList[a+2])}}},[t._v("煮豆")])]),t._v(" "),s("div",{staticClass:"box-item-bottom-split"}),t._v(" "),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.orderList[a+2].guardStatus,placement:"top-start"}},[s("div",{staticClass:"box-item-bottom-item",style:{color:"不通过"===t.orderList[a+2].guardStatus?"red":""},on:{click:function(e){return t.goPage("看曲",t.orderList[a+2])}}},[t._v("看曲")])]),t._v(" "),s("div",{staticClass:"box-item-bottom-split"}),t._v(" "),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.orderList[a+2].outStatus,placement:"top-start"}},[s("div",{staticClass:"box-item-bottom-item",style:{color:"不通过"===t.orderList[a+2].outStatus?"red":""},on:{click:function(e){return t.goPage("出曲",t.orderList[a+2])}}},[t._v("出曲")])])],1)])]):t._e()],1):t._e()}),1)],1):t._e(),t._v(" "),s("el-row",{directives:[{name:"show",rawName:"v-show",value:"abnormal"===t.params.productStatus&&t.searched,expression:"params.productStatus === 'abnormal' && searched"}],staticStyle:{"margin-top":"20px"}},[s("div",{staticStyle:{"min-height":"340px"}},[s("el-table",{attrs:{border:"","header-row-class-name":"tableHead",data:t.datalist}},[s("el-table-column",{attrs:{label:"中/白/夜班",prop:"classType",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-select",{attrs:{placeholder:"请选择",size:"small",disabled:t.disabled},model:{value:e.row.classType,callback:function(s){t.$set(e.row,"classType",s)},expression:"scope.row.classType"}},t._l(t.DayTypeList,function(t){return s("el-option",{key:t,attrs:{value:t,label:t}})}),1)]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"工序",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-select",{attrs:{placeholder:"请选择",size:"small",disabled:t.disabled},on:{change:function(s){return t.changeProcType(e.row)}},model:{value:e.row.deptId,callback:function(s){t.$set(e.row,"deptId",s)},expression:"scope.row.deptId"}},t._l(t.processesList,function(t){return s("el-option",{key:t.deptId,attrs:{value:t.deptId,label:t.deptName}})}),1)]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"人员属性",prop:"userType",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-select",{attrs:{placeholder:"请选择",size:"small",disabled:t.disabled},on:{change:function(s){return t.changeProcType(e.row)}},model:{value:e.row.userType,callback:function(s){t.$set(e.row,"userType",s)},expression:"scope.row.userType"}},t._l(t.EmployeeTypeList,function(t){return s("el-option",{key:t,attrs:{value:t,label:t}})}),1)]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"userId",label:"姓名（工号）","show-overflow-tooltip":!0,width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-col",[t.disabled?s("span",{staticStyle:{cursor:"pointer"}},[void 0!==e.row.userId?s("i",[t._v(t._s(e.row.userId.join(",")))]):t._e(),t._v(" "),s("span",["临时工"===e.row.userType?s("i",[t._v("点击输入临时工")]):s("i",[t._v("点击选择人员")])])]):s("span",{staticStyle:{cursor:"pointer"},on:{click:function(s){return t.selectUser(e.row)}}},[void 0!==e.row.userId?s("i",[t._v(t._s(e.row.userId.join(",")))]):t._e(),t._v(" "),s("span",["临时工"===e.row.userType?s("i",[t._v("点击输入临时工")]):s("i",[t._v("点击选择人员")])])])])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"开始时间",prop:"startDate",width:"190"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-date-picker",{staticStyle:{width:"175px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm",placeholder:"选择时间",size:"small",disabled:t.disabled},model:{value:e.row.startDate,callback:function(s){t.$set(e.row,"startDate",s)},expression:"scope.row.startDate"}})]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"用餐时间",prop:"dinner",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-input",{attrs:{type:"number",size:"small",disabled:t.disabled},model:{value:e.row.dinner,callback:function(s){t.$set(e.row,"dinner",s)},expression:"scope.row.dinner"}})]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"结束时间",prop:"endDate",width:"190"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-date-picker",{staticStyle:{width:"175px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm",placeholder:"选择时间",size:"small",disabled:t.disabled},model:{value:e.row.endDate,callback:function(s){t.$set(e.row,"endDate",s)},expression:"scope.row.endDate"}})]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"备注",prop:"remark",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("Remark",{attrs:{width:"150px",disabled:t.disabled},model:{value:e.row.remark,callback:function(s){t.$set(e.row,"remark",s)},expression:"scope.row.remark"}})]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"操作",fixed:"right",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.isAuth("kjm:user:delUser")?s("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:"",size:"small",disabled:t.disabled},on:{click:function(s){return t.delUser(e.row)}}}):t._e()]}}])})],1),t._v(" "),s("el-row",{staticStyle:{"font-size":"14px","line-height":"30px","margin-top":"10px"}},[t._v("\n          实际作业人数: "+t._s(t.countMan)+"\n        ")])],1),t._v(" "),s("el-row",[s("el-pagination",{attrs:{"current-page":t.currPage,"page-sizes":[10,15,20],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1),t._v(" "),s("temporary-worker",{ref:"temporaryWorker",on:{changeUser:t.changeUser}}),t._v(" "),s("loaned-personnel",{ref:"loanedPersonnel",attrs:{OrgTree:t.OrgTree,arrList:t.arrList},on:{changeUser:t.changeUser}}),t._v(" "),s("official-worker",{ref:"officialWorker",on:{changeUser:t.changeUser}})],1)],1)},staticRenderFns:[]};var b=s("C7Lr")(f,v,!1,function(t){s("jMV6"),s("GWHF")},"data-v-7b823d06",null);e.default=b.exports},GWHF:function(t,e){},JT87:function(t,e,s){"use strict";s.d(e,"a",function(){return i});var a=s("MR1d"),i=function(){function t(t,e,s,a,i,r,o,n,l,c,d,u,p){this.orderId=t,this.orderNo=e,this.materialCode=s,this.materialName=a,this.houseNo=i,this.inPotNoName=r,this.inEndTime=o,this.inEndTimeLength=n,this.orderHouseId=l,this.status=c,this.beanStatus=d,this.guardStatus=u,this.outStatus=p}return Object.defineProperty(t.prototype,"status",{get:function(){return"已同步"===this._status?a.c.UNDO:"toBeAudited"===this._status?a.c.TOBE:"saved"===this._status?a.c.SAVED:"submit"===this._status?a.c.SUBMIT:"checked"===this._status?a.c.CHECKED:"noPass"===this._status?a.c.NOPASS:this._status},set:function(t){this._status=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"beanStatus",{get:function(){return"已同步"===this._beanStatus?a.c.UNDO:"toBeAudited"===this._beanStatus?a.c.TOBE:"saved"===this._beanStatus?a.c.SAVED:"submit"===this._beanStatus?a.c.SUBMIT:"checked"===this._beanStatus?a.c.CHECKED:"noPass"===this._beanStatus?a.c.NOPASS:this._beanStatus},set:function(t){this._beanStatus=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"guardStatus",{get:function(){return"已同步"===this._guardStatus?a.c.UNDO:"toBeAudited"===this._guardStatus?a.c.TOBE:"saved"===this._guardStatus?a.c.SAVED:"submit"===this._guardStatus?a.c.SUBMIT:"checked"===this._guardStatus?a.c.CHECKED:"noPass"===this._guardStatus?a.c.NOPASS:this._guardStatus},set:function(t){this._guardStatus=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outStatus",{get:function(){return"已同步"===this._outStatus?a.c.UNDO:"toBeAudited"===this._outStatus?a.c.TOBE:"saved"===this._outStatus?a.c.SAVED:"submit"===this._outStatus?a.c.SUBMIT:"checked"===this._outStatus?a.c.CHECKED:"noPass"===this._outStatus?a.c.NOPASS:this._outStatus},set:function(t){this._outStatus=t},enumerable:!0,configurable:!0}),t}()},dlYS:function(t,e,s){"use strict";s.d(e,"a",function(){return i});var a=s("MR1d"),i=function(){return function(t,e,s){this.classType=a.a.DAY,this.userType=a.b.FORMAL,this.orderId=t,this.productDate=e,this.dinner=s}}()},jMV6:function(t,e){}});
//# sourceMappingURL=19.0a2920af1aa895975931.js.map