{"version":3,"sources":["webpack:///src/views/page/DataEntry/FryWheat/common/inStock1.vue","webpack:///./src/views/page/DataEntry/FryWheat/common/inStock1.vue?7573","webpack:///./src/views/page/DataEntry/FryWheat/common/inStock1.vue"],"names":["inStock1","data","wheatDataList","readAudit","flourContainerList","wheatContainerList","dialogFormVisible","formLabelWidth","stockForm","dataRule","wheatDeviceId","required","message","trigger","startWeight","type","endWeight","inPortBatch","max","mounted","this","getFlourContainerList","getWheatContainerList","props","isRedact","Boolean","inStorageState","String","order","Object","filters","formatDate","date","length","substring","methods","_this","workShopName","params","holder_type","pageSize","currPage","$http","api","CONTAINERLIST_API","then","_ref","code","page","list","$message","error","msg","catch","console","log","_this2","_ref2","getWheatDataList","orderId","_this3","INSTORAGELIST_API","_ref3","wlist","vrlist","inState","no","sub","che","sav","forEach","item","status","$emit","addNewRecord","flourDeviceId","flourDeviceName","now","Date","dateStr","validate","inPortDateStr","productDate","created","creator","$store","state","user","realName","name","changed","changer","recordId","uuid","inPortDate","delFlag","undefined","$refs","resetFields","modifyOldRecord","row","assign_default","cacheStockData","_this4","valid","currentRecord","hasOwnProperty","filter","id","inPortWeight","clone","push","saveIn","resolve","_this5","trim","INSTORAGESAVE_API","_ref4","submitIn","_this6","INSTORAGESUBMIT_API","_ref5","changeWheatContainer","value","wheat","find","holderId","holderNo","wheatDeviceName","holderName","dellistbomS","rowDelFlag","_ref6","rowIndex","computed","operator","watch","order.productDate","n","o","components","AuditLog","__webpack_require__","e","__WEBPACK_AMD_REQUIRE_ARRAY__","apply","bind","oe","common_inStock1","render","_vm","_h","$createElement","_c","_self","attrs","span","_l","index","key","staticStyle","margin-top","gutter","staticClass","_v","_s","on","click","$event","_e","header-row-class-name","border","tooltip-effect","row-class-name","row-dblclick","label","width","scopedSlots","_u","fn","scope","_f","show-overflow-tooltip","weightUnit","fixed","icon","circle","size","disabled","tableData","title","visible","update:visible","ref","model","rules","label-width","prop","value-key","placeholder","change","callback","$$v","$set","expression","tyle","_n","maxlength","slot","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/92.39eb92cd095237a706a5.js","sourcesContent":["<!--生产入库-->\r\n<template>\r\n  <div>\r\n    <!--数据录入-->\r\n    <el-row>\r\n      <el-col :span=\"24\">\r\n        <el-card>\r\n          <!--录入-->\r\n          <div>\r\n            <el-row  :gutter=\"36\" v-for=\"(item, index) in flourContainerList\" :key=\"index\" v-if=\"index%4===0\" style=\"margin-top:5px\">\r\n              <el-col :span=\"6\" v-if=\"index < flourContainerList.length\">\r\n                  <div class=\"stock-box\">\r\n                    <div class=\"stock-img\"></div>\r\n                    <div class=\"stock-text\">{{flourContainerList[index].holderName}}</div>\r\n                    <div class=\"clearfix\"></div>\r\n                    <div class=\"stock-button enabled\" @click=\"addNewRecord(flourContainerList[index].holderId, flourContainerList[index].holderName)\" v-if=\"isRedact && (inStorageState != 'submit' && inStorageState != 'checked')\"> 入罐</div>\r\n                    <div class=\"stock-button disabled\"  v-else> 入罐</div>\r\n                  </div>\r\n              </el-col>\r\n              <el-col :span=\"6\" v-if=\"index + 1 < flourContainerList.length\">\r\n                  <div class=\"stock-box\">\r\n                    <div class=\"stock-img\"></div>\r\n                    <div class=\"stock-text\">{{flourContainerList[index + 1].holderName}}</div>\r\n                    <div class=\"clearfix\"></div>\r\n                    <div class=\"stock-button enabled\" @click=\"addNewRecord(flourContainerList[index + 1].holderId, flourContainerList[index + 1].holderName)\" v-if=\"isRedact && (inStorageState != 'submit' && inStorageState != 'checked')\"> 入罐</div>\r\n                    <div class=\"stock-button disabled\"  v-else> 入罐</div>\r\n                  </div>\r\n              </el-col>\r\n              <el-col :span=\"6\" v-if=\"index + 2 < flourContainerList.length\">\r\n                  <div class=\"stock-box\">\r\n                    <div class=\"stock-img\"></div>\r\n                    <div class=\"stock-text\">{{flourContainerList[index + 2].holderName}}</div>\r\n                    <div class=\"clearfix\"></div>\r\n                    <div class=\"stock-button enabled\" @click=\"addNewRecord(flourContainerList[index + 2].holderId, flourContainerList[index + 2].holderName)\" v-if=\"isRedact && (inStorageState != 'submit' && inStorageState != 'checked')\"> 入罐</div>\r\n                    <div class=\"stock-button disabled\"  v-else> 入罐</div>\r\n                  </div>\r\n              </el-col>\r\n              <el-col :span=\"6\" v-if=\"index + 3 < flourContainerList.length\">\r\n                  <div class=\"stock-box\">\r\n                    <div class=\"stock-img\"></div>\r\n                    <div class=\"stock-text\">{{flourContainerList[index + 3].holderName}}</div>\r\n                    <div class=\"clearfix\"></div>\r\n                    <div class=\"stock-button enabled\" @click=\"addNewRecord(flourContainerList[index + 3].holderId, flourContainerList[index + 3].holderName)\" v-if=\"isRedact && (inStorageState != 'submit' && inStorageState != 'checked')\"> 入罐</div>\r\n                    <div class=\"stock-button disabled\"  v-else> 入罐</div>\r\n                  </div>\r\n              </el-col>\r\n            </el-row>\r\n          </div>\r\n          <!--table-->\r\n          <!-- <el-button type='primary' size=\"small\" @click=\"saveStockList\">baocun</el-button>\r\n          <el-button type='primary' size=\"small\" @click=\"submitStockList\">tijiao</el-button> -->\r\n          <el-row  style=\"margin-top:20px;\" >\r\n            <el-col>\r\n              <el-table @row-dblclick=\"modifyOldRecord\" header-row-class-name=\"tableHead\" :data=\"wheatDataList\"  border tooltip-effect=\"dark\" :row-class-name=\"rowDelFlag\">\r\n                <el-table-column label=\"日期\" width=\"130\">\r\n                  <template slot-scope=\"scope\">\r\n                    {{scope.row.inPortDate | formatDate}}\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                  label=\"麦粉计量仓\"\r\n                  :show-overflow-tooltip=\"true\"\r\n                  width=\"120\">\r\n                  <template slot-scope=\"scope\">\r\n                    {{scope.row.flourDeviceName}}\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column width=\"80\" label=\"粮仓\">\r\n                  <template slot-scope=\"scope\">\r\n                    {{scope.row.wheatDeviceName}}\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column width=\"90\" label=\"起始\">\r\n                  <template slot-scope=\"scope\">\r\n                    {{scope.row.startWeight}}\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"结束\" width=\"90\">\r\n                  <template slot-scope=\"scope\">\r\n                    <span>{{scope.row.endWeight}}</span>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"入库数\" width=\"120\">\r\n                  <template slot-scope=\"scope\">\r\n                    <span>{{scope.row.inPortWeight}}</span>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"单位\" width=\"80\">\r\n                  <template slot-scope=\"scope\">\r\n                     <span>{{scope.row.weightUnit = 'kg'}}</span>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"入库批次\" width=\"150\">\r\n                  <template slot-scope=\"scope\">\r\n                     <span>{{scope.row.inPortBatch}}</span>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作人员\" width=\"100\">\r\n                  <template slot-scope=\"scope\">\r\n                     <span>{{scope.row.changer}}</span>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"操作时间\" width=\"100\">\r\n                  <template slot-scope=\"scope\">\r\n                     <span>{{scope.row.changed}}</span>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                  fixed=\"right\"\r\n                  label=\"操作\"\r\n                  width=\"60\">\r\n                  <template slot-scope=\"scope\">\r\n                    <el-button type=\"danger\" icon=\"el-icon-delete\" circle size=\"small\" :disabled=\"!isRedact || scope.row.status === 'submit' || scope.row.status === 'checked' \"  @click=\"dellistbomS(scope.row)\"></el-button>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </el-col>\r\n          </el-row>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n    <!--审批-->\r\n    <el-row>\r\n      <el-col :span=\"24\">\r\n        <auditLog :tableData=\"readAudit\"></auditLog>\r\n      </el-col>\r\n    </el-row>\r\n    <el-dialog :title=\"this.stockForm.flourDeviceName\" :visible.sync=\"dialogFormVisible\" width=\"450px\">\r\n      <el-form :model=\"stockForm\" :rules=\"dataRule\" ref=\"stockForm\">\r\n        <el-form-item label=\"粮仓\" :label-width=\"formLabelWidth\" required prop=\"wheatDeviceId\">\r\n          <el-select @change=\"changeWheatContainer\"  v-model=\"stockForm.wheatDeviceId\" value-key=\"wheatDeviceId\" placeholder=\"请选择粮仓\" style=\"width:220px\" :disabled=\"!isRedact\">\r\n            <el-option v-for=\"(item, index) in wheatContainerList\" :key=\"index\" :label=\"item.holderName\" :value=\"item.holderId\" ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"起始(KG)\" :label-width=\"formLabelWidth\" required prop=\"startWeight\">\r\n          <el-input tyle='number' v-model.number=\"stockForm.startWeight\"  style=\"width:220px;\" :disabled=\"!isRedact\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"结束(KG)\" :label-width=\"formLabelWidth\" required prop=\"endWeight\">\r\n          <el-input tyle='number' v-model.number=\"stockForm.endWeight\"  style=\"width:220px;\" :disabled=\"!isRedact\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"入库批次\" :label-width=\"formLabelWidth\" required prop=\"inPortBatch\">\r\n          <el-input  maxlength='10' v-model=\"stockForm.inPortBatch\"  style=\"width:220px;\" :disabled=\"!isRedact\"></el-input>\r\n        </el-form-item>\r\n         <el-form-item label=\"操作时间\" :label-width=\"formLabelWidth\">\r\n          <!-- <el-input v-model=\"stockForm.operateTime\" ></el-input> -->\r\n          <label>{{stockForm.changed}}</label>\r\n          <!-- <el-date-picker type=\"datetime\"  value-format=\"yyyy-MM-dd HH:mm:ss\" format=\"yyyy-MM-dd HH:mm:ss\" v-model=\"stockForm.operateTime\" :disabled=\"!isRedact\"></el-date-picker> -->\r\n        </el-form-item>\r\n         <el-form-item label=\"操作人\" :label-width=\"formLabelWidth\">\r\n          <label>{{stockForm.changer}}</label>\r\n          <!-- <el-input v-model=\"stockForm.operatorId\"  style=\"width:220px;\" :disabled=\"!isRedact\"></el-input> -->\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\" :disabled=\"!isRedact\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"cacheStockData()\" :disabled=\"!isRedact\">保存</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { dateFormat } from '@/net/validate'\r\nimport { WHT_API, BASICDATA_API } from '@/api/api'\r\nexport default {\r\n  data () {\r\n    return {\r\n      // stoppageType: [],\r\n      // equipmentType: [],\r\n      // materialShort: [],\r\n      // enery: [],\r\n      wheatDataList: [],\r\n      readAudit: [],\r\n      flourContainerList: [],\r\n      wheatContainerList: [],\r\n      dialogFormVisible: false,\r\n      formLabelWidth: '120px',\r\n      stockForm: {},\r\n      dataRule: {\r\n        wheatDeviceId: [\r\n          {required: true, message: '必选', trigger: 'click'}\r\n        ],\r\n        startWeight: [\r\n          {required: true, message: '必填', trigger: 'blur'},\r\n          {type: 'number', message: '必须为数字', trigger: 'blur'}\r\n        ],\r\n        endWeight: [\r\n          {required: true, message: '必填', trigger: 'blur'},\r\n          {type: 'number', message: '必须为数字', trigger: 'blur'}\r\n        ],\r\n        inPortBatch: [\r\n          {required: true, message: '必填', trigger: 'blur'},\r\n          {max: 10, message: '长度不能超过10', trigger: 'blur'}\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getFlourContainerList()\r\n    this.getWheatContainerList()\r\n    // this.getWheatDataList()\r\n  },\r\n  props: {\r\n    isRedact: Boolean,\r\n    inStorageState: String,\r\n    order: Object\r\n  },\r\n  filters: {\r\n    formatDate (date) {\r\n      if (date && date.length > 10) {\r\n        return date.substring(0, 10)\r\n      }\r\n      return date\r\n    }\r\n  },\r\n  methods: {\r\n    // 麦粉计量仓容器\r\n    getFlourContainerList () {\r\n      this.flourContainerList = []\r\n      if (typeof this.order === 'undefined' || typeof this.order.workShopName === 'undefined') {\r\n        return\r\n      }\r\n      let params = {\r\n        type: 'holder_type',\r\n        holder_type: '009',\r\n        // holder_no: 'MM002',\r\n        pageSize: 9999,\r\n        workShopName: this.order.workShopName,\r\n        currPage: 1\r\n      }\r\n      this.$http(`${BASICDATA_API.CONTAINERLIST_API}`, 'POST', params).then(({data}) => {\r\n        if (data.code === 0) {\r\n          this.flourContainerList = data.page.list\r\n        } else {\r\n          this.$message.error(data.msg)\r\n        }\r\n      }).catch((error) => {\r\n        console.log('catch data::', error)\r\n      })\r\n    },\r\n    // 粮仓\r\n    getWheatContainerList () {\r\n      this.wheatContainerList = []\r\n      if (typeof this.order === 'undefined' || typeof this.order.workShopName === 'undefined') {\r\n        return\r\n      }\r\n      let params = {\r\n        type: 'holder_type',\r\n        holder_type: '002',\r\n        // holder_no: '001',\r\n        pageSize: 100,\r\n        workShopName: this.order.workShopName,\r\n        currPage: 1\r\n      }\r\n      this.$http(`${BASICDATA_API.CONTAINERLIST_API}`, 'POST', params).then(({data}) => {\r\n        if (data.code === 0) {\r\n          this.wheatContainerList = data.page.list\r\n        } else {\r\n          this.$message.error(data.msg)\r\n        }\r\n      }).catch((error) => {\r\n        console.log('catch data::', error)\r\n      })\r\n    },\r\n    // 获取入库数据\r\n    getWheatDataList (orderId) {\r\n      this.wheatDataList = []\r\n      this.readAudit = []\r\n      // if (typeof this.order === 'undefined' || typeof this.order.orderId === 'undefined') {\r\n      //   return\r\n      // }\r\n      this.$http(`${WHT_API.INSTORAGELIST_API}`, 'POST', {orderId}).then(({data}) => {\r\n        if (data.code === 0) {\r\n          // success\r\n          this.wheatDataList = data.wlist\r\n          this.readAudit = data.vrlist\r\n          let inState = ''\r\n          let no = 0\r\n          let sub = 0\r\n          let che = 0\r\n          let sav = 0\r\n          this.wheatDataList.forEach((item) => {\r\n            if (item.status === 'noPass') {\r\n              no = no + 1\r\n            } else if (item.status === 'submit') {\r\n              sub = sub + 1\r\n            } else if (item.status === 'checked') {\r\n              che = che + 1\r\n            } else if (item.status === 'saved') {\r\n              sav = sav + 1\r\n            }\r\n          })\r\n          if (no > 0) {\r\n            inState = 'noPass'\r\n          } else if (sub > 0) {\r\n            inState = 'submit'\r\n          } else if (sav > 0) {\r\n            inState = 'saved'\r\n          } else if (che > 0) {\r\n            inState = 'checked'\r\n          }\r\n          this.$emit('setInStorageState', inState)\r\n        } else {\r\n          this.$message.error(data.msg)\r\n        }\r\n      }).catch((error) => {\r\n        console.log('catch data::', error)\r\n      })\r\n    },\r\n    addNewRecord (flourDeviceId, flourDeviceName) {\r\n      let now = new Date()\r\n      let dateStr = dateFormat(now, 'yyyy-MM-dd hh:mm:ss')\r\n      let inPortDateStr = dateFormat(new Date(this.order.productDate), 'yyyy-MM-dd hh:mm:ss')\r\n      this.stockForm = {\r\n        wheatDeviceId: '',\r\n        startWeight: 0,\r\n        endWeight: 0,\r\n        created: dateStr,\r\n        creator: this.$store.state.user.realName + `(${this.$store.state.user.name})`,\r\n        changed: dateStr,\r\n        changer: this.$store.state.user.realName + `(${this.$store.state.user.name})`,\r\n        orderId: this.order.orderId,\r\n        flourDeviceId,\r\n        flourDeviceName,\r\n        recordId: this.uuid(),\r\n        inPortDate: inPortDateStr,\r\n        inPortBatch: '',\r\n        delFlag: '0'\r\n      }\r\n      this.dialogFormVisible = true\r\n      if (this.$refs['stockForm'] !== undefined) {\r\n        this.$refs['stockForm'].resetFields()\r\n      }\r\n    },\r\n    modifyOldRecord (row) {\r\n      // noPass saved\r\n      if (!this.isRedact || row.status === 'submit' || row.status === 'checked') {\r\n        return\r\n      }\r\n      this.dialogFormVisible = true\r\n      // if (this.$refs['stockForm'] !== undefined) {\r\n      //   this.$refs['stockForm'].resetFields()\r\n      // }\r\n      // 点击保存之前，不能对列表数据做更改，此处用clone\r\n      this.stockForm = Object.assign({}, row)\r\n      this.stockForm.changed = dateFormat(new Date(), 'yyyy-MM-dd hh:mm:ss')\r\n      this.stockForm.changer = this.$store.state.user.realName + `(${this.$store.state.user.name})`\r\n    },\r\n    cacheStockData () {\r\n      this.$refs['stockForm'].validate((valid) => {\r\n        if (valid) {\r\n          let currentRecord = []\r\n          if (this.stockForm.hasOwnProperty('recordId')) {\r\n            // 新增行\r\n            currentRecord = this.wheatDataList.filter(data => data.recordId === this.stockForm.recordId)\r\n          } else {\r\n            // 原有行\r\n            currentRecord = this.wheatDataList.filter(data => data.id === this.stockForm.id)\r\n          }\r\n          this.stockForm.inPortWeight = this.stockForm.endWeight - this.stockForm.startWeight\r\n          if (currentRecord && currentRecord.length > 0) {\r\n            // modify\r\n            Object.assign(currentRecord[0], this.stockForm)\r\n          } else {\r\n            // add\r\n            let clone = Object.assign({}, this.stockForm)\r\n            this.wheatDataList.push(clone)\r\n          }\r\n          this.dialogFormVisible = false\r\n        }\r\n      })\r\n    },\r\n    // 保存\r\n    saveIn (resolve) {\r\n      if (this.wheatDataList.length > 0) {\r\n        this.wheatDataList.forEach((item) => {\r\n          // 应产品要求，如果对不通过数据做修改保存操作，页签状态还是未通过，故此处不做状态赋值。\r\n          // if (item.status !== 'submit' || item.status !== 'checked') {\r\n          //   item.status = 'saved'\r\n          // }\r\n          // 新增行赋值saved\r\n          if (typeof item.status === 'undefined' || item.status == null || item.status.trim() === '') {\r\n            item.status = 'saved'\r\n          }\r\n        })\r\n        this.$http(WHT_API.INSTORAGESAVE_API, 'POST', this.wheatDataList).then(({data}) => {\r\n          if (data.code === 0) {\r\n          } else {\r\n            this.$message.error(data.msg)\r\n          }\r\n          if (resolve) {\r\n            resolve('resolve')\r\n          }\r\n        }).catch((error) => {\r\n          console.log('catch data::', error)\r\n        })\r\n      } else {\r\n        if (resolve) {\r\n          resolve('resolve')\r\n        }\r\n      }\r\n    },\r\n    // 入库提交\r\n    submitIn (resolve) {\r\n      if (this.wheatDataList.length > 0) {\r\n        this.wheatDataList.forEach((item) => {\r\n          if (item.status !== 'checked') {\r\n            item.status = 'submit'\r\n          }\r\n        })\r\n        this.$http(`${WHT_API.INSTORAGESUBMIT_API}`, 'POST', this.wheatDataList).then(({data}) => {\r\n          if (data.code === 0) {\r\n          } else {\r\n            this.$message.error(data.msg)\r\n          }\r\n          if (resolve) {\r\n            resolve('resolve')\r\n          }\r\n        }).catch((error) => {\r\n          console.log('catch data::', error)\r\n        })\r\n      } else {\r\n        if (resolve) {\r\n          resolve('resolve')\r\n        }\r\n      }\r\n    },\r\n    changeWheatContainer (value) {\r\n      let wheat = this.wheatContainerList.find((item) => item.holderId === value)\r\n      let holderNo = ''\r\n      if (wheat) {\r\n        this.stockForm.wheatDeviceName = wheat.holderName\r\n        holderNo = wheat.holderNo\r\n      }\r\n      let now = new Date()\r\n      this.stockForm.inPortBatch = dateFormat(now, 'yyMMdd') + holderNo\r\n    },\r\n    // 删除\r\n    dellistbomS (row) {\r\n      row.delFlag = '1'\r\n    },\r\n    // RowDelFlag\r\n    rowDelFlag ({row, rowIndex}) {\r\n      if (row.delFlag === '1') {\r\n        return 'rowDel'\r\n      } else {\r\n        return ''\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    operator: function () {\r\n      return `(${this.stockForm.changer})${this.stockForm.changer}`\r\n    }\r\n  },\r\n  watch: {\r\n    'order.productDate' (n, o) {\r\n      // 监听头部生产日期\r\n      this.wheatDataList.forEach((item) => {\r\n        if (item.status !== 'submit' && item.status !== 'checked') {\r\n          item.inPortDate = dateFormat(new Date(n), 'yyyy-MM-dd hh:mm:ss')\r\n        }\r\n      })\r\n    }\r\n  },\r\n  components: {\r\n    AuditLog: resolve => {\r\n      require(['@/views/components/AuditLog'], resolve)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  // @import '~@/assets/scss/common.scss';\r\n  // @import '../../../../../assets/scss/common.scss';\r\n  .stock-box{\r\n    height: 184px;\r\n    border: 1px solid #E9E9E9;\r\n    border-radius: 2px;\r\n    .stock-img{\r\n      width:48px;\r\n      height:48px;\r\n      border-radius:24px;\r\n      float:left;\r\n      margin-left:24px;\r\n      margin-top:24px;\r\n      // background: url('../../../../../assets/img/wheat.png')\r\n      background: url('~@/assets/img/wheat.png')\r\n      // ~ 表示根目录，@表示src目录\r\n    }\r\n    .stock-text{\r\n      float:left;\r\n      margin-left:20px;\r\n      margin-top:30px;\r\n      font-size:16px;\r\n      font-weight:500;\r\n      font-family:PingFangSC-Medium;\r\n    }\r\n    .stock-button{\r\n      height:48px;\r\n      margin-top:62px;\r\n      font-size:14px;\r\n      line-height:48px;\r\n      text-align:center;\r\n      border-top:1px solid #e9e9e9;\r\n      border-radius: 0 0 2px 2px;\r\n    }\r\n    .enabled{\r\n      background:#F7F9FA;\r\n      &:hover{\r\n        color:#fff;\r\n        background:#1890FF;\r\n        cursor:pointer\r\n      }\r\n    }\r\n    .disabled{\r\n      color:rgba(0, 0, 0, 0.6);\r\n      background:#F7F9FA;\r\n      &:hover{\r\n        cursor:not-allowed\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/page/DataEntry/FryWheat/common/inStock1.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-card',[_c('div',_vm._l((_vm.flourContainerList),function(item,index){return (index%4===0)?_c('el-row',{key:index,staticStyle:{\"margin-top\":\"5px\"},attrs:{\"gutter\":36}},[(index < _vm.flourContainerList.length)?_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"stock-box\"},[_c('div',{staticClass:\"stock-img\"}),_vm._v(\" \"),_c('div',{staticClass:\"stock-text\"},[_vm._v(_vm._s(_vm.flourContainerList[index].holderName))]),_vm._v(\" \"),_c('div',{staticClass:\"clearfix\"}),_vm._v(\" \"),(_vm.isRedact && (_vm.inStorageState != 'submit' && _vm.inStorageState != 'checked'))?_c('div',{staticClass:\"stock-button enabled\",on:{\"click\":function($event){return _vm.addNewRecord(_vm.flourContainerList[index].holderId, _vm.flourContainerList[index].holderName)}}},[_vm._v(\" 入罐\")]):_c('div',{staticClass:\"stock-button disabled\"},[_vm._v(\" 入罐\")])])]):_vm._e(),_vm._v(\" \"),(index + 1 < _vm.flourContainerList.length)?_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"stock-box\"},[_c('div',{staticClass:\"stock-img\"}),_vm._v(\" \"),_c('div',{staticClass:\"stock-text\"},[_vm._v(_vm._s(_vm.flourContainerList[index + 1].holderName))]),_vm._v(\" \"),_c('div',{staticClass:\"clearfix\"}),_vm._v(\" \"),(_vm.isRedact && (_vm.inStorageState != 'submit' && _vm.inStorageState != 'checked'))?_c('div',{staticClass:\"stock-button enabled\",on:{\"click\":function($event){return _vm.addNewRecord(_vm.flourContainerList[index + 1].holderId, _vm.flourContainerList[index + 1].holderName)}}},[_vm._v(\" 入罐\")]):_c('div',{staticClass:\"stock-button disabled\"},[_vm._v(\" 入罐\")])])]):_vm._e(),_vm._v(\" \"),(index + 2 < _vm.flourContainerList.length)?_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"stock-box\"},[_c('div',{staticClass:\"stock-img\"}),_vm._v(\" \"),_c('div',{staticClass:\"stock-text\"},[_vm._v(_vm._s(_vm.flourContainerList[index + 2].holderName))]),_vm._v(\" \"),_c('div',{staticClass:\"clearfix\"}),_vm._v(\" \"),(_vm.isRedact && (_vm.inStorageState != 'submit' && _vm.inStorageState != 'checked'))?_c('div',{staticClass:\"stock-button enabled\",on:{\"click\":function($event){return _vm.addNewRecord(_vm.flourContainerList[index + 2].holderId, _vm.flourContainerList[index + 2].holderName)}}},[_vm._v(\" 入罐\")]):_c('div',{staticClass:\"stock-button disabled\"},[_vm._v(\" 入罐\")])])]):_vm._e(),_vm._v(\" \"),(index + 3 < _vm.flourContainerList.length)?_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"stock-box\"},[_c('div',{staticClass:\"stock-img\"}),_vm._v(\" \"),_c('div',{staticClass:\"stock-text\"},[_vm._v(_vm._s(_vm.flourContainerList[index + 3].holderName))]),_vm._v(\" \"),_c('div',{staticClass:\"clearfix\"}),_vm._v(\" \"),(_vm.isRedact && (_vm.inStorageState != 'submit' && _vm.inStorageState != 'checked'))?_c('div',{staticClass:\"stock-button enabled\",on:{\"click\":function($event){return _vm.addNewRecord(_vm.flourContainerList[index + 3].holderId, _vm.flourContainerList[index + 3].holderName)}}},[_vm._v(\" 入罐\")]):_c('div',{staticClass:\"stock-button disabled\"},[_vm._v(\" 入罐\")])])]):_vm._e()],1):_vm._e()}),1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin-top\":\"20px\"}},[_c('el-col',[_c('el-table',{attrs:{\"header-row-class-name\":\"tableHead\",\"data\":_vm.wheatDataList,\"border\":\"\",\"tooltip-effect\":\"dark\",\"row-class-name\":_vm.rowDelFlag},on:{\"row-dblclick\":_vm.modifyOldRecord}},[_c('el-table-column',{attrs:{\"label\":\"日期\",\"width\":\"130\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                  \"+_vm._s(_vm._f(\"formatDate\")(scope.row.inPortDate))+\"\\n                \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"麦粉计量仓\",\"show-overflow-tooltip\":true,\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                  \"+_vm._s(scope.row.flourDeviceName)+\"\\n                \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"80\",\"label\":\"粮仓\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                  \"+_vm._s(scope.row.wheatDeviceName)+\"\\n                \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"90\",\"label\":\"起始\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                  \"+_vm._s(scope.row.startWeight)+\"\\n                \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"结束\",\"width\":\"90\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.endWeight))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"入库数\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.inPortWeight))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"单位\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.weightUnit = 'kg'))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"入库批次\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.inPortBatch))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作人员\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.changer))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作时间\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.changed))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\",\"size\":\"small\",\"disabled\":!_vm.isRedact || scope.row.status === 'submit' || scope.row.status === 'checked'},on:{\"click\":function($event){return _vm.dellistbomS(scope.row)}}})]}}])})],1)],1)],1)],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('auditLog',{attrs:{\"tableData\":_vm.readAudit}})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":this.stockForm.flourDeviceName,\"visible\":_vm.dialogFormVisible,\"width\":\"450px\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"stockForm\",attrs:{\"model\":_vm.stockForm,\"rules\":_vm.dataRule}},[_c('el-form-item',{attrs:{\"label\":\"粮仓\",\"label-width\":_vm.formLabelWidth,\"required\":\"\",\"prop\":\"wheatDeviceId\"}},[_c('el-select',{staticStyle:{\"width\":\"220px\"},attrs:{\"value-key\":\"wheatDeviceId\",\"placeholder\":\"请选择粮仓\",\"disabled\":!_vm.isRedact},on:{\"change\":_vm.changeWheatContainer},model:{value:(_vm.stockForm.wheatDeviceId),callback:function ($$v) {_vm.$set(_vm.stockForm, \"wheatDeviceId\", $$v)},expression:\"stockForm.wheatDeviceId\"}},_vm._l((_vm.wheatContainerList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.holderName,\"value\":item.holderId}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"起始(KG)\",\"label-width\":_vm.formLabelWidth,\"required\":\"\",\"prop\":\"startWeight\"}},[_c('el-input',{staticStyle:{\"width\":\"220px\"},attrs:{\"tyle\":\"number\",\"disabled\":!_vm.isRedact},model:{value:(_vm.stockForm.startWeight),callback:function ($$v) {_vm.$set(_vm.stockForm, \"startWeight\", _vm._n($$v))},expression:\"stockForm.startWeight\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"结束(KG)\",\"label-width\":_vm.formLabelWidth,\"required\":\"\",\"prop\":\"endWeight\"}},[_c('el-input',{staticStyle:{\"width\":\"220px\"},attrs:{\"tyle\":\"number\",\"disabled\":!_vm.isRedact},model:{value:(_vm.stockForm.endWeight),callback:function ($$v) {_vm.$set(_vm.stockForm, \"endWeight\", _vm._n($$v))},expression:\"stockForm.endWeight\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"入库批次\",\"label-width\":_vm.formLabelWidth,\"required\":\"\",\"prop\":\"inPortBatch\"}},[_c('el-input',{staticStyle:{\"width\":\"220px\"},attrs:{\"maxlength\":\"10\",\"disabled\":!_vm.isRedact},model:{value:(_vm.stockForm.inPortBatch),callback:function ($$v) {_vm.$set(_vm.stockForm, \"inPortBatch\", $$v)},expression:\"stockForm.inPortBatch\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"操作时间\",\"label-width\":_vm.formLabelWidth}},[_c('label',[_vm._v(_vm._s(_vm.stockForm.changed))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"操作人\",\"label-width\":_vm.formLabelWidth}},[_c('label',[_vm._v(_vm._s(_vm.stockForm.changer))])])],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"disabled\":!_vm.isRedact},on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.isRedact},on:{\"click\":function($event){return _vm.cacheStockData()}}},[_vm._v(\"保存\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-66f9d5bc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/page/DataEntry/FryWheat/common/inStock1.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-66f9d5bc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./inStock1.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./inStock1.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./inStock1.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-66f9d5bc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./inStock1.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-66f9d5bc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/page/DataEntry/FryWheat/common/inStock1.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}