webpackJsonp([128],{IbNQ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("P9l9"),r={name:"ParameterAddorUpdate",props:{factoryList:Array},data:function(){return{id:!1,dataForm:{factory:"",deptName:"",type:"",name:"",code:"",value:""},visible:!1,type:!0,submitType:!0}},mounted:function(){},methods:{init:function(t,e,a){this.type="type"===t,e?(this.id=e,this.dataForm=e):(this.id=!1,this.dataForm={}),a&&(this.dataForm=a),this.visible=!0},dataFormSubmit:function(){var t=this;this.submitType&&(this.submitType=!1,this.$http(""+(this.id?o.k.PARAMETERUPDATE_API:o.k.PARAMETERADD_API),"POST",this.dataForm).then(function(e){var a=e.data;0===a.code?(t.dataForm={},t.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){t.submitType=!0,t.visible=!1,t.$emit("refreshDataList")}})):(t.submitType=!0,t.$message.error(a.msg))}))},getFactoryList:function(){var t=this;this.$http(o.c.FINDORG_API+"?code=factory","POST",{},!1,!1,!1).then(function(e){0===e.data.code?t.factoryList=e.data.typeList:t.$message.error(e.data.msg)})},changeFactory:function(t){var e=this.factoryList.find(function(e){return e.deptId===t});e&&(this.dataForm.deptName=e.deptName)}},computed:{},components:{}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.type?t.id?"修改类型":"新增类型":t.id?"修改参数":"新增参数","close-on-click-modal":!1,visible:t.visible},on:{"update:visible":function(e){t.visible=e}}},[a("div",{staticStyle:{height:"330px",overflow:"auto"}},[a("el-form",{ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataForm,"label-width":"125px"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.dataFormSubmit()}}},[a("el-form-item",{attrs:{label:"工厂："}},[t.type?t._e():a("span",[t._v(t._s(t.dataForm.deptName))]),t._v(" "),t.type?a("el-select",{on:{change:t.changeFactory},model:{value:t.dataForm.factory,callback:function(e){t.$set(t.dataForm,"factory",e)},expression:"dataForm.factory"}},t._l(t.factoryList,function(t){return a("el-option",{key:t.deptId,attrs:{label:t.deptName,value:t.deptId}})}),1):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"参数类型编码："}},[t.type?t._e():a("span",[t._v(t._s(t.dataForm.type))]),t._v(" "),t.type?a("el-input",{attrs:{placeholder:"手动输入"},model:{value:t.dataForm.type,callback:function(e){t.$set(t.dataForm,"type",e)},expression:"dataForm.type"}}):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"参数类型名称："}},[t.type?t._e():a("span",[t._v(t._s(t.dataForm.name))]),t._v(" "),t.type?a("el-input",{attrs:{placeholder:"手动输入"},model:{value:t.dataForm.name,callback:function(e){t.$set(t.dataForm,"name",e)},expression:"dataForm.name"}}):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"参数编码："}},[a("el-input",{attrs:{placeholder:"手动输入"},model:{value:t.dataForm.code,callback:function(e){t.$set(t.dataForm,"code",e)},expression:"dataForm.code"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"参数名称："}},[a("el-input",{attrs:{placeholder:"手动输入"},model:{value:t.dataForm.value,callback:function(e){t.$set(t.dataForm,"value",e)},expression:"dataForm.value"}})],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.visible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.dataFormSubmit()}}},[t._v("确定")])],1)])},staticRenderFns:[]};var s=a("C7Lr")(r,i,!1,function(t){a("d7L1")},"data-v-02d62ddc",null);e.default=s.exports},d7L1:function(t,e){}});
//# sourceMappingURL=128.a1d28d217e7eb03a161b.js.map