webpackJsonp([52],{"7DSj":function(t,e){},KDu1:function(t,e){},QjAN:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,a=o("P9l9"),s=o("Lna1"),i=o("jO17"),n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),m=this&&this.__decorate||function(t,e,o,r){var a,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var n=t.length-1;n>=0;n--)(a=t[n])&&(i=(s<3?a(i):s>3?a(e,o,i):a(e,o))||i);return s>3&&i&&Object.defineProperty(e,o,i),i},l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.params=JSON.parse(JSON.stringify(e.$store.state.common.SqueezeWorkshop)),e.factoryList=[],e.workshopList=[],e.productlineList=[],e.dataList=[],e.sdList=[],e.availableMap=new Map,e.matchedMap=new Map,e.fermentPotList=[],e.searched=!1,e.disabled=!0,e.dialogFormVisible=!1,e.dialogFormVisible2=!1,e.dialogFormVisible3=!1,e.formLabelWidth="130px",e.startForm={deviceId:"",deviceName:"",fermentPotNo:"",fermentPotName:"",orderId:"",batch:"",remainAmount:0,remainAmountUnit:"L",startAmount:0,storageAmount:0,productLine:"",productLineName:"",changed:"",changer:""},e.endForm={deviceId:"",deviceName:"",fermentPotNo:"",fermentPotName:"",orderId:"",batch:"",remainAmount:0,endAmount:0,productLine:"",productLineName:"",remark:"",changed:"",changer:""},e.modifyForm={id:"",recordId:"",deviceId:"",deviceName:"",fermentPotNo:"",fermentPotName:"",orderId:"",batch:"",remainAmount:0,remainAmountUnit:"L",startAmount:0,storageAmount:0,endAmount:0,remark:"",productLine:"",productLineName:"",changed:"",changer:""},e}return n(e,t),e.prototype.mounted=function(){this.params.applyDate=Object(s.c)(new Date,"yyyy-MM-dd"),this.getFactory(),this.getWorkshop(this.params.factoryId),this.getProductLine(this.params.workshopId),this.getFermentPot(this.params.factoryId)},e.prototype.isAuth=function(t){return i.b.prototype.isAuth(t)},Object.defineProperty(e.prototype,"mainTabs",{get:function(){return this.$store.state.common.mainTabs},set:function(t){this.$store.commit("common/updateMainTabs",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orderStatus",{get:function(){return this.dataList&&this.dataList.length>0?this.dataList[0].status:""},enumerable:!0,configurable:!0}),e.prototype.modifyRecord=function(t){this.disabled||"submit"===t.status||"checked"===t.status||(this.modifyForm={id:t.id?t.id:"id",recordId:t.recordId?t.recordId:"record",deviceId:t.storagePotNo,deviceName:t.storagePotName,fermentPotNo:t.fermentPotNo?t.fermentPotNo:"",fermentPotName:t.fermentPotName?t.fermentPotName:"",orderId:t.orderId?t.orderId:"",batch:t.batch?t.batch:"",remainAmount:t.remainAmount?t.remainAmount:0,remainAmountUnit:t.remainAmountUnit?t.remainAmountUnit:"L",startAmount:t.startAmount?t.startAmount:0,storageAmount:t.storageAmount?t.storageAmount:0,endAmount:t.endAmount?t.endAmount:0,remark:t.remark?t.remark:"",productLine:t.productLine,productLineName:t.productLineName,changed:Object(s.c)(new Date,"yyyy-MM-dd h:m:s"),changer:this.$store.state.user.realName+"("+this.$store.state.user.name+")"},this.dialogFormVisible3=!0)},e.prototype.saveModify=function(){var t=this;if(this.modifyValidate()){var e=this.dataList.find(function(e){return e.id===t.modifyForm.id});e||(e=this.dataList.find(function(e){return e.recordId===t.modifyForm.recordId})),e&&Object.assign(e,{fermentPotNo:this.modifyForm.fermentPotNo,fermentPotName:this.modifyForm.fermentPotName,orderId:this.modifyForm.orderId,batch:this.modifyForm.batch,remainAmount:this.modifyForm.remainAmount,remainAmountUnit:this.modifyForm.remainAmountUnit,startAmount:this.modifyForm.startAmount,storageAmount:this.modifyForm.storageAmount,endAmount:this.modifyForm.endAmount,amount:this.modifyForm.endAmount-this.modifyForm.startAmount,remark:this.modifyForm.remark,changed:this.modifyForm.changed,changer:this.modifyForm.changer}),this.dialogFormVisible3=!1}},e.prototype.inPotStart=function(t,e){this.startForm={deviceId:t,deviceName:e,fermentPotNo:"",fermentPotName:"",orderId:"",batch:"",remainAmount:0,remainAmountUnit:"L",startAmount:0,storageAmount:0,productLine:this.params.productLineId,productLineName:this.params.productLineName,changed:Object(s.c)(new Date,"yyyy-MM-dd h:m:s"),changer:this.$store.state.user.realName+"("+this.$store.state.user.name+")"},this.dialogFormVisible=!0},e.prototype.saveStart=function(){if(this.startValidate()){var t=i.b.prototype.uuid();this.availableMap.set(this.startForm.deviceId,"1"),this.matchedMap.set(this.startForm.deviceId,t);var e={recordId:t,factory:this.params.factoryId,workShop:this.params.workshopId,productLine:this.params.productLineId,storagePotNo:this.startForm.deviceId,fermentPotNo:this.startForm.fermentPotNo,orderId:this.startForm.orderId,batch:this.startForm.batch,remainAmount:this.startForm.remainAmount,remainAmountUnit:this.startForm.remainAmountUnit,startAmount:this.startForm.startAmount,endAmount:null,amount:null,storageAmount:this.startForm.storageAmount,unit:null,remark:null,delFlag:0,changed:this.startForm.changed,changer:this.startForm.changer,productLineName:this.params.productLineName,storagePotName:this.startForm.deviceName,fermentPotName:this.startForm.fermentPotName};this.dataList.push(e),this.dialogFormVisible=!1}},e.prototype.inPotEnd=function(t,e){var o=this.matchedMap.get(t),r=this.dataList.find(function(t){return t.recordId===o});r&&(this.endForm={deviceId:t,deviceName:e,fermentPotNo:r.fermentPotNo,fermentPotName:r.fermentPotName,orderId:r.orderId,batch:r.batch,remainAmount:r.remainAmount,endAmount:r.endAmount?r.endAmount:0,productLine:r.productLine,productLineName:r.productLineName,remark:r.remark?r.remark:"",changed:Object(s.c)(new Date,"yyyy-MM-dd h:m:s"),changer:this.$store.state.user.realName+"("+this.$store.state.user.name+")"}),this.dialogFormVisible2=!0},e.prototype.saveEnd=function(){if(""===this.endForm.endAmount.toString())return this.$message.error("结束数不能为空"),!1;this.availableMap.set(this.endForm.deviceId,"0");var t=this.matchedMap.get(this.endForm.deviceId),e=this.dataList.find(function(e){return e.recordId===t});e&&Object.assign(e,{endAmount:this.endForm.endAmount,amount:this.endForm.endAmount-e.startAmount,remark:this.endForm.remark,changed:this.endForm.changed,changer:this.endForm.changer}),this.dialogFormVisible2=!1},e.prototype.startValidate=function(){return""===this.startForm.fermentPotNo?(this.$message.error("领用发酵罐不能为空"),!1):""===this.startForm.batch?(this.$message.error("批次不能为空"),!1):""!==this.startForm.startAmount.toString()||(this.$message.error("起始数不能为空"),!1)},e.prototype.modifyValidate=function(){return""===this.modifyForm.fermentPotNo?(this.$message.error("领用发酵罐不能为空"),!1):""===this.modifyForm.batch?(this.$message.error("批次不能为空"),!1):""===this.modifyForm.startAmount.toString()?(this.$message.error("起始数不能为空"),!1):""!==this.modifyForm.endAmount.toString()||(this.$message.error("结束数不能为空"),!1)},e.prototype.changeOptions=function(t){var e=this;if("factory"===t){var o=this.factoryList.find(function(t){return t.deptId===e.params.factoryId});this.params.factoryName=o?o.deptName:""}else if("workshop"===t){o=this.workshopList.find(function(t){return t.deptId===e.params.workshopId});this.params.workshopName=o?o.deptName:""}else if("productline"===t){o=this.productlineList.find(function(t){return t.deptId===e.params.productLineId});this.params.productLineName=o?o.deptName:""}else if("fermentPotStart"===t){o=this.fermentPotList.find(function(t){return t.holderId===e.startForm.fermentPotNo});this.startForm.fermentPotName=o?o.holderName:"",this.startForm.orderId=o?o.orderId:""}else if("fermentPotModify"===t){o=this.fermentPotList.find(function(t){return t.holderId===e.modifyForm.fermentPotNo});this.modifyForm.fermentPotName=o?o.holderName:"",this.modifyForm.orderId=o?o.orderId:"",this.modifyForm.remainAmount=0,this.modifyForm.remainAmountUnit="L",this.modifyForm.batch="",this.getRemanAmountModify(this.params.workshopId,this.modifyForm.fermentPotNo,this.modifyForm.orderId)}},e.prototype.getFactory=function(){var t=this;this.factoryList=[],i.b.prototype.$http(a.c.FINDORG_API+"?code=factory","POST",{},!1,!1,!1).then(function(e){0===e.data.code?t.factoryList=e.data.typeList:t.$message.error(e.data.msg)})},e.prototype.getWorkshop=function(t){var e=this;this.workshopList=[],t&&i.b.prototype.$http(""+a.c.FINDORGBYID_API,"POST",{deptId:t,deptName:"压榨"},!1,!1,!1).then(function(t){0===t.data.code?e.workshopList=t.data.typeList:e.$message.error(t.data.msg)})},e.prototype.getProductLine=function(t){var e=this;this.productlineList=[],t&&i.b.prototype.$http(""+a.c.FINDORGBYPARENTID_API,"POST",{parentId:t,deptType:"proLine"},!1,!1,!1).then(function(t){var o=t.data;0===o.code?e.productlineList=o.childList:e.$message.error(o.msg)})},e.prototype.getFermentPot=function(t){var e=this;this.fermentPotList=[],t&&i.b.prototype.$http(""+a.j.MATERIAL_APPLY_POT_LIST_API,"POST",{factory:t},!1,!1,!1).then(function(t){0===t.data.code?e.fermentPotList=t.data.num:e.$message.error(t.data.msg)})},e.prototype.getRemanAmountStart=function(t,e,o){var r=this;i.b.prototype.$http(""+a.j.MATERIAL_APPLY_REMAIN_AMOUNT_API,"POST",{workShop:t,potNo:e,orderId:o},!1,!1,!1).then(function(t){0===t.data.code?(r.startForm.remainAmount=t.data.psp&&t.data.psp.remainAmount?t.data.psp.remainAmount:0,r.startForm.remainAmountUnit=t.data.psp&&t.data.psp.remainAmountUnit?t.data.psp.remainAmountUnit:"L",r.startForm.batch=t.data.psp&&t.data.psp.batch?t.data.psp.batch:""):r.$message.error(t.data.msg)})},e.prototype.getRemanAmountModify=function(t,e,o){var r=this;i.b.prototype.$http(""+a.j.MATERIAL_APPLY_REMAIN_AMOUNT_API,"POST",{workShop:t,potNo:e,orderId:o},!1,!1,!1).then(function(t){0===t.data.code?(r.modifyForm.remainAmount=t.data.psp&&t.data.psp.remainAmount?t.data.psp.remainAmount:0,r.modifyForm.remainAmountUnit=t.data.psp&&t.data.psp.remainAmountUnit?t.data.psp.remainAmountUnit:"L",r.modifyForm.batch=t.data.psp&&t.data.psp.batch?t.data.psp.batch:""):r.$message.error(t.data.msg)})},e.prototype.setDisabled=function(t){this.disabled=t},e.prototype.setStore=function(t){this.$store.commit("common/updateSqueezeWorkshop",t)},e.prototype.getOrderList=function(){if(""!==this.params.factoryId)if(""!==this.params.workshopId)if(""!==this.params.productLineId)if(null!==this.params.applyDate&&""!==this.params.applyDate){this.setStore(this.params),this.searched=!0;var t={factory:this.params.factoryId,workShop:this.params.workshopId,productLine:this.params.productLineId,created:this.params.applyDate};this.retrieveOrderList(t)}else this.$message.error("请选择领用日期");else this.$message.error("请选择布浆线");else this.$message.error("请选择车间");else this.$message.error("请选择工厂")},e.prototype.retrieveOrderList=function(t){var e=this;this.dataList=[],this.sdList=[],this.availableMap.clear(),this.matchedMap.clear(),i.b.prototype.$http(""+a.j.MATERIAL_APPLY_LIST_API,"POST",t).then(function(t){0===t.data.code?(e.dataList=t.data.list,e.sdList=t.data.sdList,e.sdList.forEach(function(t){return e.availableMap.set(t.deviceId,"0")})):e.$message.error(t.data.msg)})},e.prototype.save=function(){var t=this;this.dataList.map(function(t){"submit"!==t.status&&"checked"!==t.status&&(t.status="saved")}),i.b.prototype.$http(""+a.j.MATERIAL_APPLY_UPDATE_API,"POST",this.dataList).then(function(e){0===e.data.code?(t.$message.success("保存成功"),t.getFermentPot(t.params.factoryId),t.getOrderList()):t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("保存失败: "+e)})},e.prototype.submit=function(){var t=this;this.dataList.map(function(t){"checked"!==t.status&&(t.status="submit")}),i.b.prototype.$http(""+a.j.MATERIAL_APPLY_UPDATE_API,"POST",this.dataList).then(function(e){0===e.data.code?(t.$message.success("提交成功"),t.getFermentPot(t.params.factoryId),t.getOrderList()):t.$message.error(e.data.msg)}).catch(function(e){t.$message.error("提交失败: "+e)})},e.prototype.onChangeValue=function(t,e){this.searched=!1,this.disabled=!0},e.prototype.onFactoryValue=function(t,e){this.params.workshopId="",this.params.workshopName="",this.getWorkshop(t),this.getFermentPot(t)},e.prototype.onChangeWorkshop=function(t,e){this.params.productLineId="",this.params.productLineName="",this.getProductLine(t)},e.prototype.onChangeFerment=function(t,e){this.startForm.remainAmount=0,this.startForm.remainAmountUnit="L",this.startForm.batch="",this.getRemanAmountStart(this.params.workshopId,t,this.startForm.orderId)},m([Object(i.c)("params",{deep:!0})],e.prototype,"onChangeValue",null),m([Object(i.c)("params.factoryId")],e.prototype,"onFactoryValue",null),m([Object(i.c)("params.workshopId")],e.prototype,"onChangeWorkshop",null),m([Object(i.c)("startForm.fermentPotNo")],e.prototype,"onChangeFerment",null),e=m([Object(i.a)({components:{}})],e)}(i.b),d={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-row",[o("el-col",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.lodingStatus,expression:"lodingStatus",modifiers:{fullscreen:!0,lock:!0}}],attrs:{"element-loading-text":"加载中"}},[o("div",{staticClass:"main"},[o("el-card",{staticClass:"newCard"},[o("el-row",{attrs:{type:"flex"}},[o("el-col",[o("el-form",{attrs:{model:t.params,size:"small",inline:!0,"label-position":"right"}},[o("el-form-item",{attrs:{label:"生产工厂："}},[o("el-select",{staticStyle:{width:"150px"},on:{change:function(e){return t.changeOptions("factory")}},model:{value:t.params.factoryId,callback:function(e){t.$set(t.params,"factoryId",e)},expression:"params.factoryId"}},[o("el-option",{attrs:{label:"请选择",value:""}}),t._v(" "),t._l(t.factoryList,function(t){return o("el-option",{key:t.deptId,attrs:{label:t.deptName,value:t.deptId}})})],2)],1),t._v(" "),o("el-form-item",{attrs:{label:"生产车间："}},[o("el-select",{staticStyle:{width:"150px"},on:{change:function(e){return t.changeOptions("workshop")}},model:{value:t.params.workshopId,callback:function(e){t.$set(t.params,"workshopId",e)},expression:"params.workshopId"}},[o("el-option",{attrs:{label:"请选择",value:""}}),t._v(" "),t._l(t.workshopList,function(t){return o("el-option",{key:t.deptId,attrs:{label:t.deptName,value:t.deptId}})})],2)],1),t._v(" "),o("el-form-item",{attrs:{label:"布浆线："}},[o("el-select",{staticStyle:{width:"150px"},on:{change:function(e){return t.changeOptions("productline")}},model:{value:t.params.productLineId,callback:function(e){t.$set(t.params,"productLineId",e)},expression:"params.productLineId"}},[o("el-option",{attrs:{label:"请选择",value:""}}),t._v(" "),t._l(t.productlineList,function(t){return o("el-option",{key:t.deptId,attrs:{label:t.deptName,value:t.deptId}})})],2)],1),t._v(" "),o("el-form-item",{attrs:{label:"领用日期："}},[o("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:t.params.applyDate,callback:function(e){t.$set(t.params,"applyDate",e)},expression:"params.applyDate"}})],1)],1)],1)],1),t._v(" "),o("el-row",{staticClass:"rowButton",staticStyle:{display:"flex","justify-content":"flex-end"}},[t.isAuth("prs:material:list")?o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.getOrderList()}}},[t._v("查询")]):t._e(),t._v(" "),t.isAuth("prs:material:mySaveOrUpdate")&&t.searched&&"submit"!==t.orderStatus&&"checked"!==t.orderStatus?o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.setDisabled(!t.disabled)}}},[t._v(t._s(t.disabled?"编辑":"返回"))]):t._e(),t._v(" "),t.isAuth("prs:material:mySaveOrUpdate")&&t.searched&&!t.disabled&&"submit"!==t.orderStatus&&"checked"!==t.orderStatus?o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.save()}}},[t._v("保存")]):t._e(),t._v(" "),t.isAuth("prs:material:mySaveOrUpdate")&&t.searched&&!t.disabled&&"submit"!==t.orderStatus&&"checked"!==t.orderStatus?o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.submit()}}},[t._v("提交")]):t._e()],1)],1),t._v(" "),t.searched?o("el-row",{staticStyle:{"margin-top":"10px","background-color":"#fff"}},[o("el-col",{attrs:{span:24}},[o("el-row",{staticStyle:{"margin-top":"20px"},attrs:{type:"flex",justify:"center"}},t._l(t.sdList,function(e,r){return o("div",{key:r,staticClass:"pot-box"},[o("div",{staticClass:"pot-box-header"},[o("span",{staticClass:"pot-box-title",staticStyle:{"margin-left":"5px"}},[t._v(t._s(e.deviceName))]),t._v(" "),o("span",{staticClass:"pot-box-title",staticStyle:{float:"right","margin-right":"5px"}},[t._v(t._s("0"===t.availableMap.get(e.deviceId)?"待领用":"1"===t.availableMap.get(e.deviceId)?"领用中":"不可用"))])]),t._v(" "),o("div",{staticClass:"pot-box-container img"}),t._v(" "),o("div",{staticClass:"pot-box-footer"},[t.disabled||"0"!==t.availableMap.get(e.deviceId)||"submit"===t.orderStatus||"checked"===t.orderStatus?o("div",{staticClass:"pot-box-button-disabled"},[o("span",{staticClass:"pot-box-button-title-disabled"},[t._v("入罐开始")])]):o("div",{staticClass:"pot-box-button",on:{click:function(o){return t.inPotStart(e.deviceId,e.deviceName)}}},[o("span",{staticClass:"pot-box-button-title"},[t._v("入罐开始")])]),t._v(" "),t.disabled||"1"!==t.availableMap.get(e.deviceId)||"submit"===t.orderStatus||"checked"===t.orderStatus?o("div",{staticClass:"pot-box-button-disabled"},[o("span",{staticClass:"pot-box-button-title-disabled"},[t._v("入罐结束")])]):o("div",{staticClass:"pot-box-button",on:{click:function(o){return t.inPotEnd(e.deviceId,e.deviceName)}}},[o("span",{staticClass:"pot-box-button-title"},[t._v("入罐结束")])])])])}),0),t._v(" "),o("el-row",[o("el-table",{attrs:{"header-row-class-name":"tableHead",data:t.dataList,border:"","tooltip-effect":"dark"},on:{"row-dblclick":t.modifyRecord}},[o("el-table-column",{attrs:{type:"index",label:"序号",width:"55"}}),t._v(" "),o("el-table-column",{attrs:{label:"布浆线","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.row.productLineName)+"\n                ")]}}],null,!1,3699708863)}),t._v(" "),o("el-table-column",{attrs:{label:"暂存罐","show-overflow-tooltip":!0,width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.row.storagePotName)+"\n                ")]}}],null,!1,1965030184)}),t._v(" "),o("el-table-column",{attrs:{label:"发酵罐号","show-overflow-tooltip":!0,width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.row.fermentPotName)+"\n                ")]}}],null,!1,2267067794)}),t._v(" "),o("el-table-column",{attrs:{label:"批次","show-overflow-tooltip":!0,width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.row.batch)+"\n                ")]}}],null,!1,3620455777)}),t._v(" "),o("el-table-column",{attrs:{label:"发酵剩余量",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.row.remainAmount)+"\n                ")]}}],null,!1,3410858381)}),t._v(" "),o("el-table-column",{attrs:{label:"起始数"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.row.startAmount)+"\n                ")]}}],null,!1,2063670929)}),t._v(" "),o("el-table-column",{attrs:{label:"终止数"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.row.endAmount)+"\n                ")]}}],null,!1,2111248958)}),t._v(" "),o("el-table-column",{attrs:{label:"打料数"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.row.amount)+"\n                ")]}}],null,!1,3458286065)}),t._v(" "),o("el-table-column",{attrs:{label:"暂存剩余量",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.row.storageAmount)+"\n                ")]}}],null,!1,2314211784)}),t._v(" "),o("el-table-column",{attrs:{label:"单位"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.row.unit)+"\n                ")]}}],null,!1,283121339)}),t._v(" "),o("el-table-column",{attrs:{label:"备注"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.row.remark)+"\n                ")]}}],null,!1,424289631)}),t._v(" "),o("el-table-column",{attrs:{label:"操作时间",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.row.changed)+"\n                ")]}}],null,!1,3526534687)}),t._v(" "),o("el-table-column",{attrs:{label:"操作人",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.row.changer)+"\n                ")]}}],null,!1,1154372425)})],1)],1)],1)],1):t._e()],1),t._v(" "),o("el-dialog",{attrs:{visible:t.dialogFormVisible,width:"500px","custom-class":"dialog__class"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[o("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[o("span",[t._v(t._s(t.startForm.deviceName)+"开始")])]),t._v(" "),o("div",[o("el-form",{ref:"startForm",attrs:{model:t.startForm,"label-width":t.formLabelWidth,size:"small"}},[o("el-form-item",{attrs:{label:"领用发酵罐：",required:""}},[o("el-select",{staticStyle:{width:"220px"},attrs:{"value-key":"holderId",placeholder:"请选择",filterable:""},on:{change:function(e){return t.changeOptions("fermentPotStart")}},model:{value:t.startForm.fermentPotNo,callback:function(e){t.$set(t.startForm,"fermentPotNo",e)},expression:"startForm.fermentPotNo"}},t._l(t.fermentPotList,function(t,e){return o("el-option",{key:e,attrs:{label:t.holderName,value:t.holderId}})}),1)],1),t._v(" "),o("el-form-item",{attrs:{label:"批次：",required:""}},[o("el-input",{staticStyle:{width:"220px"},model:{value:t.startForm.batch,callback:function(e){t.$set(t.startForm,"batch","string"==typeof e?e.trim():e)},expression:"startForm.batch"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"发酵罐剩余量："}},[o("el-input",{staticStyle:{width:"220px"},attrs:{type:"number"},model:{value:t.startForm.remainAmount,callback:function(e){t.$set(t.startForm,"remainAmount",t._n(e))},expression:"startForm.remainAmount"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"起始数(方)：",required:""}},[o("el-input",{staticStyle:{width:"220px"},attrs:{type:"number"},model:{value:t.startForm.startAmount,callback:function(e){t.$set(t.startForm,"startAmount",t._n(e))},expression:"startForm.startAmount"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"暂存量(L)："}},[o("el-input",{staticStyle:{width:"220px"},attrs:{type:"number"},model:{value:t.startForm.storageAmount,callback:function(e){t.$set(t.startForm,"storageAmount",t._n(e))},expression:"startForm.storageAmount"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"对应布浆线："}},[o("label",[t._v(t._s(t.startForm.productLineName))])]),t._v(" "),o("el-form-item",{attrs:{label:"操作时间："}},[o("label",[t._v(t._s(t.startForm.changed))])]),t._v(" "),o("el-form-item",{attrs:{label:"操作人："}},[o("label",[t._v(t._s(t.startForm.changer))])])],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticStyle:{color:"#000000","background-color":"#FFFFFF","border-color":"#D9D9D9"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")]),t._v(" "),o("el-button",{staticStyle:{"background-color":"#1890FF",color:"#FFFFFF","border-color":"#1890FF"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.saveStart()}}},[t._v("保存")])],1)]),t._v(" "),o("el-dialog",{attrs:{visible:t.dialogFormVisible2,width:"500px","custom-class":"dialog__class"},on:{"update:visible":function(e){t.dialogFormVisible2=e}}},[o("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[o("span",[t._v(t._s(t.endForm.deviceName)+"结束")])]),t._v(" "),o("div",[o("el-form",{ref:"endForm",attrs:{model:t.endForm,"label-width":t.formLabelWidth,size:"small"}},[o("el-form-item",{attrs:{label:"领用发酵罐：",required:""}},[t._v("\n            "+t._s(t.endForm.fermentPotName)+"\n          ")]),t._v(" "),o("el-form-item",{attrs:{label:"批次：",required:""}},[t._v("\n            "+t._s(t.endForm.batch)+"\n          ")]),t._v(" "),o("el-form-item",{attrs:{label:"发酵罐剩余量："}},[t._v("\n            "+t._s(t.endForm.remainAmount)+"\n          ")]),t._v(" "),o("el-form-item",{attrs:{label:"打料结束数(L)：",required:""}},[o("el-input",{staticStyle:{width:"220px"},attrs:{type:"number"},model:{value:t.endForm.endAmount,callback:function(e){t.$set(t.endForm,"endAmount",t._n(e))},expression:"endForm.endAmount"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"对应布浆线："}},[o("label",[t._v(t._s(t.endForm.productLineName))])]),t._v(" "),o("el-form-item",{attrs:{label:"备注："}},[o("el-input",{staticStyle:{width:"220px"},model:{value:t.endForm.remark,callback:function(e){t.$set(t.endForm,"remark","string"==typeof e?e.trim():e)},expression:"endForm.remark"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"操作时间："}},[o("label",[t._v(t._s(t.endForm.changed))])]),t._v(" "),o("el-form-item",{attrs:{label:"操作人："}},[o("label",[t._v(t._s(t.endForm.changer))])])],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticStyle:{color:"#000000","background-color":"#FFFFFF","border-color":"#D9D9D9"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.dialogFormVisible2=!1}}},[t._v("取消")]),t._v(" "),o("el-button",{staticStyle:{"background-color":"#1890FF",color:"#FFFFFF","border-color":"#1890FF"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.saveEnd()}}},[t._v("保存")])],1)]),t._v(" "),o("el-dialog",{attrs:{visible:t.dialogFormVisible3,width:"500px","custom-class":"dialog__class"},on:{"update:visible":function(e){t.dialogFormVisible3=e}}},[o("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[o("span",[t._v("入罐修改")])]),t._v(" "),o("div",[o("el-form",{ref:"modifyForm",attrs:{model:t.modifyForm,"label-width":t.formLabelWidth,size:"small"}},[o("el-form-item",{attrs:{label:"领用发酵罐：",required:""}},[o("el-select",{staticStyle:{width:"220px"},attrs:{"value-key":"holderId",placeholder:"请选择",filterable:""},on:{change:function(e){return t.changeOptions("fermentPotModify")}},model:{value:t.modifyForm.fermentPotNo,callback:function(e){t.$set(t.modifyForm,"fermentPotNo",e)},expression:"modifyForm.fermentPotNo"}},t._l(t.fermentPotList,function(t,e){return o("el-option",{key:e,attrs:{label:t.holderName,value:t.holderId}})}),1)],1),t._v(" "),o("el-form-item",{attrs:{label:"批次：",required:""}},[o("el-input",{staticStyle:{width:"220px"},model:{value:t.modifyForm.batch,callback:function(e){t.$set(t.modifyForm,"batch","string"==typeof e?e.trim():e)},expression:"modifyForm.batch"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"发酵罐剩余量："}},[o("el-input",{staticStyle:{width:"220px"},attrs:{type:"number"},model:{value:t.modifyForm.remainAmount,callback:function(e){t.$set(t.modifyForm,"remainAmount",t._n(e))},expression:"modifyForm.remainAmount"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"起始数(方)：",required:""}},[o("el-input",{staticStyle:{width:"220px"},attrs:{type:"number"},model:{value:t.modifyForm.startAmount,callback:function(e){t.$set(t.modifyForm,"startAmount",t._n(e))},expression:"modifyForm.startAmount"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"打料结束数(L)：",required:""}},[o("el-input",{staticStyle:{width:"220px"},attrs:{type:"number"},model:{value:t.modifyForm.endAmount,callback:function(e){t.$set(t.modifyForm,"endAmount",t._n(e))},expression:"modifyForm.endAmount"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"暂存量(L)："}},[o("el-input",{staticStyle:{width:"220px"},attrs:{type:"number"},model:{value:t.modifyForm.storageAmount,callback:function(e){t.$set(t.modifyForm,"storageAmount",t._n(e))},expression:"modifyForm.storageAmount"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"备注："}},[o("el-input",{staticStyle:{width:"220px"},model:{value:t.modifyForm.remark,callback:function(e){t.$set(t.modifyForm,"remark","string"==typeof e?e.trim():e)},expression:"modifyForm.remark"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"对应布浆线："}},[o("label",[t._v(t._s(t.modifyForm.productLineName))])]),t._v(" "),o("el-form-item",{attrs:{label:"操作时间："}},[o("label",[t._v(t._s(t.modifyForm.changed))])]),t._v(" "),o("el-form-item",{attrs:{label:"操作人："}},[o("label",[t._v(t._s(t.modifyForm.changer))])])],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticStyle:{color:"#000000","background-color":"#FFFFFF","border-color":"#D9D9D9"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.dialogFormVisible3=!1}}},[t._v("取消")]),t._v(" "),o("el-button",{staticStyle:{"background-color":"#1890FF",color:"#FFFFFF","border-color":"#1890FF"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.saveModify()}}},[t._v("保存")])],1)])],1)],1)},staticRenderFns:[]};var c=o("C7Lr")(l,d,!1,function(t){o("7DSj"),o("KDu1")},"data-v-3e8ff616",null);e.default=c.exports}});
//# sourceMappingURL=52.130f2625ff8acd38f3d7.js.map