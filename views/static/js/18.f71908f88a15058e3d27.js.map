{"version":3,"sources":["webpack:///src/views/components/table-tree-column/index.vue","webpack:///./src/views/components/table-tree-column/index.vue?59ee","webpack:///./src/views/components/table-tree-column/index.vue","webpack:///./node_modules/lodash/isArray.js","webpack:///src/views/page/SystemSetup/menu/menuAdd.vue","webpack:///./src/views/page/SystemSetup/menu/menuAdd.vue?4c51","webpack:///./src/views/page/SystemSetup/menu/menuAdd.vue","webpack:///src/views/page/SystemSetup/menu/menu.vue","webpack:///./src/views/page/SystemSetup/menu/menu.vue?a160","webpack:///./src/views/page/SystemSetup/menu/menu.vue"],"names":["table_tree_column","name","props","prop","type","String","treeKey","default","parentKey","levelKey","childKey","methods","childStyles","row","padding-left","this","iconClasses","_expanded","iconStyles","visibility","hasChild","isArray_default","length","toggleHandle","index","_this","data","$parent","store","states","slice","splice","concat","removeChildNode","commit","$nextTick","doLayout","parentId","parentIds","ids","i","indexOf","push","components_table_tree_column","render","_vm","_h","$createElement","_c","_self","_b","attrs","scopedSlots","_u","key","fn","scope","style","on","click","$event","preventDefault","$index","class","_v","_s","$attrs","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__","isArray","Array","module","exports","menuAdd","iconList","visible","dataForm","id","typeList","parentName","url","perms","orderNum","icon","dataRule","required","message","trigger","validator","rule","value","callback","test","Error","menuList","menuListTreeProps","label","children","submitType","mounted","init","_this2","console","log","$http","api","MENUSELECT_API","then","_ref","Object","validate","$refs","resetFields","MENUINFO_API","_ref2","menu","menuId","menuListTreeSetCurrentNode","menuListTreeCurrentChangeHandle","node","menuListTree","setCurrentKey","getCurrentNode","iconActiveHandle","iconName","dataFormSubmit","_this3","valid","MENUADD_API","MENUUPDATE_API","undefined","_ref3","code","$message","duration","onClose","$emit","error","msg","computed","components","menu_menuAdd","title","close-on-click-modal","update:visible","ref","model","rules","label-width","nativeOn","keyup","_k","keyCode","placeholder","$$v","$set","expression","_l","staticStyle","height","overflow","placement","node-key","default-expand-all","highlight-current","expand-on-click-node","current-change","directives","rawName","arg","staticClass","readonly","_e","controls-position","min","span","popper-class","item","is-active","font-size","slot","ssrContext","addOrUpdateVisible","dataList","getDataList","MENULIST_API","addOrUpdateHandle","addOrUpdate","deleteHandle","$confirm","confirmButtonText","cancelButtonText","MENUDEL_API","catch","TableTreeColumn","AddOrUpdate","menu_menu","modifiers","fullscreen","lock","element-loading-text","isAuth","margin-bottom","size","width","header-row-class-name","border","tooltip-effect","header-align","align","show-overflow-tooltip","fixed","padding","refreshDataList"],"mappings":"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","file":"static/js/18.f71908f88a15058e3d27.js","sourcesContent":["<template>\r\n  <el-table-column :prop=\"prop\" v-bind=\"$attrs\">\r\n    <template slot-scope=\"scope\">\r\n      <span @click.prevent=\"toggleHandle(scope.$index, scope.row)\" :style=\"childStyles(scope.row)\">\r\n        <i :class=\"iconClasses(scope.row)\" :style=\"iconStyles(scope.row)\"></i>\r\n        {{ scope.row[prop] }}\r\n      </span>\r\n    </template>\r\n  </el-table-column>\r\n</template>\r\n\r\n<script>\r\nimport isArray from 'lodash/isArray'\r\nexport default {\r\n  name: 'table-tree-column',\r\n  props: {\r\n    prop: {\r\n      type: String\r\n    },\r\n    treeKey: {\r\n      type: String,\r\n      default: 'id'\r\n    },\r\n    parentKey: {\r\n      type: String,\r\n      default: 'parentId'\r\n    },\r\n    levelKey: {\r\n      type: String,\r\n      default: '_level'\r\n    },\r\n    childKey: {\r\n      type: String,\r\n      default: 'children'\r\n    }\r\n  },\r\n  methods: {\r\n    childStyles (row) {\r\n      return { 'padding-left': (row[this.levelKey] > 1 ? row[this.levelKey] * 7 : 0) + 'px' }\r\n    },\r\n    iconClasses (row) {\r\n      return [ !row._expanded ? 'el-icon-caret-right' : 'el-icon-caret-bottom' ]\r\n    },\r\n    iconStyles (row) {\r\n      return { 'visibility': this.hasChild(row) ? 'visible' : 'hidden' }\r\n    },\r\n    hasChild (row) {\r\n      return (isArray(row[this.childKey]) && row[this.childKey].length >= 1) || false\r\n    },\r\n    // 切换处理\r\n    toggleHandle (index, row) {\r\n      if (this.hasChild(row)) {\r\n        var data = this.$parent.store.states.data.slice(0)\r\n        data[index]._expanded = !data[index]._expanded\r\n        if (data[index]._expanded) {\r\n          data = data.splice(0, index + 1).concat(row[this.childKey]).concat(data)\r\n        } else {\r\n          data = this.removeChildNode(data, row[this.treeKey])\r\n        }\r\n        this.$parent.store.commit('setData', data)\r\n        this.$nextTick(() => {\r\n          this.$parent.doLayout()\r\n        })\r\n      }\r\n    },\r\n    // 移除子节点\r\n    removeChildNode (data, parentId) {\r\n      var parentIds = isArray(parentId) ? parentId : [parentId]\r\n      if (parentId.length <= 0) {\r\n        return data\r\n      }\r\n      var ids = []\r\n      for (var i = 0; i < data.length; i++) {\r\n        if (parentIds.indexOf(data[i][this.parentKey]) !== -1 && parentIds.indexOf(data[i][this.treeKey]) === -1) {\r\n          ids.push(data.splice(i, 1)[0][this.treeKey])\r\n          i--\r\n        }\r\n      }\r\n      return this.removeChildNode(data, ids)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/components/table-tree-column/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-table-column',_vm._b({attrs:{\"prop\":_vm.prop},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{style:(_vm.childStyles(scope.row)),on:{\"click\":function($event){$event.preventDefault();return _vm.toggleHandle(scope.$index, scope.row)}}},[_c('i',{class:_vm.iconClasses(scope.row),style:(_vm.iconStyles(scope.row))}),_vm._v(\"\\n      \"+_vm._s(scope.row[_vm.prop])+\"\\n    \")])]}}])},'el-table-column',_vm.$attrs,false))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-4ef0473e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/components/table-tree-column/index.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4ef0473e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/components/table-tree-column/index.vue\n// module id = null\n// module chunks = ","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/lodash/isArray.js\n// module id = NGEn\n// module chunks = 18 64","<template>\r\n<el-dialog\r\n  :title=\"!dataForm.id ? '新增' : '修改'\"\r\n  :close-on-click-modal=\"false\"\r\n  :visible.sync=\"visible\">\r\n  <el-form :model=\"dataForm\" :rules=\"dataRule\" ref=\"dataForm\" @keyup.enter.native=\"dataFormSubmit()\" label-width=\"120px\">\r\n    <el-form-item label=\"ID\" prop=\"id\">\r\n      <el-input v-model=\"dataForm.id\" placeholder=\"请输入id\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"类型\" prop=\"type\">\r\n      <el-radio-group v-model=\"dataForm.type\">\r\n        <el-radio v-for=\"(type, index) in dataForm.typeList\" :label=\"index\" :key=\"index\">{{ type }}</el-radio>\r\n      </el-radio-group>\r\n    </el-form-item>\r\n    <el-form-item :label=\"dataForm.typeList[dataForm.type] + '名称'\" prop=\"name\">\r\n      <el-input v-model=\"dataForm.name\" :placeholder=\"dataForm.typeList[dataForm.type] + '名称'\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"上级菜单\" prop=\"parentName\">\r\n      <el-popover\r\n        ref=\"menuListPopover\"\r\n        placement=\"bottom-start\"\r\n        trigger=\"click\" style=\"height: 100%;overflow: auto\">\r\n        <el-tree\r\n          :data=\"menuList\"\r\n          :props=\"menuListTreeProps\"\r\n          node-key=\"menuId\"\r\n          ref=\"menuListTree\"\r\n          @current-change=\"menuListTreeCurrentChangeHandle\"\r\n          :default-expand-all=\"false\"\r\n          :highlight-current=\"true\"\r\n          :expand-on-click-node=\"false\">\r\n        </el-tree>\r\n      </el-popover>\r\n      <el-input v-model=\"dataForm.parentName\" v-popover:menuListPopover :readonly=\"true\" placeholder=\"点击选择上级菜单\" class=\"menu-list__input\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item v-if=\"dataForm.type === 1 || dataForm.type === 3 || dataForm.type === 0\" label=\"菜单路由\" prop=\"url\">\r\n      <el-input v-model=\"dataForm.url\" placeholder=\"菜单路由\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item v-if=\"dataForm.type !== 0\" label=\"授权标识\" prop=\"perms\">\r\n      <el-input v-model=\"dataForm.perms\" placeholder=\"多个用逗号分隔, 如: user:list,user:create\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item v-if=\"dataForm.type !== 2\" label=\"排序号\" prop=\"orderNum\">\r\n      <el-input-number v-model=\"dataForm.orderNum\" controls-position=\"right\" :min=\"0\" label=\"排序号\"></el-input-number>\r\n    </el-form-item>\r\n    <el-form-item v-if=\"dataForm.type !== 2\" label=\"菜单图标\" prop=\"icon\">\r\n      <el-row>\r\n        <el-col :span=\"22\">\r\n          <el-popover\r\n            ref=\"iconListPopover\"\r\n            placement=\"bottom-start\"\r\n            trigger=\"click\"\r\n            popper-class=\"mod-menu__icon-popover\">\r\n            <div class=\"mod-menu__icon-list\">\r\n              <el-button\r\n                v-for=\"(item, index) in iconList\"\r\n                :key=\"index\"\r\n                @click=\"iconActiveHandle(item)\"\r\n                :class=\"{ 'is-active': item === dataForm.icon }\">\r\n                <template>\r\n                  <i :class=\"item\" class=\"iconfont\" style=\"font-size: 20px\"></i>\r\n                </template>\r\n              </el-button>\r\n            </div>\r\n          </el-popover>\r\n          <el-input v-model=\"dataForm.icon\" v-popover:iconListPopover :readonly=\"true\" placeholder=\"菜单图标名称\" class=\"icon-list__input\"></el-input>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form-item>\r\n  </el-form>\r\n  <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"visible = false\">取消</el-button>\r\n      <el-button type=\"primary\" @click=\"dataFormSubmit()\">确定</el-button>\r\n    </span>\r\n</el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { treeDataTranslate } from '@/net/validate'\r\nimport { SYSTEMSETUP_API } from '@/api/api'\r\nexport default {\r\n  name: 'menuAdd',\r\n  data () {\r\n    var validateUrl = (rule, value, callback) => {\r\n      if (this.dataForm.type === 1 && !/\\S/.test(value)) {\r\n        callback(new Error('菜单URL不能为空'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      iconList: ['factory-shouye', 'factory-shezhi', 'factory-luru', 'factory-shenhe', 'factory-baobiao', 'factory-yibiao', 'factory-icon-test'],\r\n      visible: false,\r\n      type: true,\r\n      dataForm: {\r\n        id: 0,\r\n        type: 1,\r\n        typeList: ['目录', '菜单', '按钮', '三级页面'],\r\n        name: '',\r\n        parentId: 0,\r\n        parentName: '',\r\n        url: '',\r\n        perms: '',\r\n        orderNum: 0,\r\n        icon: '',\r\n        iconList: []\r\n      },\r\n      dataRule: {\r\n        id: [\r\n          { required: true, message: '菜单名称不能为空', trigger: 'blur' }\r\n        ],\r\n        name: [\r\n          { required: true, message: '菜单名称不能为空', trigger: 'blur' }\r\n        ],\r\n        parentName: [\r\n          { required: true, message: '上级菜单不能为空', trigger: 'change' }\r\n        ],\r\n        url: [\r\n          { validator: validateUrl, trigger: 'blur' }\r\n        ]\r\n      },\r\n      menuList: [],\r\n      menuListTreeProps: {\r\n        label: 'name',\r\n        children: 'children'\r\n      },\r\n      submitType: true\r\n    }\r\n  },\r\n  mounted () {\r\n  },\r\n  methods: {\r\n    init (id) {\r\n      console.log(id)\r\n      this.$http(`${SYSTEMSETUP_API.MENUSELECT_API}`, 'GET', {}).then(({data}) => {\r\n        this.menuList = treeDataTranslate(data.menuList, 'menuId')\r\n      }).then(() => {\r\n        this.visible = true\r\n        this.$nextTick(() => {\r\n          this.$refs.dataForm.resetFields()\r\n          this.dataForm.id = id || 0\r\n        })\r\n      }).then(() => {\r\n        if (!this.dataForm.id) {\r\n          // 新增\r\n          this.menuListTreeSetCurrentNode()\r\n          this.type = true\r\n        } else {\r\n          // 修改\r\n          this.type = false\r\n          this.$http(`${SYSTEMSETUP_API.MENUINFO_API}/${this.dataForm.id}`, 'GET', {}).then(({data}) => {\r\n            this.dataForm.id = data.menu.menuId\r\n            this.dataForm.type = data.menu.type * 1\r\n            this.dataForm.name = data.menu.name\r\n            this.dataForm.parentId = data.menu.parentId\r\n            this.dataForm.url = data.menu.url\r\n            this.dataForm.perms = data.menu.perms\r\n            this.dataForm.orderNum = data.menu.orderNum\r\n            this.dataForm.icon = data.menu.icon\r\n            this.menuListTreeSetCurrentNode()\r\n          })\r\n        }\r\n      })\r\n    },\r\n    // 菜单树选中\r\n    menuListTreeCurrentChangeHandle (data, node) {\r\n      this.dataForm.parentId = data.menuId\r\n      this.dataForm.parentName = data.name\r\n    },\r\n    // 菜单树设置当前选中节点\r\n    menuListTreeSetCurrentNode () {\r\n      this.$refs.menuListTree.setCurrentKey(this.dataForm.parentId)\r\n      this.dataForm.parentName = (this.$refs.menuListTree.getCurrentNode() || {})['name']\r\n    },\r\n    // 图标选中\r\n    iconActiveHandle (iconName) {\r\n      this.dataForm.icon = iconName\r\n    },\r\n    // 表单提交\r\n    dataFormSubmit () {\r\n      if (this.submitType) {\r\n        this.submitType = false\r\n        this.$refs['dataForm'].validate((valid) => {\r\n          if (valid) {\r\n            this.$http(`${this.type ? SYSTEMSETUP_API.MENUADD_API : SYSTEMSETUP_API.MENUUPDATE_API}`, 'POST', {\r\n              'menuId': this.dataForm.id || undefined,\r\n              'type': this.dataForm.type,\r\n              'name': this.dataForm.name,\r\n              'parentId': this.dataForm.parentId,\r\n              'url': this.dataForm.url,\r\n              'perms': this.dataForm.perms,\r\n              'orderNum': this.dataForm.orderNum,\r\n              'icon': this.dataForm.icon\r\n            }).then(({data}) => {\r\n              if (data && data.code === 0) {\r\n                this.$message({\r\n                  message: '操作成功',\r\n                  type: 'success',\r\n                  duration: 1500,\r\n                  onClose: () => {\r\n                    this.submitType = true\r\n                    this.visible = false\r\n                    this.$emit('refreshDataList')\r\n                  }\r\n                })\r\n              } else {\r\n                this.submitType = true\r\n                this.$message.error(data.msg)\r\n              }\r\n            })\r\n          } else {\r\n            this.submitType = true\r\n          }\r\n        })\r\n      }\r\n    }\r\n  },\r\n  computed: {},\r\n  components: {}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .mod-menu {\r\n    .menu-list__input,\r\n    .icon-list__input {\r\n      > .el-input__inner {\r\n        cursor: pointer;\r\n      }\r\n    }\r\n    &__icon-popover {\r\n      max-width: 370px;\r\n    }\r\n    &__icon-list {\r\n      max-height: 180px;\r\n      padding: 0;\r\n      margin: -8px 0 0 -8px;\r\n      > .el-button {\r\n        padding: 8px;\r\n        margin: 8px 0 0 8px;\r\n        > span {\r\n          display: inline-block;\r\n          vertical-align: middle;\r\n          width: 18px;\r\n          height: 18px;\r\n          font-size: 18px;\r\n        }\r\n      }\r\n    }\r\n    .icon-list__tips {\r\n      font-size: 18px;\r\n      text-align: center;\r\n      color: #e6a23c;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  .el-dialog__body { padding: 10px 20px; }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/page/SystemSetup/menu/menuAdd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":!_vm.dataForm.id ? '新增' : '修改',\"close-on-click-modal\":false,\"visible\":_vm.visible},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('el-form',{ref:\"dataForm\",attrs:{\"model\":_vm.dataForm,\"rules\":_vm.dataRule,\"label-width\":\"120px\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.dataFormSubmit()}}},[_c('el-form-item',{attrs:{\"label\":\"ID\",\"prop\":\"id\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入id\"},model:{value:(_vm.dataForm.id),callback:function ($$v) {_vm.$set(_vm.dataForm, \"id\", $$v)},expression:\"dataForm.id\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"类型\",\"prop\":\"type\"}},[_c('el-radio-group',{model:{value:(_vm.dataForm.type),callback:function ($$v) {_vm.$set(_vm.dataForm, \"type\", $$v)},expression:\"dataForm.type\"}},_vm._l((_vm.dataForm.typeList),function(type,index){return _c('el-radio',{key:index,attrs:{\"label\":index}},[_vm._v(_vm._s(type))])}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.dataForm.typeList[_vm.dataForm.type] + '名称',\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.dataForm.typeList[_vm.dataForm.type] + '名称'},model:{value:(_vm.dataForm.name),callback:function ($$v) {_vm.$set(_vm.dataForm, \"name\", $$v)},expression:\"dataForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上级菜单\",\"prop\":\"parentName\"}},[_c('el-popover',{ref:\"menuListPopover\",staticStyle:{\"height\":\"100%\",\"overflow\":\"auto\"},attrs:{\"placement\":\"bottom-start\",\"trigger\":\"click\"}},[_c('el-tree',{ref:\"menuListTree\",attrs:{\"data\":_vm.menuList,\"props\":_vm.menuListTreeProps,\"node-key\":\"menuId\",\"default-expand-all\":false,\"highlight-current\":true,\"expand-on-click-node\":false},on:{\"current-change\":_vm.menuListTreeCurrentChangeHandle}})],1),_vm._v(\" \"),_c('el-input',{directives:[{name:\"popover\",rawName:\"v-popover:menuListPopover\",arg:\"menuListPopover\"}],staticClass:\"menu-list__input\",attrs:{\"readonly\":true,\"placeholder\":\"点击选择上级菜单\"},model:{value:(_vm.dataForm.parentName),callback:function ($$v) {_vm.$set(_vm.dataForm, \"parentName\", $$v)},expression:\"dataForm.parentName\"}})],1),_vm._v(\" \"),(_vm.dataForm.type === 1 || _vm.dataForm.type === 3 || _vm.dataForm.type === 0)?_c('el-form-item',{attrs:{\"label\":\"菜单路由\",\"prop\":\"url\"}},[_c('el-input',{attrs:{\"placeholder\":\"菜单路由\"},model:{value:(_vm.dataForm.url),callback:function ($$v) {_vm.$set(_vm.dataForm, \"url\", $$v)},expression:\"dataForm.url\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.dataForm.type !== 0)?_c('el-form-item',{attrs:{\"label\":\"授权标识\",\"prop\":\"perms\"}},[_c('el-input',{attrs:{\"placeholder\":\"多个用逗号分隔, 如: user:list,user:create\"},model:{value:(_vm.dataForm.perms),callback:function ($$v) {_vm.$set(_vm.dataForm, \"perms\", $$v)},expression:\"dataForm.perms\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.dataForm.type !== 2)?_c('el-form-item',{attrs:{\"label\":\"排序号\",\"prop\":\"orderNum\"}},[_c('el-input-number',{attrs:{\"controls-position\":\"right\",\"min\":0,\"label\":\"排序号\"},model:{value:(_vm.dataForm.orderNum),callback:function ($$v) {_vm.$set(_vm.dataForm, \"orderNum\", $$v)},expression:\"dataForm.orderNum\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.dataForm.type !== 2)?_c('el-form-item',{attrs:{\"label\":\"菜单图标\",\"prop\":\"icon\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":22}},[_c('el-popover',{ref:\"iconListPopover\",attrs:{\"placement\":\"bottom-start\",\"trigger\":\"click\",\"popper-class\":\"mod-menu__icon-popover\"}},[_c('div',{staticClass:\"mod-menu__icon-list\"},_vm._l((_vm.iconList),function(item,index){return _c('el-button',{key:index,class:{ 'is-active': item === _vm.dataForm.icon },on:{\"click\":function($event){return _vm.iconActiveHandle(item)}}},[[_c('i',{staticClass:\"iconfont\",class:item,staticStyle:{\"font-size\":\"20px\"}})]],2)}),1)]),_vm._v(\" \"),_c('el-input',{directives:[{name:\"popover\",rawName:\"v-popover:iconListPopover\",arg:\"iconListPopover\"}],staticClass:\"icon-list__input\",attrs:{\"readonly\":true,\"placeholder\":\"菜单图标名称\"},model:{value:(_vm.dataForm.icon),callback:function ($$v) {_vm.$set(_vm.dataForm, \"icon\", $$v)},expression:\"dataForm.icon\"}})],1)],1)],1):_vm._e()],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.dataFormSubmit()}}},[_vm._v(\"确定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-176c92ce\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/page/SystemSetup/menu/menuAdd.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-176c92ce\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./menuAdd.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./menuAdd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./menuAdd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-176c92ce\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./menuAdd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/page/SystemSetup/menu/menuAdd.vue\n// module id = null\n// module chunks = ","<template>\r\n    <el-col v-loading.fullscreen.lock=\"lodingStatus\" element-loading-text=\"加载中\">\r\n      <div class=\"main\">\r\n        <el-card>\r\n          <el-row>\r\n            <el-button type=\"primary\" v-if=\"isAuth('sys:menu:save')\" @click=\"addOrUpdateHandle()\" style=\"margin-bottom: 22px;\" size=\"small\">新增</el-button>\r\n          </el-row>\r\n          <el-row>\r\n            <el-table\r\n              header-row-class-name=\"tableHead\"\r\n              :data=\"dataList\"\r\n              border\r\n              tooltip-effect=\"dark\"\r\n              style=\"width: 100%;\">\r\n              <el-table-column\r\n                prop=\"menuId\"\r\n                header-align=\"left\"\r\n                align=\"left\"\r\n                width=\"80\"\r\n                label=\"ID\">\r\n              </el-table-column>\r\n              <table-tree-column\r\n                prop=\"name\"\r\n                header-align=\"left\"\r\n                treeKey=\"menuId\"\r\n                width=\"150\"\r\n                :show-overflow-tooltip=true\r\n                label=\"名称\">\r\n              </table-tree-column>\r\n              <el-table-column\r\n                prop=\"parentName\"\r\n                header-align=\"left\"\r\n                align=\"left\"\r\n                width=\"100\"\r\n                :show-overflow-tooltip=true\r\n                label=\"上级菜单\">\r\n              </el-table-column>\r\n              <el-table-column\r\n                header-align=\"left\"\r\n                align=\"left\"\r\n                :show-overflow-tooltip=true\r\n                label=\"图标\">\r\n                <template slot-scope=\"scope\">\r\n                  <i class=\"iconfont\" :class=\"scope.row.icon\"></i>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column\r\n                prop=\"type\"\r\n                header-align=\"left\"\r\n                align=\"left\"\r\n                :show-overflow-tooltip=true\r\n                label=\"类型\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-tag v-if=\"scope.row.type === '0'\" size=\"small\">目录</el-tag>\r\n                  <el-tag v-else-if=\"scope.row.type === '1'\" size=\"small\" type=\"success\">菜单</el-tag>\r\n                  <el-tag v-else-if=\"scope.row.type === '2'\" size=\"small\" type=\"info\">按钮</el-tag>\r\n                  <el-tag v-else-if=\"scope.row.type === '3'\" size=\"small\" type=\"success\">三级页面</el-tag>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column\r\n                prop=\"orderNum\"\r\n                header-align=\"left\"\r\n                align=\"left\"\r\n                width=\"80\"\r\n                :show-overflow-tooltip=true\r\n                label=\"排序号\">\r\n              </el-table-column>\r\n              <el-table-column\r\n                prop=\"url\"\r\n                header-align=\"left\"\r\n                align=\"left\"\r\n                width=\"180\"\r\n                :show-overflow-tooltip=true\r\n                label=\"菜单URL\">\r\n              </el-table-column>\r\n              <el-table-column\r\n                prop=\"perms\"\r\n                header-align=\"left\"\r\n                align=\"left\"\r\n                width=\"180\"\r\n                :show-overflow-tooltip=true\r\n                label=\"授权标识\">\r\n              </el-table-column>\r\n              <el-table-column\r\n                fixed=\"right\"\r\n                header-align=\"left\"\r\n                align=\"left\"\r\n                width=\"88\"\r\n                label=\"操作\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-button style=\"padding: 0;\" v-if=\"isAuth('sys:menu:update')\" type=\"text\" size=\"small\" @click=\"addOrUpdateHandle(scope.row.menuId)\">修改</el-button>\r\n                  <el-button style=\"padding: 0;\" v-if=\"isAuth('sys:menu:delete')\" type=\"text\" size=\"small\" @click=\"deleteHandle(scope.row.menuId)\">删除</el-button>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n          </el-row>\r\n        </el-card>\r\n      </div>\r\n      <!-- 弹窗, 新增 / 修改 -->\r\n      <add-or-update v-if=\"addOrUpdateVisible\" ref=\"addOrUpdate\" @refreshDataList=\"getDataList\"></add-or-update>\r\n    </el-col>\r\n</template>\r\n\r\n<script>\r\nimport TableTreeColumn from '@/views/components/table-tree-column'\r\nimport { treeDataTranslate } from '@/net/validate'\r\nimport AddOrUpdate from './menuAdd'\r\nimport {MAIN_API, SYSTEMSETUP_API} from '@/api/api'\r\nexport default {\r\n  name: 'menuManage',\r\n  data () {\r\n    return {\r\n      addOrUpdateVisible: false,\r\n      dataList: []\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getDataList()\r\n  },\r\n  methods: {\r\n    // 获取数据列表\r\n    getDataList () {\r\n      this.$http(`${MAIN_API.MENULIST_API}`, 'GET', {}).then(({data}) => {\r\n        this.dataList = treeDataTranslate(data, 'menuId')\r\n        this.addOrUpdateVisible = false\r\n      })\r\n    },\r\n    // 新增 / 修改\r\n    addOrUpdateHandle (id) {\r\n      this.addOrUpdateVisible = true\r\n      this.$nextTick(() => {\r\n        this.$refs.addOrUpdate.init(id)\r\n      })\r\n    },\r\n    // 删除\r\n    deleteHandle (id) {\r\n      this.$confirm(`确定对[id=${id}]进行[删除]操作?`, '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.$http(`${SYSTEMSETUP_API.MENUDEL_API}/${id}`, 'POST', {}).then(({data}) => {\r\n          if (data && data.code === 0) {\r\n            this.$message({\r\n              message: '操作成功',\r\n              type: 'success',\r\n              duration: 1500,\r\n              onClose: () => {\r\n                this.getDataList()\r\n              }\r\n            })\r\n          } else {\r\n            this.$message.error(data.msg)\r\n          }\r\n        })\r\n      }).catch(() => {})\r\n    }\r\n  },\r\n  computed: {},\r\n  components: {\r\n    TableTreeColumn,\r\n    AddOrUpdate\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/page/SystemSetup/menu/menu.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-col',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.lodingStatus),expression:\"lodingStatus\",modifiers:{\"fullscreen\":true,\"lock\":true}}],attrs:{\"element-loading-text\":\"加载中\"}},[_c('div',{staticClass:\"main\"},[_c('el-card',[_c('el-row',[(_vm.isAuth('sys:menu:save'))?_c('el-button',{staticStyle:{\"margin-bottom\":\"22px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.addOrUpdateHandle()}}},[_vm._v(\"新增\")]):_vm._e()],1),_vm._v(\" \"),_c('el-row',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"header-row-class-name\":\"tableHead\",\"data\":_vm.dataList,\"border\":\"\",\"tooltip-effect\":\"dark\"}},[_c('el-table-column',{attrs:{\"prop\":\"menuId\",\"header-align\":\"left\",\"align\":\"left\",\"width\":\"80\",\"label\":\"ID\"}}),_vm._v(\" \"),_c('table-tree-column',{attrs:{\"prop\":\"name\",\"header-align\":\"left\",\"treeKey\":\"menuId\",\"width\":\"150\",\"show-overflow-tooltip\":true,\"label\":\"名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"parentName\",\"header-align\":\"left\",\"align\":\"left\",\"width\":\"100\",\"show-overflow-tooltip\":true,\"label\":\"上级菜单\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"header-align\":\"left\",\"align\":\"left\",\"show-overflow-tooltip\":true,\"label\":\"图标\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"iconfont\",class:scope.row.icon})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"type\",\"header-align\":\"left\",\"align\":\"left\",\"show-overflow-tooltip\":true,\"label\":\"类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.type === '0')?_c('el-tag',{attrs:{\"size\":\"small\"}},[_vm._v(\"目录\")]):(scope.row.type === '1')?_c('el-tag',{attrs:{\"size\":\"small\",\"type\":\"success\"}},[_vm._v(\"菜单\")]):(scope.row.type === '2')?_c('el-tag',{attrs:{\"size\":\"small\",\"type\":\"info\"}},[_vm._v(\"按钮\")]):(scope.row.type === '3')?_c('el-tag',{attrs:{\"size\":\"small\",\"type\":\"success\"}},[_vm._v(\"三级页面\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"orderNum\",\"header-align\":\"left\",\"align\":\"left\",\"width\":\"80\",\"show-overflow-tooltip\":true,\"label\":\"排序号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"url\",\"header-align\":\"left\",\"align\":\"left\",\"width\":\"180\",\"show-overflow-tooltip\":true,\"label\":\"菜单URL\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"perms\",\"header-align\":\"left\",\"align\":\"left\",\"width\":\"180\",\"show-overflow-tooltip\":true,\"label\":\"授权标识\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"header-align\":\"left\",\"align\":\"left\",\"width\":\"88\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.isAuth('sys:menu:update'))?_c('el-button',{staticStyle:{\"padding\":\"0\"},attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.addOrUpdateHandle(scope.row.menuId)}}},[_vm._v(\"修改\")]):_vm._e(),_vm._v(\" \"),(_vm.isAuth('sys:menu:delete'))?_c('el-button',{staticStyle:{\"padding\":\"0\"},attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.deleteHandle(scope.row.menuId)}}},[_vm._v(\"删除\")]):_vm._e()]}}])})],1)],1)],1)],1),_vm._v(\" \"),(_vm.addOrUpdateVisible)?_c('add-or-update',{ref:\"addOrUpdate\",on:{\"refreshDataList\":_vm.getDataList}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-41593d16\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/page/SystemSetup/menu/menu.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-41593d16\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./menu.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./menu.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./menu.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-41593d16\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./menu.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-41593d16\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/page/SystemSetup/menu/menu.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}