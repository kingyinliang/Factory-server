webpackJsonp([25],{lveC:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,a=o("P9l9"),s=o("jO17"),l=o("MR1d"),i=function(){function t(t,e,o,r,a,s,l,i,n,d){this.delFlag="0",this.orderId=t,this.orderNo=e,this.orderDate=o,this.orderStatus=r,this.materialCode=a,this.materialName=s,this.planOutput=l,this.outputUnit=i,this.remark=n,this.delFlag=d}return Object.defineProperty(t.prototype,"orderStatus",{get:function(){return"已同步"===this._orderStatus?l.c.SYNC:"已拆分"===this._orderStatus?l.c.UNDO:"toBeAudited"===this._orderStatus?l.c.TOBE:"saved"===this._orderStatus?l.c.SAVED:"submit"===this._orderStatus?l.c.SUBMIT:"checked"===this._orderStatus?l.c.CHECKED:"noPass"===this._orderStatus?l.c.NOPASS:this._orderStatus},set:function(t){this._orderStatus=t},enumerable:!0,configurable:!0}),t}(),n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),d=function(t){function e(e,o,r,a,s,l,i,n,d,c,u,p,h,m,f,y,v,_,b,g,w){var k=t.call(this,e,o,r,a,s,l,i,n,d,c)||this;return k.inPotNo="",k.inPotName="",k.houseNo="",k.houseName="",k.cookingNo="",k.cookingName="",k.isFirst=!1,u&&(k.id=u),p&&(k._status=p),h&&(k.inPotNo=h),m&&(k.inPotName=m),f&&(k.houseNo=f),y&&(k.houseName=y),v&&(k.cookingNo=v),_&&(k.cookingName=_),b&&(k.inKjmDate=b),g&&(k.productDate=g),w&&(k.isFirst=w),k}return n(e,t),Object.defineProperty(e.prototype,"status",{get:function(){return"已同步"===this._status?l.c.UNDO:"toBeAudited"===this._status?l.c.TOBE:"saved"===this._status?l.c.SAVED:"submit"===this._status?l.c.SUBMIT:"checked"===this._status?l.c.CHECKED:"noPass"===this._status?l.c.NOPASS:this._status},set:function(t){this._status=t},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return JSON.parse(JSON.stringify(this))},e}(i),c=o("Lna1"),u=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),p=this&&this.__decorate||function(t,e,o,r){var a,s=arguments.length,l=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,r);else for(var i=t.length-1;i>=0;i--)(a=t[i])&&(l=(s<3?a(l):s>3?a(e,o,l):a(e,o))||l);return s>3&&l&&Object.defineProperty(e,o,l),l},h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.params=JSON.parse(JSON.stringify(e.$store.state.common.ZQWorkshop.defaultVal)),e.orderList=[],e.orderDetailList=[],e.selectedDetailList=[],e.splitDetailList=[],e.detailForm=new d,e.dialogFormVisible=!1,e.dialogFormVisible2=!1,e.factoryList=[],e.workshopList=[],e.potList=[],e.kjmRoomList=[],e.continueList=[],e.searched=!1,e.showdetails=!0,e.formLabelWidth="120px",e.currPage=1,e.pageSize=10,e}return u(e,t),e.prototype.mounted=function(){this.getFactory(),this.getWorkshop(this.params.factoryId),this.retrieveHolders(this.params.workshopId,this.params.workshopName)},e.prototype.retrieveHolders=function(t,e){t&&(this.getHolderList(t,e,"入罐"),this.getHolderList(t,e,"曲房"),this.getHolderList(t,e,"连续蒸煮"))},e.prototype.isAuth=function(t){return s.b.prototype.isAuth(t)},e.prototype.changeOptions=function(t){var e=this;if("factory"===t){var o=this.factoryList.find(function(t){return t.deptId===e.params.factoryId});this.params.factoryName=o?o.deptName:"",this.params.workshopId="",this.params.workshopName="",this.getWorkshop(this.params.factoryId)}else if("workshop"===t){o=this.workshopList.find(function(t){return t.deptId===e.params.workshopId});this.params.workshopName=o?o.deptName:"",this.retrieveHolders(this.params.workshopId,this.params.workshopName)}else if("inPot"===t){o=this.potList.find(function(t){return t.holderId===e.detailForm.inPotNo});this.detailForm.inPotName=o?o.holderName:""}else if("house"===t){o=this.kjmRoomList.find(function(t){return t.holderId===e.detailForm.houseNo});this.detailForm.houseName=o?o.holderName:""}else if("cooking"===t){o=this.continueList.find(function(t){return t.holderId===e.detailForm.cookingNo});this.detailForm.cookingName=o?o.holderName:""}},e.prototype.getFactory=function(){var t=this;this.factoryList=[],s.b.prototype.$http(a.c.FINDORG_API+"?code=factory","POST",{},!1,!1,!1).then(function(e){0===e.data.code?t.factoryList=e.data.typeList:t.$message.error(e.data.msg)})},e.prototype.getWorkshop=function(t){var e=this;this.workshopList=[],t&&s.b.prototype.$http(""+a.c.FINDORGBYID_API,"POST",{deptId:t,deptName:"制曲"},!1,!1,!1).then(function(t){0===t.data.code?e.workshopList=t.data.typeList:e.$message.error(t.data.msg)})},e.prototype.getHolderList=function(t,e,o){var r=this,l={dept_id:t,workShopName:e,type:"holder_type",holder_type:"入罐"===o?"001":"曲房"===o?"005":"连续蒸煮"===o?"008":"",pageSize:9999,currPage:1};""!==l.holder_type&&s.b.prototype.$http(""+a.c.CONTAINERLIST_API,"POST",l).then(function(t){var e=t.data;0===e.code?"入罐"===o?r.potList=e.page.list:"曲房"===o?r.kjmRoomList=e.page.list:"连续蒸煮"===o&&(r.continueList=e.page.list):r.$message.error(e.msg)}).catch(function(t){console.log("catch data::",t)})},e.prototype.setStore=function(t){this.$store.commit("common/updateZQDefault",t)},e.prototype.getOrderList=function(){if(""!==this.params.factoryId)if(""!==this.params.workshopId){this.setStore(this.params),this.searched=!0,this.orderDetailList=[],this.selectedDetailList=[];var t={workShop:this.params.workshopId,orderDate:this.params.orderDate,orderNo:this.params.orderNo,orderStatus:this.params.orderStatus};this.retrieveOrderData(t)}else this.$message.error("请选择车间");else this.$message.error("请选择工厂")},e.prototype.retrieveOrderData=function(t){var e=this;this.orderList=[],s.b.prototype.$http(""+a.d.ORDERLIST_API,"POST",t,!1,!1,!1).then(function(t){if(0===t.data.code)for(var o=0,r=t.data.list;o<r.length;o++){var a=r[o],s=new i(a.orderId,a.orderNo,a.orderDate,a.orderStatus,a.materialCode,a.materialName,a.planOutput,a.outputUnit,a.remark,a.delFlag);e.orderList.push(s)}else e.$message.error(t.data.msg)}).catch(function(t){console.log("catch data::",t)})},e.prototype.orderSplit=function(t){this.dialogFormVisible=!0;var e=new d(t.orderId,t.orderNo,t.orderDate,t.orderStatus,t.materialCode,t.materialName,t.planOutput,t.outputUnit,t.remark,t.delFlag);e.isFirst=!0,e.inKjmDate=Object(c.c)(new Date,"yyyy-MM-dd"),e.productDate=Object(c.c)(new Date,"yyyy-MM-dd"),this.splitDetailList=[],this.splitDetailList.push(e)},e.prototype.delRow=function(t){t.delFlag="1"},e.prototype.addRow=function(t){var e=new d(t.orderId,t.orderNo,t.orderDate,t.orderStatus,t.materialCode,t.materialName,t.planOutput,t.outputUnit,t.remark,t.delFlag,t.id,t.status,t.inPotNo,t.inPotName,t.houseNo,t.houseName,t.cookingNo,t.cookingName,t.inKjmDate,t.productDate,!1);this.splitDetailList.push(e)},e.prototype.splitOrder=function(){for(var t=this,e=[],o=new Set,r=new Set,l=0,i=this.splitDetailList;l<i.length;l++){if("0"===(u=i[l]).delFlag){if(!u.inPotNo||0===u.inPotNo.length)return void this.$message.error("入罐号不能为空");if(!u.houseNo||0===u.houseNo.length)return void this.$message.error("曲房不能为空");if(!u.inKjmDate||0===u.inKjmDate.length)return void this.$message.error("制曲日期不能为空");if(!u.productDate||0===u.productDate.length)return void this.$message.error("生产日期不能为空");if(r.add(u.inPotNo),r.size>1)return void this.$message.error("同一订单不能多个入罐号");var n=u.houseNo+u.inKjmDate;if(o.has(n))return void this.$message.error("相同制曲日期下，曲房重复");o.add(n)}}for(var d=0,c=this.splitDetailList;d<c.length;d++){var u=c[d];e.push({orderId:u.orderId,orderNo:u.orderNo,status:"",inPotNo:u.inPotNo,houseNo:u.houseNo,cookingNo:u.cookingNo,inKjmDate:u.inKjmDate,productDate:u.productDate,delFlag:u.delFlag})}s.b.prototype.$http(""+a.d.SPLITORDERDETAILLIST_API,"POST",e,!1,!1,!1).then(function(e){0===e.data.code?(t.dialogFormVisible=!1,t.getOrderList(),t.retrieveDetail(t.splitDetailList[0].orderId)):t.$message.error(e.data.msg)}).catch(function(t){console.log("catch data::",t)})},e.prototype.showDetail=function(t){this.retrieveDetail(t.orderId)},e.prototype.retrieveDetail=function(t){var e=this;this.showdetails=!0,this.selectedDetailList=[],this.orderDetailList=[];var o={orderId:t,currPage:"1",pageSize:"9999"};s.b.prototype.$http(""+a.d.ORDERDETAILLIST_API,"POST",o,!1,!1,!1).then(function(t){if(0===t.data.code)for(var o=0,r=t.data.page.list;o<r.length;o++){var a=r[o],s=new d;s.id=a.id,s.status=a.status,s.orderId=a.orderId,s.orderNo=a.orderNo,s.inPotNo=a.inPotNo,s.houseNo=a.houseNo,s.cookingNo=a.cookingNo,s.inKjmDate=a.inKjmDate,s.productDate=a.productDate,s.inPotName=a.inPotName,s.houseName=a.houseName,s.cookingName=a.cookingName,e.orderDetailList.push(s)}else e.$message.error(t.data.msg)}).catch(function(t){console.log("catch data::",t)})},e.prototype.handleChange=function(t){this.selectedDetailList=t},e.prototype.delDetail=function(){var t=this;if(this.isAuth("sys:kjmOrderHouse:mySaveOrUpdate"))if(this.selectedDetailList&&0!==this.selectedDetailList.length){for(var e=0,o=this.selectedDetailList;e<o.length;e++){var r=o[e];if(r.status&&(r.status===l.c.SUBMIT||r.status===l.c.CHECKED))return void this.$message.error(r.status+"的数据不可删除")}this.$confirm("是否删除所选项?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.b.prototype.$http(""+a.d.DELETEORDERDETAILLIST_API,"POST",t.selectedDetailList,!1,!1,!1).then(function(e){0===e.data.code?t.retrieveDetail(t.selectedDetailList[0].orderId):t.$message.error(e.data.msg)}).catch(function(t){console.log("catch data::",t)})})}else this.$message.error("请选择删除项");else this.$message.error("无权限进行删除操作")},e.prototype.showModifyDetial=function(t){this.isAuth("sys:kjmOrderHouse:mySaveOrUpdate")?!t.status||t.status!==l.c.SUBMIT&&t.status!==l.c.CHECKED?(this.detailForm=t.clone(),this.dialogFormVisible2=!0):this.$message.error(t.status+"的数据不可修改"):this.$message.error("无权限进行修改操作")},e.prototype.modifyDetial=function(){var t=this;if(!this.detailForm.inPotNo||0===this.detailForm.inPotNo.length)return this.$message.error("入罐号不能为空"),!1;if(!this.detailForm.houseNo||0===this.detailForm.houseNo.length)return this.$message.error("曲房不能为空"),!1;if(!this.detailForm.inKjmDate||0===this.detailForm.inKjmDate.length)return this.$message.error("制曲日期不能为空"),!1;if(!this.detailForm.productDate||0===this.detailForm.productDate.length)return this.$message.error("生产日期不能为空"),!1;var e=[this.detailForm];s.b.prototype.$http(""+a.d.SPLITORDERDETAILLIST_API,"POST",e,!1,!1,!1).then(function(e){0===e.data.code?(t.dialogFormVisible2=!1,t.retrieveDetail(t.detailForm.orderId)):t.$message.error(e.data.msg)}).catch(function(t){console.log("catch data::",t)})},e.prototype.rowDelFlag=function(t){var e=t.row;t.rowIndex;return"1"===e.delFlag?"rowDel":""},e.prototype.orderCheck=function(t){this.$store.commit("common/updateZQCheckParamsOrderNo",t.orderNo),this.$store.commit("common/updateZQCheckParamsOrderId",t.orderId),this.pushPage("DataEntry-KojiMaking-orderAuditing-index")},Object.defineProperty(e.prototype,"totalCount",{get:function(){return this.orderList.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentOrderList",{get:function(){return this.orderList.slice((this.currPage-1)*this.pageSize,this.currPage*this.pageSize)},enumerable:!0,configurable:!0}),e.prototype.handleSizeChange=function(t){this.pageSize=t,this.currPage=1},e.prototype.handleCurrentChange=function(t){this.currPage=t},Object.defineProperty(e.prototype,"mainTabs",{get:function(){return this.$store.state.common.mainTabs},set:function(t){this.$store.commit("common/updateMainTabs",t)},enumerable:!0,configurable:!0}),e.prototype.pushPage=function(t){this.mainTabs=this.mainTabs.filter(function(e){return e.name!==t});var e=this;setTimeout(function(){e.$router.push({name:t})},100)},e.prototype.onChangeValue=function(t,e){this.searched=!1},p([Object(s.c)("params",{deep:!0})],e.prototype,"onChangeValue",null),e=p([Object(s.a)({components:{}})],e)}(s.b),m={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-row",[o("el-col",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.lodingStatus,expression:"lodingStatus",modifiers:{fullscreen:!0,lock:!0}}],attrs:{"element-loading-text":"加载中"}},[o("div",{staticClass:"main"},[o("el-card",{staticClass:"newCard"},[o("el-row",{staticStyle:{"border-bottom":"1px solid #E9E9E9","margin-bottom":"12px"},attrs:{type:"flex"}},[o("el-col",[o("el-form",{attrs:{model:t.params,size:"small",inline:!0,"label-position":"right","label-width":"42px"}},[o("el-form-item",{attrs:{label:"工厂："}},[o("el-select",{staticClass:"selectwpx",staticStyle:{width:"140px"},attrs:{size:"small"},on:{change:function(e){return t.changeOptions("factory")}},model:{value:t.params.factoryId,callback:function(e){t.$set(t.params,"factoryId",e)},expression:"params.factoryId"}},[o("el-option",{attrs:{label:"请选择",value:""}}),t._v(" "),t._l(t.factoryList,function(t){return o("el-option",{key:t.deptId,attrs:{label:t.deptName,value:t.deptId}})})],2)],1),t._v(" "),o("el-form-item",{attrs:{label:"车间："}},[o("el-select",{staticClass:"selectwpx",staticStyle:{width:"140px"},attrs:{size:"small"},on:{change:function(e){return t.changeOptions("workshop")}},model:{value:t.params.workshopId,callback:function(e){t.$set(t.params,"workshopId",e)},expression:"params.workshopId"}},[o("el-option",{attrs:{label:"请选择",value:""}}),t._v(" "),t._l(t.workshopList,function(t){return o("el-option",{key:t.deptId,attrs:{label:t.deptName,value:t.deptId}})})],2)],1),t._v(" "),o("el-form-item",{staticClass:"selectwpx",attrs:{label:"订单日期：","label-width":"70px"}},[o("el-date-picker",{staticStyle:{width:"140px"},attrs:{size:"small",type:"date","value-format":"yyyy-MM-dd"},model:{value:t.params.orderDate,callback:function(e){t.$set(t.params,"orderDate",e)},expression:"params.orderDate"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"订单号：","label-width":"60px"}},[o("el-input",{staticStyle:{width:"140px"},attrs:{size:"small",type:"text",placeholder:"请输入"},model:{value:t.params.orderNo,callback:function(e){t.$set(t.params,"orderNo","string"==typeof e?e.trim():e)},expression:"params.orderNo"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"订单状态：","label-width":"70px"}},[o("el-select",{staticClass:"selectwpx",staticStyle:{width:"120px"},attrs:{size:"small"},model:{value:t.params.orderStatus,callback:function(e){t.$set(t.params,"orderStatus",e)},expression:"params.orderStatus"}},[o("el-option",{attrs:{label:"请选择",value:""}}),t._v(" "),o("el-option",{attrs:{label:"已同步",value:"已同步"}}),t._v(" "),o("el-option",{attrs:{label:"未录入",value:"已拆分"}}),t._v(" "),o("el-option",{attrs:{label:"待审核",value:"toBeAudited"}}),t._v(" "),o("el-option",{attrs:{label:"已保存",value:"saved"}}),t._v(" "),o("el-option",{attrs:{label:"已提交",value:"submit"}}),t._v(" "),o("el-option",{attrs:{label:"不通过",value:"noPass"}}),t._v(" "),o("el-option",{attrs:{label:"通过",value:"checked"}})],1)],1)],1)],1),t._v(" "),o("el-col",{staticStyle:{width:"80px"}},[o("el-row",{staticClass:"rowButton"},[t.isAuth("sys:order:orderlist")?o("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.getOrderList()}}},[t._v("查询")]):t._e()],1)],1)],1)],1),t._v(" "),t.searched?o("el-row",{staticStyle:{"margin-top":"20px"},attrs:{gutter:12}},[o("el-col",{attrs:{span:12}},[o("el-card",[o("el-row",{staticStyle:{"margin-bottom":"5px"}},[o("el-col",{staticStyle:{"font-size":"16px","font-weight":"500",color:"#000"}},[t._v("订单管理")])],1),t._v(" "),o("el-row",[o("el-col",[o("el-table",{attrs:{"header-row-class-name":"tableHead",data:t.currentOrderList,border:"","tooltip-effect":"dark","row-class-name":t.rowDelFlag},on:{"row-dblclick":t.showDetail}},[o("el-table-column",{attrs:{type:"index",width:"55",label:"序号"}}),t._v(" "),o("el-table-column",{attrs:{label:"订单状态",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("label",{style:{color:"不通过"===e.row.orderStatus?"red":"通过"===e.row.orderStatus?"rgb(103, 194, 58)":""}},[t._v(t._s(e.row.orderStatus))])]}}],null,!1,1782831354)}),t._v(" "),o("el-table-column",{attrs:{label:"订单日期",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                      "+t._s(e.row.orderDate)+"\n                    ")]}}],null,!1,2469905383)}),t._v(" "),o("el-table-column",{attrs:{label:"订单号",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                      "+t._s(e.row.orderNo)+"\n                    ")]}}],null,!1,3809035794)}),t._v(" "),o("el-table-column",{attrs:{width:"180",label:"品项"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                      "+t._s(e.row.materialCode+" "+e.row.materialName)+"\n                    ")]}}],null,!1,1408211639)}),t._v(" "),o("el-table-column",{attrs:{width:"70",label:"数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                      "+t._s(e.row.planOutput)+"\n                    ")]}}],null,!1,4034017649)}),t._v(" "),o("el-table-column",{attrs:{label:"单位",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.outputUnit))])]}}],null,!1,625778207)}),t._v(" "),o("el-table-column",{attrs:{label:"备注",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.remark))])]}}],null,!1,186672324)}),t._v(" "),o("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return["已同步"!==e.row.orderStatus&&"未录入"!==e.row.orderStatus&&"已保存"!==e.row.orderStatus||!t.isAuth("sys:kjmOrderHouse:mySaveOrUpdate")?t._e():o("div",{staticClass:"operator",on:{click:function(o){return t.orderSplit(e.row)}}},[o("div",{staticClass:"split"}),t._v(" "),o("div",[t._v(" 拆分")])]),t._v(" "),"待审核"!==e.row.orderStatus&&"已提交"!==e.row.orderStatus&&"不通过"!==e.row.orderStatus&&"通过"!==e.row.orderStatus||!t.isAuth("sys:order:orderlist")?t._e():o("div",{staticClass:"operator",on:{click:function(o){return t.orderCheck(e.row)}}},[o("div",{staticClass:"check"}),t._v(" "),o("div",[t._v(" 审核")])])]}}],null,!1,85472146)})],1)],1)],1),t._v(" "),o("el-row",[o("el-pagination",{attrs:{"current-page":t.currPage,"page-sizes":[10,15,20],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1),t._v(" "),t.showdetails?o("el-col",{attrs:{span:12}},[o("el-card",[o("el-row",{staticStyle:{"margin-bottom":"5px"}},[o("el-col",{staticStyle:{"font-size":"16px","font-weight":"500",color:"#000"},attrs:{span:12}},[t._v("\n                订单明细\n              ")]),t._v(" "),o("el-col",{staticClass:"rowButton",staticStyle:{"margin-top":"-13px"},attrs:{span:12}},[o("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:t.delDetail}},[t._v("删除")])],1)],1),t._v(" "),o("el-row",[o("el-col",[o("el-table",{ref:"multipleTable",attrs:{"header-row-class-name":"tableHead",data:t.orderDetailList,border:"","tooltip-effect":"dark","row-class-name":t.rowDelFlag},on:{"selection-change":t.handleChange,"row-dblclick":t.showModifyDetial}},[o("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),o("el-table-column",{attrs:{type:"index",width:"55",label:"序号"}}),t._v(" "),o("el-table-column",{attrs:{label:"曲房状态",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                      "+t._s(e.row.status)+"\n                    ")]}}],null,!1,1477287113)}),t._v(" "),o("el-table-column",{attrs:{label:"订单号",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                      "+t._s(e.row.orderNo)+"\n                    ")]}}],null,!1,3809035794)}),t._v(" "),o("el-table-column",{attrs:{label:"入罐号",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                      "+t._s(e.row.inPotName)+"\n                    ")]}}],null,!1,1978067478)}),t._v(" "),o("el-table-column",{attrs:{width:"100",label:"曲房"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                      "+t._s(e.row.houseName)+"\n                    ")]}}],null,!1,1738219486)}),t._v(" "),o("el-table-column",{attrs:{width:"120",label:"连续蒸煮"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                      "+t._s(e.row.cookingName)+"\n                    ")]}}],null,!1,3737107858)}),t._v(" "),o("el-table-column",{attrs:{label:"制曲日期",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.inKjmDate))])]}}],null,!1,1187335865)}),t._v(" "),o("el-table-column",{attrs:{label:"生产日期",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.productDate))])]}}],null,!1,3813925817)})],1)],1)],1)],1)],1):t._e()],1):t._e()],1),t._v(" "),o("el-dialog",{attrs:{visible:t.dialogFormVisible,width:"1200px","custom-class":"dialog__class"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[o("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[o("span",[t._v("订单分配")])]),t._v(" "),o("div",{staticClass:"orderForm"},[o("el-table",{attrs:{"header-row-class-name":"tableHead",data:t.splitDetailList,border:"","tooltip-effect":"dark","row-class-name":t.rowDelFlag}},[o("el-table-column",{attrs:{type:"index",width:"55",label:"序号"}}),t._v(" "),o("el-table-column",{attrs:{label:"订单号",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.orderNo)+"\n            ")]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"品项",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.materialCode+" "+e.row.materialName)+"\n            ")]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"订单日期",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.orderDate)+"\n            ")]}}])}),t._v(" "),o("el-table-column",{attrs:{width:"70",label:"数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.planOutput)+"\n            ")]}}])}),t._v(" "),o("el-table-column",{attrs:{width:"60",label:"单位"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.outputUnit)+"\n            ")]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"备注",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.remark))])]}}])}),t._v(" "),o("el-table-column",{attrs:{width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-select",{attrs:{filterable:"",placeholder:"请选择",size:"small"},model:{value:e.row.inPotNo,callback:function(o){t.$set(e.row,"inPotNo",o)},expression:"scope.row.inPotNo"}},t._l(t.potList,function(t,e){return o("el-option",{key:e,attrs:{label:t.holderName,value:t.holderId}})}),1)]}}])},[o("template",{slot:"header"},[o("i",{staticClass:"reqI"},[t._v("*")]),t._v(" "),o("span",[t._v("入罐号")])])],2),t._v(" "),o("el-table-column",{attrs:{width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-select",{attrs:{filterable:"",placeholder:"请选择",size:"small"},model:{value:e.row.houseNo,callback:function(o){t.$set(e.row,"houseNo",o)},expression:"scope.row.houseNo"}},t._l(t.kjmRoomList,function(t,e){return o("el-option",{key:e,attrs:{label:t.holderName,value:t.holderId}})}),1)]}}])},[o("template",{slot:"header"},[o("i",{staticClass:"reqI"},[t._v("*")]),t._v(" "),o("span",[t._v("曲房")])])],2),t._v(" "),o("el-table-column",{attrs:{label:"连续蒸煮号",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-select",{attrs:{filterable:"",placeholder:"请选择",size:"small"},model:{value:e.row.cookingNo,callback:function(o){t.$set(e.row,"cookingNo",o)},expression:"scope.row.cookingNo"}},[o("el-option",{attrs:{value:"",label:""}}),t._v(" "),t._l(t.continueList,function(t,e){return o("el-option",{key:e,attrs:{label:t.holderName,value:t.holderId}})})],2)]}}])}),t._v(" "),o("el-table-column",{attrs:{width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-date-picker",{staticStyle:{width:"135px"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择日期",size:"small"},model:{value:e.row.inKjmDate,callback:function(o){t.$set(e.row,"inKjmDate",o)},expression:"scope.row.inKjmDate"}})]}}])},[o("template",{slot:"header"},[o("i",{staticClass:"reqI"},[t._v("*")]),t._v(" "),o("span",[t._v("制曲日期")])])],2),t._v(" "),o("el-table-column",{attrs:{label:"生产日期",width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-date-picker",{staticStyle:{width:"135px"},attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择日期",size:"small"},model:{value:e.row.productDate,callback:function(o){t.$set(e.row,"productDate",o)},expression:"scope.row.productDate"}})]}}])},[o("template",{slot:"header"},[o("i",{staticClass:"reqI"},[t._v("*")]),t._v(" "),o("span",[t._v("生产日期")])])],2),t._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isFirst?o("el-button",{attrs:{type:"primary",icon:"el-icon-plus",circle:"",size:"small"},on:{click:function(o){return t.addRow(e.row)}}}):o("el-button",{attrs:{type:"primary",icon:"el-icon-minus",circle:"",size:"small"},on:{click:function(o){return t.delRow(e.row)}}})]}}])})],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticStyle:{color:"#000000","background-color":"#FFFFFF","border-color":"#D9D9D9"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")]),t._v(" "),o("el-button",{staticStyle:{"background-color":"#1890FF",color:"#FFFFFF","border-color":"#1890FF"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.splitOrder()}}},[t._v("保存")])],1)]),t._v(" "),o("el-dialog",{attrs:{title:"明细修改",visible:t.dialogFormVisible2,width:"450px"},on:{"update:visible":function(e){t.dialogFormVisible2=e}}},[o("el-form",{ref:"detailForm",staticClass:"orderForm",attrs:{model:t.detailForm}},[o("el-form-item",{attrs:{label:"订单号","label-width":t.formLabelWidth}},[o("label",[t._v(t._s(t.detailForm.orderNo))])]),t._v(" "),o("el-form-item",{attrs:{label:"入罐号","label-width":t.formLabelWidth,required:""}},[o("el-select",{attrs:{placeholder:"请选择"},on:{change:function(e){return t.changeOptions("inPot")}},model:{value:t.detailForm.inPotNo,callback:function(e){t.$set(t.detailForm,"inPotNo",e)},expression:"detailForm.inPotNo"}},t._l(t.potList,function(t,e){return o("el-option",{key:e,attrs:{label:t.holderName,value:t.holderId}})}),1)],1),t._v(" "),o("el-form-item",{attrs:{label:"曲房","label-width":t.formLabelWidth,required:""}},[o("el-select",{attrs:{placeholder:"请选择"},on:{change:function(e){return t.changeOptions("house")}},model:{value:t.detailForm.houseNo,callback:function(e){t.$set(t.detailForm,"houseNo",e)},expression:"detailForm.houseNo"}},t._l(t.kjmRoomList,function(t,e){return o("el-option",{key:e,attrs:{label:t.holderName,value:t.holderId}})}),1)],1),t._v(" "),o("el-form-item",{attrs:{label:"连续蒸煮","label-width":t.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择"},on:{change:function(e){return t.changeOptions("cooking")}},model:{value:t.detailForm.cookingNo,callback:function(e){t.$set(t.detailForm,"cookingNo",e)},expression:"detailForm.cookingNo"}},[o("el-option",{attrs:{value:"",label:""}}),t._v(" "),t._l(t.continueList,function(t,e){return o("el-option",{key:e,attrs:{label:t.holderName,value:t.holderId}})})],2)],1),t._v(" "),o("el-form-item",{attrs:{label:"制曲日期","label-width":t.formLabelWidth,required:""}},[o("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:t.detailForm.inKjmDate,callback:function(e){t.$set(t.detailForm,"inKjmDate",e)},expression:"detailForm.inKjmDate"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"生产日期","label-width":t.formLabelWidth,required:""}},[o("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd"},model:{value:t.detailForm.productDate,callback:function(e){t.$set(t.detailForm,"productDate",e)},expression:"detailForm.productDate"}})],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticStyle:{color:"#000000","background-color":"#FFFFFF","border-color":"#D9D9D9"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.dialogFormVisible2=!1}}},[t._v("取消")]),t._v(" "),o("el-button",{staticStyle:{"background-color":"#1890FF",color:"#FFFFFF","border-color":"#1890FF"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.modifyDetial()}}},[t._v("保存")])],1)],1)],1)],1)},staticRenderFns:[]};var f=o("C7Lr")(h,m,!1,function(t){o("nR0A"),o("yX/+"),o("qBpT")},"data-v-5da419e9",null);e.default=f.exports},nR0A:function(t,e){},qBpT:function(t,e){},"yX/+":function(t,e){}});
//# sourceMappingURL=25.9047c54cfb85544b38d3.js.map