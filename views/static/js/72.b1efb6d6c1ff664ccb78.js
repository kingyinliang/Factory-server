webpackJsonp([72],{"4/TA":function(e,a){},zvXT:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=t("P9l9"),d=t("Lna1"),r={name:"readyTimes",data:function(){return{readyDate:{classes:"多班",id:"",status:"",orderId:"",isCause:"1",dayStartDate:"",dayStartLineDate:"",dayChange:"",dayDinner:"",dayCauseDate:"",dayEndDate:"",midCauseDate:"",midChange:"",midDinner:"",midEndDate:"",midStartDate:"",midStartLineDate:"",nightCauseDate:"",nightChange:"",nightDinner:"",nightEndDate:"",nightStartDate:"",nightStartLineDate:"",shift:"",meeting:"",prepared:"",clear:""},ReadAudit:[],readyStatus:!0}},props:{isRedact:{},order:{}},watch:{"readyDate.classes":function(e){"白班"===e?(this.readyDate.midCauseDate=null,this.readyDate.midChange=null,this.readyDate.midDinner=null,this.readyDate.midEndDate=null,this.readyDate.midStartDate=null,this.readyDate.midStartLineDate=null,this.readyDate.nightCauseDate=null,this.readyDate.nightChange=null,this.readyDate.nightDinner=null,this.readyDate.nightEndDate=null,this.readyDate.nightStartDate=null,this.readyDate.nightStartLineDate=null):"中班"===e?(this.readyDate.dayStartDate=null,this.readyDate.dayStartLineDate=null,this.readyDate.dayChange=null,this.readyDate.dayDinner=null,this.readyDate.dayCauseDate=null,this.readyDate.dayEndDate=null,this.readyDate.nightCauseDate=null,this.readyDate.nightChange=null,this.readyDate.nightDinner=null,this.readyDate.nightEndDate=null,this.readyDate.nightStartDate=null,this.readyDate.nightStartLineDate=null):"夜班"===e?(this.readyDate.dayStartDate=null,this.readyDate.dayStartLineDate=null,this.readyDate.dayChange=null,this.readyDate.dayDinner=null,this.readyDate.dayCauseDate=null,this.readyDate.dayEndDate=null,this.readyDate.midCauseDate=null,this.readyDate.midChange=null,this.readyDate.midDinner=null,this.readyDate.midEndDate=null,this.readyDate.midStartDate=null,this.readyDate.midStartLineDate=null):"多班"===e&&(this.readyDate.midCauseDate=null,this.readyDate.midChange=null,this.readyDate.midDinner=null,this.readyDate.midEndDate=null,this.readyDate.midStartDate=null,this.readyDate.midStartLineDate=null)}},mounted:function(){Object(d.b)(this.$)},methods:{Getpkgready:function(e){var a=this;this.$http(""+s.h.PKGREADYLIST_API,"POST",{order_id:e}).then(function(e){var t=e.data;0===t.code?t.listForm.length>0&&(a.$emit("GetReadyStatus",t.listForm[0].status),a.readyDate=t.listForm[0],a.ReadAudit=t.listApproval):a.$message.error(t.msg)})},readyrul:function(){var e=!0;if("组装车间2（礼盒）"!==this.order.workShopName)if("白班"===this.readyDate.classes){if(!(this.readyDate.dayStartLineDate&&this.readyDate.dayStartDate&&(this.readyDate.dayDinner||0===this.readyDate.dayDinner)&&this.readyDate.dayCauseDate&&this.readyDate.dayEndDate))return e=!1,this.$message.error("准备时间白班必填字段未填"),!1;if((Object(d.k)(this.readyDate.dayEndDate)-Object(d.k)(this.readyDate.dayCauseDate))/6e4<0)return e=!1,this.$message.error("准备时间白班工作结束时间不能早于停线时间"),!1}else if("中班"===this.readyDate.classes){if(!(this.readyDate.midCauseDate&&this.readyDate.midStartDate&&(this.readyDate.midDinner||0===this.readyDate.midDinner)&&this.readyDate.midCauseDate&&this.readyDate.midEndDate))return e=!1,this.$message.error("准备时间中班必填字段未填"),!1;if((Object(d.k)(this.readyDate.midEndDate)-Object(d.k)(this.readyDate.midCauseDate))/6e4<0)return e=!1,this.$message.error("准备时间中班工作结束时间不能早于停线时间"),!1}else if("夜班"===this.readyDate.classes){if(!(this.readyDate.nightStartLineDate&&this.readyDate.nightStartDate&&(this.readyDate.nightDinner||0===this.readyDate.nightDinner)&&this.readyDate.nightCauseDate&&this.readyDate.nightEndDate))return e=!1,this.$message.error("准备时间夜班必填字段未填"),!1;if((Object(d.k)(this.readyDate.nightEndDate)-Object(d.k)(this.readyDate.nightCauseDate))/6e4<0)return e=!1,this.$message.error("准备时间夜班工作结束时间不能早于停线时间"),!1}else if("多班"===this.readyDate.classes){if(!(this.readyDate.dayStartLineDate&&this.readyDate.dayStartDate&&(this.readyDate.dayDinner||0===this.readyDate.dayDinner)&&this.readyDate.dayCauseDate&&this.readyDate.dayEndDate&&this.readyDate.nightStartLineDate&&this.readyDate.nightStartDate&&(this.readyDate.nightDinner||0===this.readyDate.nightDinner)&&this.readyDate.nightCauseDate&&this.readyDate.nightEndDate))return e=!1,this.$message.error("准备时间白班和夜班必填字段未填"),!1;if((Object(d.k)(this.readyDate.dayEndDate)-Object(d.k)(this.readyDate.dayCauseDate))/6e4<0)return e=!1,this.$message.error("准备时间白班工作结束时间不能早于停线时间"),!1;if((Object(d.k)(this.readyDate.nightEndDate)-Object(d.k)(this.readyDate.nightCauseDate))/6e4<0)return e=!1,this.$message.error("准备时间夜班工作结束时间不能早于停线时间"),!1}else if("白班"===this.readyDate.classes){if(!(this.readyDate.dayStartLineDate&&this.readyDate.dayStartDate&&(this.readyDate.dayDinner||0===this.readyDate.dayDinner)&&this.readyDate.dayCauseDate&&this.readyDate.dayEndDate))return e=!1,this.$message.error("准备时间白班必填字段未填"),!1;if((Object(d.k)(this.readyDate.dayEndDate)-Object(d.k)(this.readyDate.dayCauseDate))/6e4<0)return e=!1,this.$message.error("准备时间白班工作结束时间不能早于停线时间"),!1}else if("中班"===this.readyDate.classes){if(!(this.readyDate.midCauseDate&&this.readyDate.midStartDate&&(this.readyDate.midDinner||0===this.readyDate.midDinner)&&this.readyDate.midCauseDate&&this.readyDate.midEndDate))return e=!1,this.$message.error("准备时间中班必填字段未填"),!1;if((Object(d.k)(this.readyDate.midEndDate)-Object(d.k)(this.readyDate.midCauseDate))/6e4<0)return e=!1,this.$message.error("准备时间中班工作结束时间不能早于停线时间"),!1}else if("夜班"===this.readyDate.classes){if(!(this.readyDate.nightStartLineDate&&this.readyDate.nightStartDate&&(this.readyDate.nightDinner||0===this.readyDate.nightDinner)&&this.readyDate.nightCauseDate&&this.readyDate.nightEndDate))return e=!1,this.$message.error("准备时间夜班必填字段未填"),!1;if((Object(d.k)(this.readyDate.nightEndDate)-Object(d.k)(this.readyDate.nightCauseDate))/6e4<0)return e=!1,this.$message.error("准备时间夜班工作结束时间不能早于停线时间"),!1}else if("多班"===this.readyDate.classes){if(!(this.readyDate.dayStartLineDate&&this.readyDate.dayStartDate&&(this.readyDate.dayDinner||0===this.readyDate.dayDinner)&&this.readyDate.dayCauseDate&&this.readyDate.dayEndDate&&this.readyDate.nightStartLineDate&&this.readyDate.nightStartDate&&(this.readyDate.nightDinner||0===this.readyDate.nightDinner)&&this.readyDate.nightCauseDate&&this.readyDate.nightEndDate))return e=!1,this.$message.error("准备时间白班和夜班必填字段未填"),!1;if((Object(d.k)(this.readyDate.dayEndDate)-Object(d.k)(this.readyDate.dayCauseDate))/6e4<0)return e=!1,this.$message.error("准备时间白班工作结束时间不能早于停线时间"),!1;if((Object(d.k)(this.readyDate.nightEndDate)-Object(d.k)(this.readyDate.nightCauseDate))/6e4<0)return e=!1,this.$message.error("准备时间夜班工作结束时间不能早于停线时间"),!1}return e},UpdateReady:function(e,a,t,d){var r=this;this.readyDate.orderId=e,this.readyDate.status?"saved"===this.readyDate.status?this.readyDate.status=a:"noPass"===this.readyDate.status&&"submit"===a&&(this.readyDate.status=a):this.readyDate.status=a,this.$http(""+s.h.PKGREADYUPDATE_API,"POST",this.readyDate).then(function(e){var a=e.data;0===a.code||r.$message.error(a.msg),t&&t("resolve")}).catch(function(){t&&d("reject")})}},computed:{},components:{AuditLog:function(e){t.e(1).then(function(){var a=[t("bpq2")];e.apply(null,a)}.bind(this)).catch(t.oe)}}},i={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("el-form",{ref:"timesForm",attrs:{inline:!0,model:e.readyDate,size:"small","label-width":"125px"}},[t("div",{staticClass:"clearfix topBox"},[t("h3",[e._v("录入数据单位：MIN")]),e._v(" "),"1"===e.readyDate.isCause?t("el-form-item",{staticStyle:{float:"right",width:"162px"},attrs:{label:"班次：","label-width":"60px"}},[t("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status))},model:{value:e.readyDate.classes,callback:function(a){e.$set(e.readyDate,"classes",a)},expression:"readyDate.classes"}},[t("el-option",{attrs:{label:"白班",value:"白班"}}),e._v(" "),t("el-option",{attrs:{label:"中班",value:"中班"}}),e._v(" "),t("el-option",{attrs:{label:"夜班",value:"夜班"}}),e._v(" "),t("el-option",{attrs:{label:"多班",value:"多班"}})],1)],1):e._e(),e._v(" "),t("el-form-item",{staticStyle:{float:"right",width:"230px"},attrs:{label:"是否停线交接班："}},[t("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"是否停线交接班",disabled:""},model:{value:e.readyDate.isCause,callback:function(a){e.$set(e.readyDate,"isCause",a)},expression:"readyDate.isCause"}},[t("el-option",{attrs:{label:"是",value:"1"}}),e._v(" "),t("el-option",{attrs:{label:"否",value:"0"}})],1)],1)],1),e._v(" "),""===e.readyDate.classes||"白班"===e.readyDate.classes||"多班"===e.readyDate.classes?t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v("\n      白班录入\n      "),t("span",{staticClass:"readyshiftBtn dayshift",attrs:{name:"dayshift"}},[e._v("收起"),t("i",{staticClass:"el-icon-caret-top"})])]),e._v(" "),t("div",{staticClass:"dayshiftBox"},[t("el-form-item",{attrs:{label:"工作开始时间："}},[t("el-date-picker",{staticStyle:{width:"184px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy.MM.dd HH:mm",placeholder:"选择",disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status))},model:{value:e.readyDate.dayStartDate,callback:function(a){e.$set(e.readyDate,"dayStartDate",a)},expression:"readyDate.dayStartDate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"开线时间："}},[t("el-date-picker",{staticStyle:{width:"184px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy.MM.dd HH:mm",placeholder:"选择",disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status))},model:{value:e.readyDate.dayStartLineDate,callback:function(a){e.$set(e.readyDate,"dayStartLineDate",a)},expression:"readyDate.dayStartLineDate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"切换时间："}},[t("el-input",{attrs:{disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status)),placeholder:"手工录入"},model:{value:e.readyDate.dayChange,callback:function(a){e.$set(e.readyDate,"dayChange",a)},expression:"readyDate.dayChange"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"工作结束时间："}},[t("el-date-picker",{staticStyle:{width:"184px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy.MM.dd HH:mm",placeholder:"选择",disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status))},model:{value:e.readyDate.dayEndDate,callback:function(a){e.$set(e.readyDate,"dayEndDate",a)},expression:"readyDate.dayEndDate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"停线时间："}},[t("el-date-picker",{staticStyle:{width:"184px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy.MM.dd HH:mm",placeholder:"选择",disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status))},model:{value:e.readyDate.dayCauseDate,callback:function(a){e.$set(e.readyDate,"dayCauseDate",a)},expression:"readyDate.dayCauseDate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"用餐时间："}},[t("el-input",{attrs:{disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status)),placeholder:"手工录入"},model:{value:e.readyDate.dayDinner,callback:function(a){e.$set(e.readyDate,"dayDinner",a)},expression:"readyDate.dayDinner"}})],1)],1)]):e._e(),e._v(" "),"1"!=e.readyDate.isCause||""!==e.readyDate.classes&&"中班"!==e.readyDate.classes&&"多班"!==e.readyDate.classes?e._e():t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v("\n      中班录入\n      "),t("span",{staticClass:"readyshiftBtn middleshift",attrs:{name:"middleshift"}},[e._v("收起 "),t("i",{staticClass:"el-icon-caret-top"})])]),e._v(" "),t("div",{staticClass:"middleshiftBox"},[t("el-form-item",{attrs:{label:"工作开始时间："}},[t("el-date-picker",{staticStyle:{width:"184px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy.MM.dd HH:mm",placeholder:"选择",disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status))},model:{value:e.readyDate.midStartDate,callback:function(a){e.$set(e.readyDate,"midStartDate",a)},expression:"readyDate.midStartDate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"开线时间："}},[t("el-date-picker",{staticStyle:{width:"184px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy.MM.dd HH:mm",placeholder:"选择",disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status))},model:{value:e.readyDate.midStartLineDate,callback:function(a){e.$set(e.readyDate,"midStartLineDate",a)},expression:"readyDate.midStartLineDate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"切换时间："}},[t("el-input",{attrs:{placeholder:"手工录入",disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status))},model:{value:e.readyDate.midChange,callback:function(a){e.$set(e.readyDate,"midChange",a)},expression:"readyDate.midChange"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"工作结束时间："}},[t("el-date-picker",{staticStyle:{width:"184px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy.MM.dd HH:mm",placeholder:"选择",disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status))},model:{value:e.readyDate.midEndDate,callback:function(a){e.$set(e.readyDate,"midEndDate",a)},expression:"readyDate.midEndDate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"停线时间："}},[t("el-date-picker",{staticStyle:{width:"184px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy.MM.dd HH:mm",placeholder:"选择",disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status))},model:{value:e.readyDate.midCauseDate,callback:function(a){e.$set(e.readyDate,"midCauseDate",a)},expression:"readyDate.midCauseDate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"用餐时间："}},[t("el-input",{attrs:{placeholder:"手工录入",disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status))},model:{value:e.readyDate.midDinner,callback:function(a){e.$set(e.readyDate,"midDinner",a)},expression:"readyDate.midDinner"}})],1)],1)]),e._v(" "),"1"!=e.readyDate.isCause||""!==e.readyDate.classes&&"夜班"!==e.readyDate.classes&&"多班"!==e.readyDate.classes?e._e():t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e._v("\n      夜班录入\n      "),t("span",{staticClass:"readyshiftBtn nightshift",attrs:{name:"nightshift"}},[e._v("收起 "),t("i",{staticClass:"el-icon-caret-top"})])]),e._v(" "),t("div",{staticClass:"nightshiftBox"},[t("el-form-item",{attrs:{label:"工作开始时间："}},[t("el-date-picker",{staticStyle:{width:"184px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy.MM.dd HH:mm",placeholder:"选择",disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status))},model:{value:e.readyDate.nightStartDate,callback:function(a){e.$set(e.readyDate,"nightStartDate",a)},expression:"readyDate.nightStartDate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"开线时间："}},[t("el-date-picker",{staticStyle:{width:"184px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy.MM.dd HH:mm",placeholder:"选择",disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status))},model:{value:e.readyDate.nightStartLineDate,callback:function(a){e.$set(e.readyDate,"nightStartLineDate",a)},expression:"readyDate.nightStartLineDate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"切换时间："}},[t("el-input",{attrs:{placeholder:"手工录入",disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status))},model:{value:e.readyDate.nightChange,callback:function(a){e.$set(e.readyDate,"nightChange",a)},expression:"readyDate.nightChange"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"工作结束时间："}},[t("el-date-picker",{staticStyle:{width:"184px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy.MM.dd HH:mm",placeholder:"选择",disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status))},model:{value:e.readyDate.nightEndDate,callback:function(a){e.$set(e.readyDate,"nightEndDate",a)},expression:"readyDate.nightEndDate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"停线时间："}},[t("el-date-picker",{staticStyle:{width:"184px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy.MM.dd HH:mm",placeholder:"选择",disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status))},model:{value:e.readyDate.nightCauseDate,callback:function(a){e.$set(e.readyDate,"nightCauseDate",a)},expression:"readyDate.nightCauseDate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"用餐时间："}},[t("el-input",{attrs:{placeholder:"手工录入",disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status))},model:{value:e.readyDate.nightDinner,callback:function(a){e.$set(e.readyDate,"nightDinner",a)},expression:"readyDate.nightDinner"}})],1)],1)]),e._v(" "),t("div",{staticStyle:{padding:"20px"}},[t("el-form-item",{attrs:{label:"交接班："}},[t("el-input",{attrs:{placeholder:"手工录入",disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status))},model:{value:e.readyDate.shift,callback:function(a){e.$set(e.readyDate,"shift",a)},expression:"readyDate.shift"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"班前会："}},[t("el-input",{attrs:{placeholder:"手工录入",disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status))},model:{value:e.readyDate.meeting,callback:function(a){e.$set(e.readyDate,"meeting",a)},expression:"readyDate.meeting"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"生产前准备："}},[t("el-input",{attrs:{placeholder:"手工录入",disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status))},model:{value:e.readyDate.prepared,callback:function(a){e.$set(e.readyDate,"prepared",a)},expression:"readyDate.prepared"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"生产后清场："}},[t("el-input",{attrs:{placeholder:"手工录入",disabled:!(e.isRedact&&("noPass"===e.readyDate.status||"saved"===e.readyDate.status||""===e.readyDate.status))},model:{value:e.readyDate.clear,callback:function(a){e.$set(e.readyDate,"clear",a)},expression:"readyDate.clear"}})],1)],1),e._v(" "),t("auditLog",{attrs:{tableData:e.ReadAudit}})],1)},staticRenderFns:[]};var l=t("C7Lr")(r,i,!1,function(e){t("4/TA")},"data-v-d21052c2",null);a.default=l.exports}});
//# sourceMappingURL=72.b1efb6d6c1ff664ccb78.js.map