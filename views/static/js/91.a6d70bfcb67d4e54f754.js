webpackJsonp([91],{"2FUZ":function(t,e){},XG9P:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=l("P9l9"),r={name:"applyOrder",data:function(){return{multipleSelection:[],OrderDate:[{}]}},props:{isRedact:"",fumet:{type:Array,default:function(){return[]}},SerchSapList:{type:Array,default:function(){return[]}}},mounted:function(){},methods:{ApplyOrder:function(){var t=this;0!==this.multipleSelection.length?(this.multipleSelection.forEach(function(t,e){t.materialCode=t.material.substring(0,t.material.indexOf(" ")),t.materialName=t.material.substring(t.material.indexOf(" ")+1)}),this.$http(""+a.j.SUM_APPLYORDER_API,"POST",this.multipleSelection).then(function(e){var l=e.data;0===l.code?t.$emit("GetFunet"):t.$message.error(l.msg)})):this.$message.error("请选择订单")},backIn:function(t){var e=this;this.$http(""+a.j.SUM_ORDER_BACK_API,"POST",t).then(function(t){var l=t.data;0===l.code||e.$message.error(l.msg)})},UpdateOrder:function(t,e,l){var r=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.fumet.forEach(function(e,l){e.status?"saved"===e.status?e.status=t:"noPass"===e.status&&"submit"===t&&(e.status=t):e.status=t,e.materialCode=e.material.substring(0,e.material.indexOf(" ")),e.materialName=e.material.substring(e.material.indexOf(" ")+1)}),this.$http(""+(!1===o?a.j.SUM_ORDERUPDATE_API:a.j.SUM_ORDER_SUBMIT_API),"POST",this.fumet).then(function(t){var a=t.data;0===a.code?e&&e("resolve"):(l&&l(a.msg),r.$message.error(a.msg))})},handleSelectionChange:function(t){var e=this;this.multipleSelection=[],t.forEach(function(t,l){e.multipleSelection.push(t)})},checkboxApply:function(t){return t.orderNo?0:1}},computed:{},components:{}},o={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("el-row",{staticClass:"clearfix"},[l("h3",{staticStyle:{color:"rgba(0, 0, 0, 0.65)","font-size":"14px",float:"left"}},[t._v("原汁信息")]),t._v(" "),l("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small",disabled:!t.isRedact},on:{click:t.ApplyOrder}},[t._v("申请订单")])],1),t._v(" "),l("el-table",{ref:"table1",attrs:{data:t.fumet,"header-row-class-name":"tableHead",border:"","tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection",selectable:t.checkboxApply,width:"34"}}),t._v(" "),l("el-table-column",{attrs:{width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.potNoName))]}}])},[l("template",{slot:"header"},[l("i",{staticClass:"reqI"},[t._v("*")]),l("span",[t._v("原汁罐号")])])],2),t._v(" "),l("el-table-column",{attrs:{label:"是否混合罐",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-select",{attrs:{placeholder:"请选择",disabled:!(t.isRedact&&"submit"!==e.row.status&&"checked"!==e.row.status),size:"small"},model:{value:e.row.fullPort,callback:function(l){t.$set(e.row,"fullPort",l)},expression:"scope.row.fullPort"}},[l("el-option",{attrs:{label:"正常",value:"正常"}}),t._v(" "),l("el-option",{attrs:{label:"共用混合",value:"共用混合"}}),t._v(" "),l("el-option",{attrs:{label:"单用混合",value:"单用混合"}})],1)]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"物料",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-select",{attrs:{filterable:"",placeholder:"请选择",disabled:!(t.isRedact&&"submit"!==e.row.status&&"checked"!==e.row.status),size:"small"},model:{value:e.row.material,callback:function(l){t.$set(e.row,"material",l)},expression:"scope.row.material"}},t._l(t.SerchSapList,function(t){return l("el-option",{key:t.code+" "+t.value,attrs:{label:t.code+" "+t.value,value:t.code+" "+t.value}})}),1)]}}])}),t._v(" "),l("el-table-column",{attrs:{label:"入罐数量",width:"120",prop:"inPotAmount"}}),t._v(" "),l("el-table-column",{attrs:{label:"满罐数量",width:"140",prop:"fullPotAmount"}}),t._v(" "),l("el-table-column",{attrs:{label:"单位",width:"50",prop:"unit"}}),t._v(" "),l("el-table-column",{attrs:{label:"满罐日期",width:"140",prop:"fullPotDate"}}),t._v(" "),l("el-table-column",{attrs:{label:"原汁批次",width:"140",prop:"batch"}}),t._v(" "),l("el-table-column",{attrs:{label:"生产订单",width:"140",prop:"orderNo"}}),t._v(" "),l("el-table-column",{attrs:{label:"操作",width:"50",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"text",disabled:!t.isRedact},on:{click:function(l){return t.backIn(e.row)}}},[t._v("退回")])]}}])})],1)],1)},staticRenderFns:[]};var s=l("C7Lr")(r,o,!1,function(t){l("2FUZ")},"data-v-74ded348",null);e.default=s.exports}});
//# sourceMappingURL=91.a6d70bfcb67d4e54f754.js.map