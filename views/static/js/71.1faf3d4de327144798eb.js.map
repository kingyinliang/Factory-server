{"version":3,"sources":["webpack:///src/views/page/DataEntry/Squeeze/water/index.vue","webpack:///./src/views/page/DataEntry/Squeeze/water/index.vue?e71c","webpack:///./src/views/page/DataEntry/Squeeze/water/index.vue"],"names":["water","name","data","isRedact","contentshow","succmessage","orderStatus","factory","workshop","productline","formHeader","workShop","productLine","productDate","upMan","upDate","clickstatus","waterList","visible","selctId","userlist","filterMethod","query","item","screncon","indexOf","multipleSelection","mounted","Object","validate","this","$","Getdeptcode","watch","formHeader.factory","n","o","Getdeptbyid","formHeader.workShop","GetParentline","methods","_this","$http","api","FINDORG_API","then","_ref","code","typeList","$message","error","msg","id","_this2","FINDORGBYID_API","deptId","deptName","_ref2","_this3","FINDORGBYPARENTID1_API","parentId","deptType","_ref3","childList","SearchList","_this4","WATERLIST_API","_ref4","drechinfo","map","$set","Date","pulpEndDate","toFixed","selectUser","row","_this5","USERLIST_API","_ref5","page","list","moveOperator","split","updatauser","join","SubmitForm","_this6","$confirm","confirmButtonText","cancelButtonText","type","savedOrSubmitForm","str","_this7","configurl","length","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","items","value","err","return","WATERSUBMIT_API","_ref6","success","WATERSAVE_API","_ref7","handleSelectionChange","val","Squeeze_water","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","model","inline","size","label-width","label","placeholder","callback","$$v","expression","_v","_l","index","key","staticStyle","text-align","isAuth","on","click","_e","$event","_s","directives","rawName","_m","margin-top","border","header-row-class-name","selection-change","width","prop","scopedSlots","_u","fn","scope","deviceName","slot","show-overflow-tooltip","style","cursor","title","close-on-click-modal","update:visible","filterable","titles","filter-method","filter-placeholder","staticRenderFns","background-color","margin-bottom","position","border-radius","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/71.1faf3d4de327144798eb.js","sourcesContent":["<template>\r\n  <div class=\"main\">\r\n    <el-card class=\"newCard searchCard\">\r\n      <el-row>\r\n        <el-col>\r\n          <el-form :model=\"formHeader\" :inline=\"true\" size=\"small\" label-width=\"75px\">\r\n            <el-form-item label=\"生产工厂：\">\r\n              <el-select v-model=\"formHeader.factory\" placeholder=\"请选择\" class=\"width180px\">\r\n                <el-option label=\"请选择\"  value=\"\"></el-option>\r\n                <el-option :label=\"item.deptName\" v-for=\"(item, index) in factory\" :key=\"index\" :value=\"item.deptId\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"生产车间：\">\r\n              <el-select v-model=\"formHeader.workShop\" placeholder=\"请选择\" class=\"width180px\">\r\n                <el-option label=\"请选择\"  value=\"\"></el-option>\r\n                <el-option :label=\"item.deptName\" v-for=\"(item, index) in workshop\" :key=\"index\" :value=\"item.deptId\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"布浆线：\">\r\n              <el-select v-model=\"formHeader.productLine\" placeholder=\"请选择\" class=\"width180px\">\r\n                <el-option label=\"请选择\"  value=\"\"></el-option>\r\n                <el-option :label=\"item.deptName\" v-for=\"(item, index) in productline\" :key=\"index\" :value=\"item.deptId\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row style=\"text-align:right\">\r\n        <template style=\"float:right; margin-left: 10px;\">\r\n          <el-button type=\"primary\" size=\"small\" @click=\"SearchList\" v-if=\"isAuth('prs:drench:drenchList')\">查询</el-button>\r\n          <el-button type=\"primary\" class=\"button\" size=\"small\" @click=\"isRedact = !isRedact\" v-if=\"orderStatus !== 'submit' && orderStatus !== 'checked' && isAuth('prs:dernchUpdate')\">{{isRedact?'取消':'编辑'}}</el-button>\r\n        </template>\r\n        <template v-if=\"isRedact\" style=\"float:right; margin-left: 10px;\">\r\n          <el-button type=\"primary\" size=\"small\" @click=\"savedOrSubmitForm('saved')\" v-if=\"isAuth('prs:dernchUpdate')\">保存</el-button>\r\n          <el-button type=\"primary\" size=\"small\" @click=\"SubmitForm\" v-if=\"isAuth('prs:dernchUpdate')\">提交</el-button>\r\n        </template>\r\n      </el-row>\r\n      <div class=\"toggleSearchBottom\">\r\n        <i class=\"el-icon-caret-top\"></i>\r\n      </div>\r\n    </el-card>\r\n    <div class=\"tableCard\" v-show=\"contentshow\">\r\n      <div class=\"toggleSearchTop\" style=\"background-color: white;margin-bottom: 8px;position: relative;border-radius: 5px\">\r\n        <i class=\"el-icon-caret-bottom\"></i>\r\n      </div>\r\n      <el-card style=\"margin-top:10px\">\r\n        <el-table :data=\"waterList\" @selection-change=\"handleSelectionChange\" border header-row-class-name=\"tableHead\">\r\n          <el-table-column type=\"selection\" width=\"35\"></el-table-column>\r\n          <el-table-column label=\"工序\" width=\"50px\">自淋</el-table-column>\r\n          <el-table-column label=\"气垫车号\" prop=\"gx\">\r\n            <template slot=\"header\"><i class=\"reqI\">*</i><span>气垫车号</span></template>\r\n            <template slot-scope=\"scope\">\r\n              {{scope.row.deviceName}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"布浆线\" prop=\"deptName\"></el-table-column>\r\n          <el-table-column label=\"布浆结束时间\" prop=\"pulpEndDate\"></el-table-column>\r\n          <el-table-column label=\"自淋时间(H)\" prop=\"drenchTime\"></el-table-column>\r\n          <el-table-column label=\"挪笼操作员\" :show-overflow-tooltip=\"true\">\r\n            <template slot=\"header\"><i class=\"reqI\">*</i><span>挪笼操作员</span></template>\r\n            <template slot-scope=\"scope\">\r\n              <el-col v-if=\"!scope.row.moveOperator\">\r\n                <span :style=\"{'cursor':isRedact?'pointer':''}\" @click=\"selectUser(scope.row)\">\r\n                  <i>{{scope.row.moveOperator}}</i>\r\n                  <i>点击选择人员</i>\r\n                </span>\r\n              </el-col>\r\n              <span v-else :style=\"{'cursor':isRedact?'pointer':''}\" @click=\"selectUser(scope.row)\">{{scope.row.moveOperator}}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"布浆操作员\" prop=\"drenchOperator\"></el-table-column>\r\n        </el-table>\r\n      </el-card>\r\n    </div>\r\n    <el-dialog title=\"人员分配\" :close-on-click-modal=\"false\" :visible.sync=\"visible\">\r\n      <el-row>\r\n        <el-col style=\"width: 500px\">\r\n          <el-transfer\r\n            filterable\r\n            :titles=\"['未分配人员', '已分配人员']\"\r\n            :filter-method=\"filterMethod\"\r\n            filter-placeholder=\"请输入用户名称\"\r\n            v-model=\"selctId\"\r\n            :data=\"userlist\">\r\n          </el-transfer>\r\n        </el-col>\r\n      </el-row>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"visible = false\">取消</el-button>\r\n          <el-button type=\"primary\" @click=\"updatauser(row)\">确定</el-button>\r\n        </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { BASICDATA_API, SYSTEMSETUP_API, SQU_API } from '@/api/api'\r\nimport { headanimation, setUserList } from '@/net/validate'\r\nexport default {\r\n  name: 'water',\r\n  data () {\r\n    return {\r\n      isRedact: false,\r\n      contentshow: false,\r\n      succmessage: '',\r\n      orderStatus: '',\r\n      factory: [],\r\n      workshop: [],\r\n      productline: [],\r\n      formHeader: {\r\n        factory: '',\r\n        workShop: '',\r\n        productLine: '',\r\n        productDate: '',\r\n        upMan: '',\r\n        upDate: '',\r\n        clickstatus: 'saved'\r\n      },\r\n      waterList: [],\r\n      visible: false,\r\n      selctId: [],\r\n      userlist: [],\r\n      filterMethod (query, item) {\r\n        return item.screncon.indexOf(query) > -1\r\n      },\r\n      multipleSelection: []\r\n    }\r\n  },\r\n  mounted () {\r\n    headanimation(this.$)\r\n    this.Getdeptcode()\r\n  },\r\n  watch: {\r\n    'formHeader.factory' (n, o) {\r\n      this.Getdeptbyid(n)\r\n    },\r\n    'formHeader.workShop' (n, o) {\r\n      this.GetParentline(n)\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取工厂\r\n    Getdeptcode () {\r\n      this.$http(`${BASICDATA_API.FINDORG_API}?code=factory`, 'POST').then(({data}) => {\r\n        if (data.code === 0) {\r\n          this.factory = data.typeList\r\n        } else {\r\n          this.$message.error(data.msg)\r\n        }\r\n      })\r\n    },\r\n    // 获取车间\r\n    Getdeptbyid (id) {\r\n      this.formHeader.workShop = ''\r\n      this.formHeader.productLine = ''\r\n      if (id) {\r\n        this.$http(`${BASICDATA_API.FINDORGBYID_API}`, 'POST', {deptId: id, deptName: '压榨'}).then(({data}) => {\r\n          if (data.code === 0) {\r\n            this.workshop = data.typeList\r\n          } else {\r\n            this.$message.error(data.msg)\r\n          }\r\n        })\r\n      } else {\r\n        this.workshop = []\r\n      }\r\n    },\r\n    // 获取产线\r\n    GetParentline (id) {\r\n      this.formHeader.productLine = ''\r\n      if (id) {\r\n        this.$http(`${BASICDATA_API.FINDORGBYPARENTID1_API}`, 'POST', {parentId: id, deptType: 'proLine'}).then(({data}) => {\r\n          if (data.code === 0) {\r\n            this.productline = data.childList\r\n          } else {\r\n            this.$message.error(data.msg)\r\n          }\r\n        })\r\n      } else {\r\n        this.productline = []\r\n      }\r\n    },\r\n    SearchList () {\r\n      // if (!this.formHeader.factory || this.formHeader.factory === '') {\r\n      //   this.$message.error('请选择生产工厂')\r\n      //   return false\r\n      // }\r\n      // if (!this.formHeader.workShop || this.formHeader.workShop === '') {\r\n      //   this.$message.error('请选择生产车间')\r\n      //   return false\r\n      // }\r\n      // if (!this.formHeader.productLine || this.formHeader.productLine === '') {\r\n      //   this.$message.error('请选择布浆线')\r\n      //   return false\r\n      // }\r\n      this.contentshow = true\r\n      this.$http(`${SQU_API.WATERLIST_API}`, 'POST', {factory: this.formHeader.factory, workShop: this.formHeader.workShop, productLine: this.formHeader.productLine, productDate: this.formHeader.productDate}).then(({data}) => {\r\n        if (data.code === 0) {\r\n          this.waterList = data.drechinfo\r\n          this.waterList.map((item) => {\r\n            this.$set(item, 'drenchTime', ((new Date() - new Date(item.pulpEndDate)) / (3600000)).toFixed(2))\r\n          })\r\n        } else {\r\n          this.$message.error(data.msg)\r\n        }\r\n      })\r\n    },\r\n    selectUser (row) {\r\n      if (this.isRedact) {\r\n        this.row = row\r\n        this.$http(`${SYSTEMSETUP_API.USERLIST_API}`, 'POST', {deptId: this.formHeader.workShop}).then(({data}) => {\r\n          if (data.code === 0) {\r\n            this.userlist = setUserList(data.page.list)\r\n            if (this.row.moveOperator) {\r\n              this.selctId = this.row.moveOperator.split(',')\r\n            }\r\n            this.visible = true\r\n          } else {\r\n            this.$message.error(data.msg)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    // 人员确定\r\n    updatauser (row) {\r\n      this.$set(row, 'moveOperator', this.selctId.join(','))\r\n      this.selctId = []\r\n      this.visible = false\r\n    },\r\n    // 提交\r\n    SubmitForm () {\r\n      this.$confirm('确认提交该订单, 是否继续?', '提交订单', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.savedOrSubmitForm('submit')\r\n      })\r\n    },\r\n    // 保存\r\n    savedOrSubmitForm (str) {\r\n      let configurl\r\n      if (str === 'submit') {\r\n        if (this.multipleSelection.length === 0) {\r\n          this.$message.error('没有勾选提交数据')\r\n          return false\r\n        }\r\n        for (let items of this.multipleSelection) {\r\n          if (!items.moveOperator || items.moveOperator === '') {\r\n            this.$message.error('请选择挪笼操作人')\r\n            return false\r\n          }\r\n        }\r\n        configurl = SQU_API.WATERSUBMIT_API\r\n        this.succmessage = '提交成功'\r\n        this.$http(`${configurl}`, 'POST', this.multipleSelection).then(({data}) => {\r\n          if (data.code === 0) {\r\n            this.SearchList()\r\n            this.$message.success(this.succmessage)\r\n            this.isRedact = false\r\n          } else {\r\n            this.$message.error(data.msg)\r\n          }\r\n        })\r\n      } else {\r\n        configurl = SQU_API.WATERSAVE_API\r\n        this.succmessage = '保存成功'\r\n        this.$http(`${configurl}`, 'POST', this.waterList).then(({data}) => {\r\n          if (data.code === 0) {\r\n            this.SearchList()\r\n            this.$message.success(this.succmessage)\r\n            this.isRedact = false\r\n          } else {\r\n            this.$message.error(data.msg)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    handleSelectionChange (val) {\r\n      this.multipleSelection = val\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.width180px {\r\n  width: 180px;\r\n}\r\n.searchCard {\r\n  .el-button--primary,.el-button--primary:focus{\r\n    color: #000000;\r\n    background-color: #FFFFFF;\r\n    border-color: #D9D9D9;\r\n  }\r\n  .el-button--primary:hover{\r\n    background-color: #1890FF;\r\n    color: #FFFFFF\r\n  }\r\n  .el-button--primary:first-child{\r\n    background-color: #1890FF;\r\n    color: #FFFFFF;\r\n    border-color: #1890FF;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/page/DataEntry/Squeeze/water/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('el-card',{staticClass:\"newCard searchCard\"},[_c('el-row',[_c('el-col',[_c('el-form',{attrs:{\"model\":_vm.formHeader,\"inline\":true,\"size\":\"small\",\"label-width\":\"75px\"}},[_c('el-form-item',{attrs:{\"label\":\"生产工厂：\"}},[_c('el-select',{staticClass:\"width180px\",attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.formHeader.factory),callback:function ($$v) {_vm.$set(_vm.formHeader, \"factory\", $$v)},expression:\"formHeader.factory\"}},[_c('el-option',{attrs:{\"label\":\"请选择\",\"value\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.factory),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.deptName,\"value\":item.deptId}})})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"生产车间：\"}},[_c('el-select',{staticClass:\"width180px\",attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.formHeader.workShop),callback:function ($$v) {_vm.$set(_vm.formHeader, \"workShop\", $$v)},expression:\"formHeader.workShop\"}},[_c('el-option',{attrs:{\"label\":\"请选择\",\"value\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.workshop),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.deptName,\"value\":item.deptId}})})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"布浆线：\"}},[_c('el-select',{staticClass:\"width180px\",attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.formHeader.productLine),callback:function ($$v) {_vm.$set(_vm.formHeader, \"productLine\", $$v)},expression:\"formHeader.productLine\"}},[_c('el-option',{attrs:{\"label\":\"请选择\",\"value\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.productline),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.deptName,\"value\":item.deptId}})})],2)],1)],1)],1)],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"text-align\":\"right\"}},[[(_vm.isAuth('prs:drench:drenchList'))?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.SearchList}},[_vm._v(\"查询\")]):_vm._e(),_vm._v(\" \"),(_vm.orderStatus !== 'submit' && _vm.orderStatus !== 'checked' && _vm.isAuth('prs:dernchUpdate'))?_c('el-button',{staticClass:\"button\",attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.isRedact = !_vm.isRedact}}},[_vm._v(_vm._s(_vm.isRedact?'取消':'编辑'))]):_vm._e()],_vm._v(\" \"),(_vm.isRedact)?[(_vm.isAuth('prs:dernchUpdate'))?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.savedOrSubmitForm('saved')}}},[_vm._v(\"保存\")]):_vm._e(),_vm._v(\" \"),(_vm.isAuth('prs:dernchUpdate'))?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.SubmitForm}},[_vm._v(\"提交\")]):_vm._e()]:_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"toggleSearchBottom\"},[_c('i',{staticClass:\"el-icon-caret-top\"})])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.contentshow),expression:\"contentshow\"}],staticClass:\"tableCard\"},[_vm._m(0),_vm._v(\" \"),_c('el-card',{staticStyle:{\"margin-top\":\"10px\"}},[_c('el-table',{attrs:{\"data\":_vm.waterList,\"border\":\"\",\"header-row-class-name\":\"tableHead\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"35\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"工序\",\"width\":\"50px\"}},[_vm._v(\"自淋\")]),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"气垫车号\",\"prop\":\"gx\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.deviceName)+\"\\n          \")]}}])},[_c('template',{slot:\"header\"},[_c('i',{staticClass:\"reqI\"},[_vm._v(\"*\")]),_c('span',[_vm._v(\"气垫车号\")])])],2),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"布浆线\",\"prop\":\"deptName\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"布浆结束时间\",\"prop\":\"pulpEndDate\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"自淋时间(H)\",\"prop\":\"drenchTime\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"挪笼操作员\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(!scope.row.moveOperator)?_c('el-col',[_c('span',{style:({'cursor':_vm.isRedact?'pointer':''}),on:{\"click\":function($event){return _vm.selectUser(scope.row)}}},[_c('i',[_vm._v(_vm._s(scope.row.moveOperator))]),_vm._v(\" \"),_c('i',[_vm._v(\"点击选择人员\")])])]):_c('span',{style:({'cursor':_vm.isRedact?'pointer':''}),on:{\"click\":function($event){return _vm.selectUser(scope.row)}}},[_vm._v(_vm._s(scope.row.moveOperator))])]}}])},[_c('template',{slot:\"header\"},[_c('i',{staticClass:\"reqI\"},[_vm._v(\"*\")]),_c('span',[_vm._v(\"挪笼操作员\")])])],2),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"布浆操作员\",\"prop\":\"drenchOperator\"}})],1)],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"人员分配\",\"close-on-click-modal\":false,\"visible\":_vm.visible},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('el-row',[_c('el-col',{staticStyle:{\"width\":\"500px\"}},[_c('el-transfer',{attrs:{\"filterable\":\"\",\"titles\":['未分配人员', '已分配人员'],\"filter-method\":_vm.filterMethod,\"filter-placeholder\":\"请输入用户名称\",\"data\":_vm.userlist},model:{value:(_vm.selctId),callback:function ($$v) {_vm.selctId=$$v},expression:\"selctId\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.updatauser(_vm.row)}}},[_vm._v(\"确定\")])],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"toggleSearchTop\",staticStyle:{\"background-color\":\"white\",\"margin-bottom\":\"8px\",\"position\":\"relative\",\"border-radius\":\"5px\"}},[_c('i',{staticClass:\"el-icon-caret-bottom\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-dc6084ea\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/page/DataEntry/Squeeze/water/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-dc6084ea\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-dc6084ea\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-dc6084ea\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/page/DataEntry/Squeeze/water/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}