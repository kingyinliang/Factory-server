webpackJsonp([83],{"9oAd":function(e,t){},iMLQ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("P9l9"),r={name:"UserAddOrUpdate",data:function(){return{deptId:"",userId:"",visible:!1,dataForm:{name:"",realName:"",workNum:"",workNumTemp:"",post:"",email:"",mobile:""},type:!0,dataRule:{realName:[{required:!0,message:"人员姓名不能为空",trigger:"blur"}]}}},mounted:function(){},methods:{init:function(e,t){var a=this;this.deptId=e,t?(this.userId=t,this.$http(o.k.USERDETAIL_API+"/"+t,"GET").then(function(e){var t=e.data;console.log(t),0===t.code?a.dataForm=t.user:a.$message.error(t.msg)})):(this.userId="",this.dataForm={}),this.visible=!0},dataFormSubmit:function(){var e=this;this.dataForm.deptId=this.deptId,this.$refs.dataForm.validate(function(t){t&&e.type&&(e.type=!1,e.dataForm.workNum||e.dataForm.workNumTemp?e.userId?e.$http(""+o.k.USERUPDATE_API,"POST",e.dataForm).then(function(t){var a=t.data;console.log(a),0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.type=!0,e.visible=!1,e.$emit("refreshDataList")}}):(e.type=!0,e.$message.error(a.msg))}):e.$http(""+o.k.USERADD_API,"POST",e.dataForm).then(function(t){var a=t.data;console.log(a),0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.type=!0,e.visible=!1,e.$emit("refreshDataList")}}):(e.type=!0,e.$message.error(a.msg))}):(e.type=!0,e.$message.error("人员工号和虚拟工号必须添加一个")))})}},computed:{},components:{}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.userId?"修改人员信息":"新增人员","close-on-click-modal":!1,visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[a("div",[a("el-form",{ref:"dataForm",attrs:{model:e.dataForm,"status-icon":"",rules:e.dataRule,"label-width":"100px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.dataFormSubmit()}}},[a("el-form-item",{attrs:{label:"人员工号："}},[a("el-input",{attrs:{placeholder:"手动输入"},model:{value:e.dataForm.workNum,callback:function(t){e.$set(e.dataForm,"workNum",t)},expression:"dataForm.workNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"虚拟工号："}},[a("el-input",{attrs:{placeholder:"手动输入"},model:{value:e.dataForm.workNumTemp,callback:function(t){e.$set(e.dataForm,"workNumTemp",t)},expression:"dataForm.workNumTemp"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"人员姓名：",prop:"realName"}},[a("el-input",{attrs:{placeholder:"手动输入","auto-complete":"off"},model:{value:e.dataForm.realName,callback:function(t){e.$set(e.dataForm,"realName",t)},expression:"dataForm.realName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"职务："}},[a("el-input",{attrs:{placeholder:"手动输入"},model:{value:e.dataForm.post,callback:function(t){e.$set(e.dataForm,"post",t)},expression:"dataForm.post"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱："}},[a("el-input",{attrs:{placeholder:"手动输入"},model:{value:e.dataForm.email,callback:function(t){e.$set(e.dataForm,"email",t)},expression:"dataForm.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号："}},[a("el-input",{attrs:{placeholder:"手动输入"},model:{value:e.dataForm.mobile,callback:function(t){e.$set(e.dataForm,"mobile",t)},expression:"dataForm.mobile"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.dataFormSubmit}},[e._v("确定")])],1)])},staticRenderFns:[]};var s=a("C7Lr")(r,l,!1,function(e){a("9oAd")},"data-v-940eaa9e",null);t.default=s.exports}});
//# sourceMappingURL=83.30de0ae2d8019075c1ae.js.map