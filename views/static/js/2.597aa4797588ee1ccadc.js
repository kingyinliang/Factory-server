webpackJsonp([2],{"1wgo":function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=l("P9l9"),o={name:"linkage",data:function(){return{factory:[],workshop:[],productline:[],Team:[]}},watch:{"plantList.factory":function(t,e){this.Getdeptbyid(t)},"plantList.workshop":function(t,e){t&&(void 0!==this.plantList.deptId?(this.getTeam(),this.GetParentline(t)):this.GetParentline(t))}},props:{plantList:{},lablewidth:{},isPackaging:{}},mounted:function(){this.Getdeptcode()},methods:{Getdeptcode:function(){var t=this;this.$http(a.c.FINDORG_API+"?code=factory","POST",{},!1,!1,!1).then(function(e){var l=e.data;0===l.code?t.factory=l.typeList:t.$message.error(l.msg)})},Getdeptbyid:function(t){var e=this;this.plantList.workshop="",this.plantList.productline="",t&&this.$http(""+a.c.FINDORGBYID_API,"POST",this.isPackaging?{deptId:t,deptName:"包装 组装"}:{deptId:t},!1,!1,!1).then(function(t){var l=t.data;0===l.code?e.workshop=l.typeList:e.$message.error(l.msg)})},GetParentline:function(t){var e=this;this.plantList.productline="",t&&this.$http(""+a.c.FINDORGBYPARENTID_API,"POST",{parentId:t},!1,!1,!1).then(function(t){var l=t.data;0===l.code?e.productline=l.childList:e.$message.error(l.msg)})},getTeam:function(){var t=this;this.$http(""+a.c.FINDTEAM_API,"POST",{id:this.plantList.workshop,factory:this.plantList.factory},!1,!1,!1).then(function(e){var l=e.data;t.Team=l.teamList})}},computed:{},components:{}},i={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("el-col",[t.lablewidth?t._e():l("el-form",{attrs:{model:t.plantList,size:"small",inline:!0,"label-position":"right","label-width":"70px"}},[l("el-form-item",{attrs:{label:"工厂："}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:t.plantList.factory,callback:function(e){t.$set(t.plantList,"factory",e)},expression:"plantList.factory"}},[l("el-option",{attrs:{label:"请选择",value:""}}),t._v(" "),t._l(t.factory,function(t,e){return l("el-option",{key:e,attrs:{label:t.deptName,value:t.deptId}})})],2)],1),t._v(" "),l("el-form-item",{attrs:{label:"车间："}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:t.plantList.workshop,callback:function(e){t.$set(t.plantList,"workshop",e)},expression:"plantList.workshop"}},[l("el-option",{attrs:{label:"请选择",value:""}}),t._v(" "),t._l(t.workshop,function(t,e){return l("el-option",{key:e,attrs:{label:t.deptName,value:t.deptId}})})],2)],1),t._v(" "),l("el-form-item",{attrs:{label:"产线："}},[l("el-select",{attrs:{placeholder:"产线"},model:{value:t.plantList.productline,callback:function(e){t.$set(t.plantList,"productline",e)},expression:"plantList.productline"}},[l("el-option",{attrs:{label:"请选择",value:""}}),t._v(" "),t._l(t.productline,function(t,e){return l("el-option",{key:e,attrs:{label:t.deptName,value:t.deptId}})})],2)],1),t._v(" "),void 0!==t.plantList.deptId?l("el-form-item",{attrs:{label:"班组："}},[l("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.plantList.deptId,callback:function(e){t.$set(t.plantList,"deptId",e)},expression:"plantList.deptId"}},[l("el-option",{attrs:{label:"请选择",value:""}}),t._v(" "),t._l(t.Team,function(t,e){return l("el-option",{key:e,attrs:{label:t.deptName,value:t.deptId}})})],2)],1):t._e(),t._v(" "),void 0!==t.plantList.deptId?l("el-form-item",{attrs:{label:"日期："}},[l("el-date-picker",{staticStyle:{width:"199px"},attrs:{type:"month",placeholder:"选择月份","value-format":"yyyy-MM"},model:{value:t.plantList.productDate,callback:function(e){t.$set(t.plantList,"productDate",e)},expression:"plantList.productDate"}})],1):t._e()],1),t._v(" "),t.lablewidth?l("el-form",{attrs:{model:t.plantList,size:"small",inline:!0,"label-position":"right","label-width":"100px"}},[l("el-form-item",{attrs:{label:"工厂："}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:t.plantList.factory,callback:function(e){t.$set(t.plantList,"factory",e)},expression:"plantList.factory"}},[l("el-option",{attrs:{label:"请选择",value:""}}),t._v(" "),t._l(t.factory,function(t,e){return l("el-option",{key:e,attrs:{label:t.deptName,value:t.deptId}})})],2)],1),t._v(" "),l("el-form-item",{attrs:{label:"车间："}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:t.plantList.workshop,callback:function(e){t.$set(t.plantList,"workshop",e)},expression:"plantList.workshop"}},[l("el-option",{attrs:{label:"请选择",value:""}}),t._v(" "),t._l(t.workshop,function(t,e){return l("el-option",{key:e,attrs:{label:t.deptName,value:t.deptId}})})],2)],1),t._v(" "),l("el-form-item",{attrs:{label:"产线："}},[l("el-select",{attrs:{placeholder:"产线"},model:{value:t.plantList.productline,callback:function(e){t.$set(t.plantList,"productline",e)},expression:"plantList.productline"}},[l("el-option",{attrs:{label:"请选择",value:""}}),t._v(" "),t._l(t.productline,function(t,e){return l("el-option",{key:e,attrs:{label:t.deptName,value:t.deptId}})})],2)],1),t._v(" "),void 0!==t.plantList.deptId?l("el-form-item",{attrs:{label:"班组："}},[l("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.plantList.deptId,callback:function(e){t.$set(t.plantList,"deptId",e)},expression:"plantList.deptId"}},[l("el-option",{attrs:{label:"请选择",value:""}}),t._v(" "),t._l(t.Team,function(t,e){return l("el-option",{key:e,attrs:{label:t.deptName,value:t.deptId}})})],2)],1):t._e(),t._v(" "),void 0!==t.plantList.deptId?l("el-form-item",{attrs:{label:"日期："}},[l("el-date-picker",{staticStyle:{width:"199px"},attrs:{type:"month",placeholder:"选择月份","value-format":"yyyy-MM"},model:{value:t.plantList.productDate,callback:function(e){t.$set(t.plantList,"productDate",e)},expression:"plantList.productDate"}})],1):t._e()],1):t._e()],1)},staticRenderFns:[]};var n=l("C7Lr")(o,i,!1,function(t){l("V2H1")},"data-v-5caa0b50",null);e.default=n.exports},V2H1:function(t,e){}});
//# sourceMappingURL=2.597aa4797588ee1ccadc.js.map