{"version":3,"sources":["webpack:///src/views/page/DataEntry/Packaging/index.vue","webpack:///./src/views/page/DataEntry/Packaging/index.vue?1320","webpack:///./src/views/page/DataEntry/Packaging/index.vue"],"names":["Packaging","name","data","factory","workshop","plantList","factoryid","workShop","orderNo","productDate","list","workShopname","watch","plantList.factoryid","n","o","this","Getdeptbyid","mounted","PkgproductDate","Date","getFullYear","toString","getMonth","getDate","Pkgfactoryid","Getdeptcode","that","setTimeout","GetOrderList","methods","_this","$http","api","FINDORG_API","then","_ref","code","typeList","deptId","$message","error","msg","id","typ","_this2","console","log","FINDORGBYID_API","deptName","_ref2","PkgworkShop","_this3","PKGORDELIST_API","_ref3","orderList","orderchange","row","_this4","orderNo2","_ref4","materialCode","materialName","planOutput","orderStatus","outputUnit","properties","realOutput","plan","result","i","length","j","productLine","push","orderNos","img","productLineName","order_arr","setworkShopname","val","goPro","item","PkgorderNo","mainTabs","filter","$router","computed","get","$store","state","common","set","commit","mainTabsActiveName","components","DataEntry_Packaging","render","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","modifiers","fullscreen","lock","attrs","element-loading-text","staticClass","ref","model","size","inline","label-position","label-width","nativeOn","keyup","$event","type","indexOf","_k","keyCode","key","submit","preventDefault","label","placeholder","callback","$$v","$set","_v","_l","index","on","change","value-format","click","gutter","staticStyle","margin-bottom","span","_s","isAuth","float","_e","color","font-size","min-width","style","src","alt","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/81.cad4ac1e2bfcc3022184.js","sourcesContent":["<template>\r\n  <el-col v-loading.fullscreen.lock=\"lodingStatus\" element-loading-text=\"加载中\">\r\n    <div class=\"main\">\r\n      <el-card>\r\n        <el-form :model=\"plantList\" size=\"small\" :inline=\"true\" label-position=\"left\" label-width=\"55px\" ref=\"\" @keyup.enter.native=\"GetOrderList()\" @submit.native.prevent>\r\n          <el-form-item label=\"工厂：\">\r\n            <el-select v-model=\"plantList.factoryid\" placeholder=\"请选择\">\r\n              <el-option label=\"\" value=\"\"></el-option>\r\n              <el-option :label=\"item.deptName\" v-for=\"(item, index) in factory\" :key=\"index\" :value=\"item.deptId\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"车间：\">\r\n            <el-select v-model=\"plantList.workShop\" placeholder=\"请选择\" @change=\"setworkShopname\">\r\n              <el-option :label=\"item.deptName\" v-for=\"(item, index) in workshop\" :key=\"index\" :value=\"item.deptId\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"时间：\">\r\n            <el-date-picker type=\"date\" placeholder=\"选择\" v-model=\"plantList.productDate\" value-format=\"yyyyMMdd\"></el-date-picker>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"GetOrderList()\">查询</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"12\" v-for=\"(item, index) in list\" :key=\"index\" style=\"margin-bottom: 10px\">\r\n            <el-card class=\"box-card\">\r\n            <el-form :model=\"item\" size=\"small\" label-position=\"right\" label-width=\"85px\">\r\n              <div class=\"clearfix pro-line\">\r\n                <el-form-item label=\"产线：\">\r\n                  <p>\r\n                    {{item.productLineName}}\r\n                    <el-button @click=\"goPro(item)\" type=\"primary\" size=\"small\" style=\"float: right\" v-if=\"isAuth('pkg:order:list')\">数据录入</el-button>\r\n                    <span style=\"float: right;color: #8a979e;font-size: 14px;min-width: 150px\">订单状态：<i :style=\"{'color': item.orderStatus === 'noPass'? 'red': item.orderStatus === 'checked'? '#67C23A' : ''}\">{{item.orderStatus === 'submit'? '已提交' : item.orderStatus === 'checked' ? '审核通过' : item.orderStatus === 'noPass'?  '审核不通过' : item.orderStatus === 'saved'? '已保存' : item.orderStatus === '已同步' ? '未录入' : item.orderStatus}}</i></span>\r\n                  </p>\r\n                </el-form-item>\r\n              </div>\r\n              <div class=\"clearfix item\">\r\n                <img :src=\"'data:image/gif;base64,' + item.img\" alt=\"\">\r\n                <div class=\"itemForm\">\r\n                    <el-form-item label=\"订单号：\" style=\"margin-bottom: 10px;\">\r\n                      <el-select v-model=\"item.orderNo\" placeholder=\"请选择\" :change=\"orderchange(item)\">\r\n                        <el-option label=\"\"  value=\"\"></el-option>\r\n                        <el-option :label=\"item\" v-for=\"(item, index) in item.order_arr\" :key=\"index\" :value=\"item\"></el-option>\r\n                      </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"品项：\" style=\"margin-bottom: 10px;\">\r\n                      <p class=\"hiddenP\">{{item.materialCode + ' ' + item.materialName}}</p>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"计划产量：\" style=\"margin-bottom: 10px;\">\r\n                      <p>{{item.planOutput + ' ' + item.outputUnit}}</p>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"实时产量：\" style=\"margin-bottom: 10px;\">\r\n                      <p>{{item.realOutput? item.realOutput + item.outputUnit: '0' + ' ' + item.outputUnit}}</p>\r\n                    </el-form-item>\r\n                </div>\r\n              </div>\r\n               </el-form>\r\n            </el-card>\r\n          </el-col>\r\n        </el-row>\r\n      </el-card>\r\n    </div>\r\n  </el-col>\r\n</template>\r\n\r\n<script>\r\nimport {BASICDATA_API, PACKAGING_API} from '@/api/api'\r\nexport default {\r\n  name: 'index',\r\n  data () {\r\n    return {\r\n      factory: [],\r\n      workshop: [],\r\n      plantList: {\r\n        factoryid: '',\r\n        workShop: '',\r\n        orderNo: '',\r\n        productDate: ''\r\n      },\r\n      list: [],\r\n      workShop: '',\r\n      productDate: '',\r\n      factoryid: '',\r\n      workShopname: ''\r\n    }\r\n  },\r\n  watch: {\r\n    'plantList.factoryid' (n, o) {\r\n      this.Getdeptbyid(n)\r\n    }\r\n  },\r\n  mounted () {\r\n    if (this.PkgproductDate === '') {\r\n      this.plantList.productDate = new Date(new Date() - 24 * 60 * 60 * 1000).getFullYear().toString() + ((new Date(new Date() - 24 * 60 * 60 * 1000).getMonth() + 1) >= 10 ? (new Date(new Date() - 24 * 60 * 60 * 1000).getMonth() + 1).toString() : '0' + (new Date(new Date() - 24 * 60 * 60 * 1000).getMonth() + 1)) + (new Date(new Date() - 24 * 60 * 60 * 1000).getDate() >= 10 ? new Date(new Date() - 24 * 60 * 60 * 1000).getDate().toString() : ('0' + new Date(new Date() - 24 * 60 * 60 * 1000).getDate()))\r\n    } else {\r\n      this.plantList.productDate = this.PkgproductDate\r\n    }\r\n    this.plantList.factoryid = this.Pkgfactoryid\r\n    this.Getdeptcode()\r\n    let that = this\r\n    setTimeout(function () {\r\n      if (that.plantList.workShop) {\r\n        that.GetOrderList()\r\n      }\r\n    }, 1000)\r\n  },\r\n  methods: {\r\n    // 获取工厂,ceshi\r\n    Getdeptcode () {\r\n      this.$http(`${BASICDATA_API.FINDORG_API}?code=factory`, 'POST').then(({data}) => {\r\n        if (data.code === 0) {\r\n          this.factory = data.typeList\r\n          if (!this.plantList.factoryid) {\r\n            this.plantList.factoryid = data.typeList[0].deptId\r\n          }\r\n        } else {\r\n          this.$message.error(data.msg)\r\n        }\r\n      })\r\n    },\r\n    // 获取车间\r\n    Getdeptbyid (id, typ) {\r\n      this.plantList.workShop = ''\r\n      console.log(this.plantList.workShop)\r\n      if (id) {\r\n        this.$http(`${BASICDATA_API.FINDORGBYID_API}`, 'POST', {deptId: id, deptName: '包装 组装'}).then(({data}) => {\r\n          if (data.code === 0) {\r\n            this.workshop = data.typeList\r\n            if (this.PkgworkShop === '' && this.plantList.workShop === '') {\r\n              this.plantList.workShop = data.typeList[0].deptId\r\n            } else {\r\n              this.plantList.workShop = this.PkgworkShop\r\n            }\r\n          } else {\r\n            this.$message.error(data.msg)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    // 获取列表\r\n    GetOrderList () {\r\n      if (this.plantList.workShop) {\r\n        this.$http(`${PACKAGING_API.PKGORDELIST_API}`, 'POST', {\r\n          factory: this.plantList.factoryid,\r\n          workShop: this.plantList.workShop,\r\n          productDate: this.plantList.productDate,\r\n          orderNo: ''\r\n        }).then(({data}) => {\r\n          if (data.code === 0) {\r\n            this.Pkgfactoryid = this.plantList.factoryid\r\n            this.PkgworkShop = this.plantList.workShop\r\n            this.PkgproductDate = this.plantList.productDate\r\n            this.list = this.orderList(data.list)\r\n            this.workShop = this.plantList.workShop\r\n            this.productDate = this.plantList.productDate\r\n            this.factoryid = this.plantList.factoryid\r\n          } else {\r\n            this.$message.error(data.msg)\r\n          }\r\n        })\r\n      } else {\r\n        this.$message.error('请选择车间')\r\n      }\r\n    },\r\n    // 订单号下拉\r\n    orderchange (row) {\r\n      if (row.orderNo && row.orderNo !== row.orderNo2) {\r\n        this.$http(`${PACKAGING_API.PKGORDELIST_API}`, 'POST', {\r\n          factory: this.factoryid,\r\n          workShop: this.workShop,\r\n          productDate: this.productDate,\r\n          orderNo: row.orderNo\r\n        }, false, false, false).then(({data}) => {\r\n          if (data.code === 0) {\r\n            row.orderNo2 = row.orderNo\r\n            row.materialCode = data.list[0].materialCode\r\n            row.materialName = data.list[0].materialName\r\n            row.planOutput = data.list[0].planOutput\r\n            row.orderStatus = data.list[0].orderStatus\r\n            row.outputUnit = data.list[0].outputUnit\r\n            row.properties = data.list[0].properties\r\n            row.realOutput = data.list[0].realOutput\r\n            row.plan = data.list[0].plan\r\n          } else {\r\n            this.$message.error(data.msg)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    // 数据处理\r\n    orderList (data) {\r\n      let result = []\r\n      for (let i = 0; i < data.length; i++) {\r\n        let orderNo = [data[i].orderNo]\r\n        for (let j = i + 1; j < data.length; j++) {\r\n          if (data[i].productLine === data[j].productLine) {\r\n            j = ++i\r\n            orderNo.push(data[j].orderNo)\r\n          }\r\n        }\r\n        let orderNos = ''\r\n        if (orderNo.length === 1) {\r\n          orderNos = orderNo[0]\r\n        } else {\r\n          orderNos = ''\r\n        }\r\n        result.push({\r\n          img: data[i].img,\r\n          productLine: data[i].productLine,\r\n          productLineName: data[i].productLineName,\r\n          orderNo: orderNos,\r\n          orderNo2: '',\r\n          order_arr: orderNo,\r\n          realOutput: '',\r\n          materialCode: '',\r\n          materialName: '',\r\n          orderStatus: '',\r\n          planOutput: '',\r\n          outputUnit: '',\r\n          properties: ''\r\n        })\r\n      }\r\n      return result\r\n    },\r\n    setworkShopname (val) {\r\n      this.workShopname = val\r\n    },\r\n    // 数据录入\r\n    goPro (item) {\r\n      if (item.orderNo && item.properties) {\r\n        this.PkgorderNo = item.orderNo\r\n        this.PkgproductDate = this.productDate\r\n        this.PkgworkShop = this.workShop\r\n        this.mainTabs = this.mainTabs.filter(item => item.name !== 'DataEntry-Packaging-ProDataIn')\r\n        let that = this\r\n        setTimeout(function () {\r\n          that.$router.push({ name: `DataEntry-Packaging-ProDataIn` })\r\n        }, 100)\r\n      } else {\r\n        this.$message.error('请选择订单号')\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    mainTabs: {\r\n      get () {\r\n        return this.$store.state.common.mainTabs\r\n      },\r\n      set (val) {\r\n        this.$store.commit('common/updateMainTabs', val)\r\n      }\r\n    },\r\n    mainTabsActiveName: {\r\n      get () {\r\n        return this.$store.state.common.mainTabsActiveName\r\n      },\r\n      set (val) {\r\n        this.$store.commit('common/updateMainTabsActiveName', val)\r\n      }\r\n    },\r\n    Pkgfactoryid: {\r\n      get () { return this.$store.state.common.Pkgfactoryid },\r\n      set (val) { this.$store.commit('common/updateFactoryid', val) }\r\n    },\r\n    PkgworkShop: {\r\n      get () { return this.$store.state.common.PkgworkShop },\r\n      set (val) { this.$store.commit('common/updateWorkShop', val) }\r\n    },\r\n    PkgproductDate: {\r\n      get () { return this.$store.state.common.PkgproductDate },\r\n      set (val) { this.$store.commit('common/updateProductDate', val) }\r\n    },\r\n    PkgorderNo: {\r\n      get () { return this.$store.state.common.PkgorderNo },\r\n      set (val) { this.$store.commit('common/updateOrderNo', val) }\r\n    }\r\n  },\r\n  components: {}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.hiddenP{\r\n  max-height: 64px;\r\n  overflow: hidden;\r\n  margin-top: 0!important;\r\n}\r\n.box-card{\r\n  .pro-line { border-bottom: 1px solid #dcdfe6; }\r\n  .pro-line p { color: red; font-size: 16px; letter-spacing: .1em; }\r\n  .pro-line .el-form-item__label { }\r\n  b{\r\n    font-size: 16px;\r\n    line-height: 32px;\r\n    float: left;\r\n  }\r\n  .item{\r\n    margin-top: 20px;\r\n    display: flex;\r\n    img{\r\n      float: left;\r\n      width: 220px;\r\n      height: 220px;\r\n      border-radius: 6px;\r\n      border: 1px solid #dcdfe6;\r\n      margin-right: 20px;\r\n    }\r\n    .itemForm{\r\n      flex: 1;\r\n      p{\r\n        color: #8a979e;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/page/DataEntry/Packaging/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-col',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.lodingStatus),expression:\"lodingStatus\",modifiers:{\"fullscreen\":true,\"lock\":true}}],attrs:{\"element-loading-text\":\"加载中\"}},[_c('div',{staticClass:\"main\"},[_c('el-card',[_c('el-form',{ref:\"\",attrs:{\"model\":_vm.plantList,\"size\":\"small\",\"inline\":true,\"label-position\":\"left\",\"label-width\":\"55px\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.GetOrderList()},\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"工厂：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.plantList.factoryid),callback:function ($$v) {_vm.$set(_vm.plantList, \"factoryid\", $$v)},expression:\"plantList.factoryid\"}},[_c('el-option',{attrs:{\"label\":\"\",\"value\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.factory),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.deptName,\"value\":item.deptId}})})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"车间：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.setworkShopname},model:{value:(_vm.plantList.workShop),callback:function ($$v) {_vm.$set(_vm.plantList, \"workShop\", $$v)},expression:\"plantList.workShop\"}},_vm._l((_vm.workshop),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.deptName,\"value\":item.deptId}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"时间：\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择\",\"value-format\":\"yyyyMMdd\"},model:{value:(_vm.plantList.productDate),callback:function ($$v) {_vm.$set(_vm.plantList, \"productDate\", $$v)},expression:\"plantList.productDate\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.GetOrderList()}}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":10}},_vm._l((_vm.list),function(item,index){return _c('el-col',{key:index,staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"span\":12}},[_c('el-card',{staticClass:\"box-card\"},[_c('el-form',{attrs:{\"model\":item,\"size\":\"small\",\"label-position\":\"right\",\"label-width\":\"85px\"}},[_c('div',{staticClass:\"clearfix pro-line\"},[_c('el-form-item',{attrs:{\"label\":\"产线：\"}},[_c('p',[_vm._v(\"\\n                  \"+_vm._s(item.productLineName)+\"\\n                  \"),(_vm.isAuth('pkg:order:list'))?_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.goPro(item)}}},[_vm._v(\"数据录入\")]):_vm._e(),_vm._v(\" \"),_c('span',{staticStyle:{\"float\":\"right\",\"color\":\"#8a979e\",\"font-size\":\"14px\",\"min-width\":\"150px\"}},[_vm._v(\"订单状态：\"),_c('i',{style:({'color': item.orderStatus === 'noPass'? 'red': item.orderStatus === 'checked'? '#67C23A' : ''})},[_vm._v(_vm._s(item.orderStatus === 'submit'? '已提交' : item.orderStatus === 'checked' ? '审核通过' : item.orderStatus === 'noPass'?  '审核不通过' : item.orderStatus === 'saved'? '已保存' : item.orderStatus === '已同步' ? '未录入' : item.orderStatus))])])],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"clearfix item\"},[_c('img',{attrs:{\"src\":'data:image/gif;base64,' + item.img,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"itemForm\"},[_c('el-form-item',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"label\":\"订单号：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"change\":_vm.orderchange(item)},model:{value:(item.orderNo),callback:function ($$v) {_vm.$set(item, \"orderNo\", $$v)},expression:\"item.orderNo\"}},[_c('el-option',{attrs:{\"label\":\"\",\"value\":\"\"}}),_vm._v(\" \"),_vm._l((item.order_arr),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item,\"value\":item}})})],2)],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"label\":\"品项：\"}},[_c('p',{staticClass:\"hiddenP\"},[_vm._v(_vm._s(item.materialCode + ' ' + item.materialName))])]),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"label\":\"计划产量：\"}},[_c('p',[_vm._v(_vm._s(item.planOutput + ' ' + item.outputUnit))])]),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"label\":\"实时产量：\"}},[_c('p',[_vm._v(_vm._s(item.realOutput? item.realOutput + item.outputUnit: '0' + ' ' + item.outputUnit))])])],1)])])],1)],1)}),1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-9c93e0d6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/page/DataEntry/Packaging/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9c93e0d6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9c93e0d6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9c93e0d6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/page/DataEntry/Packaging/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}