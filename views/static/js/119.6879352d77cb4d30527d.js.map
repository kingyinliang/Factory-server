{"version":3,"sources":["webpack:///src/views/page/DataEntry/Squeeze/summary/material.vue","webpack:///./src/views/page/DataEntry/Squeeze/summary/material.vue?0167","webpack:///./src/views/page/DataEntry/Squeeze/summary/material.vue"],"names":["material","name","data","SumDate","materialDate","potList","materialS","props","isRedact","fumet","type","Array","default","SerchSapList","mounted","methods","getMaterialList","formHeader","resolve","reject","_this","this","$http","api","SUM_MATERIAL_LIST_API","then","_ref","code","maList","sub","che","no","sav","forEach","item","status","childStatus","mergeDate","msg","$message","error","updateMaterial","str","_this2","st","arguments","length","undefined","tmp","index","childMaterialCode","childMaterial","substring","indexOf","childMaterialName","delFlag","push","SUM_MATERIAL_UPDATE_API","SUM_MATERIAL_SUBMIT_API","_ref2","materialRul","_this3","ty","childPotNo","childUsedAmount","splitDate","row","splice","childId","midPrsOrderId","id","childUnit","childBatch","childFullPotAmount","childRecordMan","childRemark","childDelFlag","dellist","s","console","log","RowDelFlag","_ref3","rowIndex","getPot","_this4","CONTAINERLIST_API","holder_type","factory","dept_id","workShop","currPage","pageSize","_ref4","page","list","_this5","find","items","computed","dangerIf","components","summary_material","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","float","font-size","_v","attrs","size","disabled","ref","header-row-class-name","row-class-name","label","width","scopedSlots","_u","key","fn","scope","_s","potNoName","slot","prop","fullPort","on","click","$event","$index","_e","filterable","placeholder","model","value","callback","$$v","$set","expression","_l","holderId","holderName","fixed","icon","circle","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/119.6879352d77cb4d30527d.js","sourcesContent":["<template>\r\n<div>\r\n  <el-row class=\"clearfix\">\r\n    <p style=\"float: left;font-size: 14px\">布浆总量：</p>\r\n    <el-button type=\"primary\" style=\"float: right\" size=\"small\" :disabled=\"true\">酱醪领用</el-button>\r\n  </el-row>\r\n  <el-table ref=\"table1\" header-row-class-name=\"tableHead\" :data=\"SumDate\" :row-class-name=\"RowDelFlag\">\r\n    <el-table-column label=\"原汁信息\">\r\n      <el-table-column width=\"110\">\r\n        <template slot=\"header\"><i class=\"reqI\">*</i><span>原汁罐号</span></template>\r\n        <template slot-scope=\"scope\">{{scope.row.fumet.potNoName}}</template>\r\n      </el-table-column>\r\n      <el-table-column label=\"是否混合罐\" width=\"95\" prop=\"fumet.fullPort\"></el-table-column>\r\n      <el-table-column label=\"物料\" width=\"220\">\r\n        <template slot-scope=\"scope\">{{scope.row.fumet.material}}</template>\r\n      </el-table-column>\r\n      <el-table-column label=\"入罐数量\" width=\"120\" prop=\"fumet.inPotAmount\"></el-table-column>\r\n      <el-table-column label=\"满罐数量\" width=\"140\" prop=\"fumet.fullPotAmount\"></el-table-column>\r\n      <el-table-column label=\"单位\" width=\"50\" prop=\"fumet.unit\"></el-table-column>\r\n      <el-table-column label=\"满罐日期\" width=\"140\" prop=\"fumet.fullPotDate\"></el-table-column>\r\n      <el-table-column label=\"原汁批次\" width=\"140\" prop=\"fumet.batch\"></el-table-column>\r\n      <el-table-column label=\"生产订单\" width=\"140\" prop=\"fumet.orderNo\"></el-table-column>\r\n    </el-table-column>\r\n    <el-table-column label=\"操作\" width=\"80\">\r\n      <template slot-scope=\"scope\">\r\n        <el-button v-if=\"scope.row.fumet.fullPort !== '正常'\" type=\"text\" :disabled=\"!(isRedact && (scope.row.material.status !== 'submit' && scope.row.material.status !== 'checked'))\" @click=\"splitDate(scope.row.fumet, $index)\"><i class=\"icons iconfont factory-chaifen\"></i>拆分</el-button>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column label=\"酱醪领用\">\r\n      <el-table-column label=\"物料\" width=\"220\">\r\n        <template slot-scope=\"scope\">\r\n          <el-select v-model=\"scope.row.material.childMaterial\" filterable placeholder=\"请选择\" :disabled=\"!(isRedact && (scope.row.material.status !== 'submit' && scope.row.material.status !== 'checked'))\" size=\"small\">\r\n            <el-option\r\n              v-for=\"item in SerchSapList\"\r\n              :key=\"item.code+' '+item.value\"\r\n              :label=\"item.code+' '+item.value\"\r\n              :value=\"item.code+' '+item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column width=\"120\">\r\n        <template slot=\"header\"><i class=\"reqI\">*</i><span>发酵罐号</span></template>\r\n        <template slot-scope=\"scope\">\r\n          <el-select v-model=\"scope.row.material.childPotNo\" filterable placeholder=\"请选择\" :disabled=\"!(isRedact && (scope.row.material.status !== 'submit' && scope.row.material.status !== 'checked'))\" size=\"small\">\r\n            <el-option v-for=\"item in potList\" :key=\"item.holderId\" :label=\"item.holderName\" :value=\"item.holderId\"></el-option>\r\n          </el-select>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column width=\"120\">\r\n        <template slot=\"header\"><i class=\"reqI\">*</i><span>当日用量</span></template>\r\n        <template slot-scope=\"scope\"><el-input v-model=\"scope.row.material.childUsedAmount\" size=\"small\" placeholder=\"手工录入\" :disabled=\"!(isRedact && (scope.row.material.status !== 'submit' && scope.row.material.status !== 'checked'))\"></el-input></template>\r\n      </el-table-column>\r\n      <el-table-column label=\"单位\" width=\"50\">\r\n        <template slot-scope=\"scope\">{{scope.row.material.childUnit = 'L'}}</template>\r\n      </el-table-column>\r\n      <el-table-column label=\"物料批次\" width=\"120\">\r\n        <template slot-scope=\"scope\"><el-input v-model=\"scope.row.material.childBatch\" size=\"small\" placeholder=\"手工录入\" :disabled=\"!(isRedact && (scope.row.material.status !== 'submit' && scope.row.material.status !== 'checked'))\"></el-input></template>\r\n      </el-table-column>\r\n      <el-table-column label=\"满罐数量\" width=\"120\">\r\n        <template slot-scope=\"scope\"><el-input v-model=\"scope.row.material.childFullPotAmount\" size=\"small\" placeholder=\"手工录入\" :disabled=\"!(isRedact && (scope.row.material.status !== 'submit' && scope.row.material.status !== 'checked'))\"></el-input></template>\r\n      </el-table-column>\r\n      <el-table-column label=\"记录人\" width=\"120\" prop=\"material.childRecordMan\"></el-table-column>\r\n    </el-table-column>\r\n    <el-table-column label=\"操作\" fixed=\"right\" width=\"50\">\r\n      <template slot-scope=\"scope\">\r\n        <el-button type=\"danger\"  icon=\"el-icon-delete\" circle size=\"small\" v-if=\"dangerIf(scope.row)\" :disabled=\"!(isRedact && (scope.row.material.status !== 'submit' && scope.row.material.status !== 'checked'))\" @click=\"dellist(scope.row)\"></el-button>\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {BASICDATA_API, SQU_API} from '@/api/api'\r\nexport default {\r\n  name: 'material',\r\n  data () {\r\n    return {\r\n      SumDate: [],\r\n      materialDate: [],\r\n      potList: [],\r\n      materialS: ''\r\n    }\r\n  },\r\n  props: {\r\n    isRedact: '',\r\n    fumet: {\r\n      type: Array,\r\n      default () { return [] }\r\n    },\r\n    SerchSapList: {\r\n      type: Array,\r\n      default () { return [] }\r\n    }\r\n  },\r\n  mounted () {\r\n  },\r\n  methods: {\r\n    // 获取酱醪领用\r\n    getMaterialList (formHeader, resolve, reject) {\r\n      this.$http(`${SQU_API.SUM_MATERIAL_LIST_API}`, 'POST', formHeader).then(({data}) => {\r\n        if (data.code === 0) {\r\n          this.materialDate = data.maList\r\n          let sub = 0\r\n          let che = 0\r\n          let no = 0\r\n          let sav = 0\r\n          data.maList.forEach((item) => {\r\n            if (item.status === 'noPass') {\r\n              no = no + 1\r\n            } else if (item.childStatus === 'submit') {\r\n              sub = sub + 1\r\n            } else if (item.childStatus === 'checked') {\r\n              che = che + 1\r\n            } else if (item.childStatus === 'saved') {\r\n              sav = sav + 1\r\n            } else if (item.childStatus === '') {\r\n              sav = sav + 1\r\n            }\r\n          })\r\n          if (no > 0) {\r\n            this.materialS = 'noPass'\r\n          } else if (sub > 0) {\r\n            this.materialS = 'submit'\r\n          } else if (sav > 0) {\r\n            this.materialS = 'saved'\r\n          } else if (che > 0) {\r\n            this.materialS = 'checked'\r\n          }\r\n          this.mergeDate()\r\n          if (resolve) {\r\n            resolve('resolve')\r\n          }\r\n        } else {\r\n          if (reject) {\r\n            reject(data.msg)\r\n          }\r\n          this.$message.error(data.msg)\r\n        }\r\n      })\r\n    },\r\n    // 修改酱\r\n    updateMaterial (str, resolve, reject, st = false) {\r\n      let tmp = []\r\n      this.SumDate.forEach((item, index) => {\r\n        if (item.status) {\r\n          if (item.material.childStatus === 'saved') { item.material.childStatus = str } else if (item.material.childStatus === 'noPass' && str === 'submit') { item.material.childStatus = str }\r\n        } else {\r\n          item.material.childStatus = str\r\n        }\r\n        item.material.childMaterialCode = item.material.childMaterial.substring(0, item.material.childMaterial.indexOf(' '))\r\n        item.material.childMaterialName = item.material.childMaterial.substring(item.material.childMaterial.indexOf(' ') + 1)\r\n        if (item.delFlag === '1') {\r\n          item.material.delFlag = '1'\r\n        }\r\n        tmp.push(item.material)\r\n      })\r\n      this.$http(`${st === false ? SQU_API.SUM_MATERIAL_UPDATE_API : SQU_API.SUM_MATERIAL_SUBMIT_API}`, 'POST', tmp).then(({data}) => {\r\n        if (data.code === 0) {\r\n          if (resolve) {\r\n            resolve('resolve')\r\n          }\r\n        } else {\r\n          if (reject) {\r\n            reject(data.msg)\r\n          }\r\n          this.$message.error(data.msg)\r\n        }\r\n      })\r\n    },\r\n    // 校验\r\n    materialRul () {\r\n      let ty = true\r\n      this.SumDate.forEach((item) => {\r\n        if (!item.material.childPotNo && !item.material.childUsedAmount) {\r\n          ty = false\r\n          this.$message.error('物料领用必填项未填写')\r\n          return false\r\n        }\r\n      })\r\n      return ty\r\n    },\r\n    // 拆分\r\n    splitDate (row, index) {\r\n      this.SumDate.splice(index + 2, 0, {\r\n        fumet: row,\r\n        material: {\r\n          childId: '',\r\n          midPrsOrderId: row.id,\r\n          childMaterial: '',\r\n          childMaterialCode: '',\r\n          childMaterialName: '',\r\n          childPotNo: '',\r\n          childUsedAmount: '',\r\n          childUnit: '',\r\n          childBatch: '',\r\n          childFullPotAmount: '',\r\n          childRecordMan: '',\r\n          childRemark: '',\r\n          childDelFlag: '0'\r\n        }\r\n      })\r\n    },\r\n    // 删除\r\n    dellist (row) {\r\n      let s = 0\r\n      this.SumDate.forEach((item) => {\r\n        if (item.delFlag !== '1' && row.fumet.id === item.fumet.id) {\r\n          s++\r\n        }\r\n      })\r\n      console.log(s)\r\n      if (s > 1) {\r\n        row.delFlag = '1'\r\n        console.log(this.SumDate)\r\n      } else {\r\n        this.$message.error('此订单最后一条了，不能删除')\r\n      }\r\n    },\r\n    RowDelFlag ({row, rowIndex}) {\r\n      if (row.delFlag === '1') {\r\n        return 'rowDel'\r\n      } else {\r\n        return ''\r\n      }\r\n    },\r\n    // 获取罐\r\n    getPot (formHeader) {\r\n      this.$http(`${BASICDATA_API.CONTAINERLIST_API}`, 'POST', {\r\n        holder_type: '001',\r\n        type: 'holder_type',\r\n        factory: formHeader.factory,\r\n        dept_id: formHeader.workShop,\r\n        currPage: 1,\r\n        pageSize: 9999\r\n      }).then(({data}) => {\r\n        if (data.code === 0) {\r\n          this.potList = data.page.list\r\n        } else {\r\n          this.$message.error(data.msg)\r\n        }\r\n      })\r\n    },\r\n    // 合并数据\r\n    mergeDate () {\r\n      this.SumDate = []\r\n      if (this.materialDate.length === 0) {\r\n        this.fumet.forEach((item, index) => {\r\n          let tmp = {\r\n            childId: '',\r\n            midPrsOrderId: item.id,\r\n            childMaterial: '',\r\n            childMaterialCode: '',\r\n            childMaterialName: '',\r\n            childPotNo: '',\r\n            childUsedAmount: '',\r\n            childUnit: '',\r\n            childBatch: '',\r\n            childFullPotAmount: '',\r\n            childRecordMan: '',\r\n            childRemark: '',\r\n            childStatus: '',\r\n            childDelFlag: '0'\r\n          }\r\n          this.SumDate.push({fumet: item, material: tmp, delFlag: '0'})\r\n        })\r\n      } else {\r\n        this.materialDate.forEach((item, index) => {\r\n          item.childMaterial = item.childMaterialCode + ' ' + item.childMaterialName\r\n          let tmp = this.fumet.find(items => items.id === item.midPrsOrderId)\r\n          this.SumDate.push({fumet: tmp, material: item, delFlag: '0'})\r\n        })\r\n        this.fumet.forEach((item) => {\r\n          if (this.materialDate.find(items => items.midPrsOrderId === item.id) === undefined) {\r\n            let tmp = {\r\n              childId: '',\r\n              midPrsOrderId: item.id,\r\n              childMaterial: '',\r\n              childMaterialCode: '',\r\n              childMaterialName: '',\r\n              childPotNo: '',\r\n              childUsedAmount: '',\r\n              childUnit: '',\r\n              childBatch: '',\r\n              childFullPotAmount: '',\r\n              childRecordMan: '',\r\n              childRemark: '',\r\n              childStatus: '',\r\n              childDelFlag: '0'\r\n            }\r\n            this.SumDate.push({fumet: item, material: tmp, delFlag: '0'})\r\n          }\r\n        })\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    dangerIf: function () {\r\n      return function (row) {\r\n        let s = 0\r\n        this.SumDate.forEach((item) => {\r\n          if (item.delFlag !== '1' && row.fumet.id === item.fumet.id) {\r\n            s++\r\n          }\r\n        })\r\n        if (s > 1) {\r\n          return true\r\n        } else {\r\n          return false\r\n        }\r\n      }\r\n    }\r\n  },\r\n  components: {}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/page/DataEntry/Squeeze/summary/material.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',{staticClass:\"clearfix\"},[_c('p',{staticStyle:{\"float\":\"left\",\"font-size\":\"14px\"}},[_vm._v(\"布浆总量：\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":true}},[_vm._v(\"酱醪领用\")])],1),_vm._v(\" \"),_c('el-table',{ref:\"table1\",attrs:{\"header-row-class-name\":\"tableHead\",\"data\":_vm.SumDate,\"row-class-name\":_vm.RowDelFlag}},[_c('el-table-column',{attrs:{\"label\":\"原汁信息\"}},[_c('el-table-column',{attrs:{\"width\":\"110\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.fumet.potNoName))]}}])},[_c('template',{slot:\"header\"},[_c('i',{staticClass:\"reqI\"},[_vm._v(\"*\")]),_c('span',[_vm._v(\"原汁罐号\")])])],2),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"是否混合罐\",\"width\":\"95\",\"prop\":\"fumet.fullPort\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"物料\",\"width\":\"220\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.fumet.material))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"入罐数量\",\"width\":\"120\",\"prop\":\"fumet.inPotAmount\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"满罐数量\",\"width\":\"140\",\"prop\":\"fumet.fullPotAmount\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"单位\",\"width\":\"50\",\"prop\":\"fumet.unit\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"满罐日期\",\"width\":\"140\",\"prop\":\"fumet.fullPotDate\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"原汁批次\",\"width\":\"140\",\"prop\":\"fumet.batch\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"生产订单\",\"width\":\"140\",\"prop\":\"fumet.orderNo\"}})],1),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.fumet.fullPort !== '正常')?_c('el-button',{attrs:{\"type\":\"text\",\"disabled\":!(_vm.isRedact && (scope.row.material.status !== 'submit' && scope.row.material.status !== 'checked'))},on:{\"click\":function($event){return _vm.splitDate(scope.row.fumet, _vm.$index)}}},[_c('i',{staticClass:\"icons iconfont factory-chaifen\"}),_vm._v(\"拆分\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"酱醪领用\"}},[_c('el-table-column',{attrs:{\"label\":\"物料\",\"width\":\"220\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"请选择\",\"disabled\":!(_vm.isRedact && (scope.row.material.status !== 'submit' && scope.row.material.status !== 'checked')),\"size\":\"small\"},model:{value:(scope.row.material.childMaterial),callback:function ($$v) {_vm.$set(scope.row.material, \"childMaterial\", $$v)},expression:\"scope.row.material.childMaterial\"}},_vm._l((_vm.SerchSapList),function(item){return _c('el-option',{key:item.code+' '+item.value,attrs:{\"label\":item.code+' '+item.value,\"value\":item.code+' '+item.value}})}),1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"请选择\",\"disabled\":!(_vm.isRedact && (scope.row.material.status !== 'submit' && scope.row.material.status !== 'checked')),\"size\":\"small\"},model:{value:(scope.row.material.childPotNo),callback:function ($$v) {_vm.$set(scope.row.material, \"childPotNo\", $$v)},expression:\"scope.row.material.childPotNo\"}},_vm._l((_vm.potList),function(item){return _c('el-option',{key:item.holderId,attrs:{\"label\":item.holderName,\"value\":item.holderId}})}),1)]}}])},[_c('template',{slot:\"header\"},[_c('i',{staticClass:\"reqI\"},[_vm._v(\"*\")]),_c('span',[_vm._v(\"发酵罐号\")])])],2),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"手工录入\",\"disabled\":!(_vm.isRedact && (scope.row.material.status !== 'submit' && scope.row.material.status !== 'checked'))},model:{value:(scope.row.material.childUsedAmount),callback:function ($$v) {_vm.$set(scope.row.material, \"childUsedAmount\", $$v)},expression:\"scope.row.material.childUsedAmount\"}})]}}])},[_c('template',{slot:\"header\"},[_c('i',{staticClass:\"reqI\"},[_vm._v(\"*\")]),_c('span',[_vm._v(\"当日用量\")])])],2),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"单位\",\"width\":\"50\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.material.childUnit = 'L'))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"物料批次\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"手工录入\",\"disabled\":!(_vm.isRedact && (scope.row.material.status !== 'submit' && scope.row.material.status !== 'checked'))},model:{value:(scope.row.material.childBatch),callback:function ($$v) {_vm.$set(scope.row.material, \"childBatch\", $$v)},expression:\"scope.row.material.childBatch\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"满罐数量\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"手工录入\",\"disabled\":!(_vm.isRedact && (scope.row.material.status !== 'submit' && scope.row.material.status !== 'checked'))},model:{value:(scope.row.material.childFullPotAmount),callback:function ($$v) {_vm.$set(scope.row.material, \"childFullPotAmount\", $$v)},expression:\"scope.row.material.childFullPotAmount\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"记录人\",\"width\":\"120\",\"prop\":\"material.childRecordMan\"}})],1),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"fixed\":\"right\",\"width\":\"50\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.dangerIf(scope.row))?_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\",\"size\":\"small\",\"disabled\":!(_vm.isRedact && (scope.row.material.status !== 'submit' && scope.row.material.status !== 'checked'))},on:{\"click\":function($event){return _vm.dellist(scope.row)}}}):_vm._e()]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-23b1b1b6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/page/DataEntry/Squeeze/summary/material.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-23b1b1b6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./material.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./material.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./material.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-23b1b1b6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./material.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-23b1b1b6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/page/DataEntry/Squeeze/summary/material.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}