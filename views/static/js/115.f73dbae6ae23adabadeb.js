webpackJsonp([115],{Lkpl:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("P9l9"),r={name:"pwTime",data:function(){return{pwTimeDate:[{id:"",orderNo:"",orderId:"",status:"",prepareTime:"",prepareTimeUnit:"H",machineTime:"",machineTimeUnit:"H",humanTime:"",humanTimeUnit:"H",remark:""}],timeAudit:[]}},props:{isRedact:{},order:{}},mounted:function(){},methods:{GetPwTimeList:function(){var e=this;if(this.order.orderId){var t="";this.$http(""+a.l.MATERIELTIMELIST_API,"POST",{order_id:this.order.orderId}).then(function(i){var a=i.data;0===a.code?a.listForm&&0!==a.listForm.length?(e.pwTimeDate=a.listForm,e.pwTimeDate[0].prepareTime=e.pwTimeDate[0].prepareTime,e.pwTimeDate[0].machineTime=e.pwTimeDate[0].machineTime,e.pwTimeDate[0].humanTime=e.pwTimeDate[0].humanTime,t=a.listForm[0].status,e.timeAudit=a.listApproval):e.pwTimeDate=[{id:"",orderNo:e.order.orderNo,orderId:"",status:"",prepareTime:"",prepareTimeUnit:"H",machineTime:"",machineTimeUnit:"H",humanTime:"",humanTimeUnit:"H",remark:""}]:e.$message.error(a.msg)}).finally(function(){e.$emit("SetReadyStatus",t)})}},timerul:function(){var e=!0;return!this.pwTimeDate[0].prepareTime&&0!==this.pwTimeDate[0].prepareTime||!this.pwTimeDate[0].machineTime&&0!==this.pwTimeDate[0].machineTime||!this.pwTimeDate[0].humanTime&&0!==this.pwTimeDate[0].humanTime?(e=!1,this.$message.error("工时录入必填项未填"),!1):e},PwTimeUpdate:function(e,t,i){var r=this;this.pwTimeDate[0].prepareTime=this.pwTimeDate[0].prepareTime,this.pwTimeDate[0].machineTime=this.pwTimeDate[0].machineTime,this.pwTimeDate[0].humanTime=this.pwTimeDate[0].humanTime,this.pwTimeDate[0].orderId=this.order.orderId,this.pwTimeDate[0].status=e,this.$http(""+a.l.MATERIELTIMEUPDATE_API,"POST",this.pwTimeDate[0]).then(function(e){var i=e.data;0===i.code||r.$message.error(i.msg),t&&t("resolve")}).catch(function(){t&&i("reject")})},AddpwTimeDate:function(){this.pwTimeDate.push({})},delpwTimeDate:function(e){e.delFlag="1"},RowDelFlag:function(e){var t=e.row;e.rowIndex;return"1"===t.delFlag?"rowDel":""}},computed:{},components:{AuditLog:function(e){i.e(1).then(function(){var t=[i("bpq2")];e.apply(null,t)}.bind(this)).catch(i.oe)}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-table",{attrs:{"header-row-class-name":"tableHead",data:e.pwTimeDate,"row-class-name":e.RowDelFlag,border:"","tooltip-effect":"dark"}},[i("el-table-column",{attrs:{label:"生产订单号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.orderNo)+"\n      ")]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"准备工时",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{disabled:!(e.isRedact&&e.order.orderId),size:"small",placeholder:"手工录入"},model:{value:t.row.prepareTime,callback:function(i){e.$set(t.row,"prepareTime",i)},expression:"scope.row.prepareTime"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"单位",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v("H")])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"*机器工时",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{disabled:!(e.isRedact&&e.order.orderId),size:"small",placeholder:"手工录入"},model:{value:t.row.machineTime,callback:function(i){e.$set(t.row,"machineTime",i)},expression:"scope.row.machineTime"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"单位",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v("H")])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"*人工工时",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{disabled:!(e.isRedact&&e.order.orderId),size:"small",placeholder:"手工录入"},model:{value:t.row.humanTime,callback:function(i){e.$set(t.row,"humanTime",i)},expression:"scope.row.humanTime"}})]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"单位",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v("H")])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"备注",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-input",{attrs:{disabled:!(e.isRedact&&e.order.orderId),size:"small",placeholder:"手工录入"},model:{value:t.row.expInfo,callback:function(i){e.$set(t.row,"expInfo",i)},expression:"scope.row.expInfo"}})]}}])})],1),e._v(" "),i("audit-log",{attrs:{tableData:e.timeAudit}})],1)},staticRenderFns:[]};var o=i("C7Lr")(r,n,!1,function(e){i("ZA7j")},"data-v-2952f843",null);t.default=o.exports},ZA7j:function(e,t){}});
//# sourceMappingURL=115.f73dbae6ae23adabadeb.js.map