webpackJsonp([89],{"JsJ/":function(e,t){},Msdj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("Lna1"),i=n("P9l9"),o={name:"RoleAdd",data:function(){return{visible:!1,menuList:[],menuListTreeProps:{label:"name",children:"children"},type:!0}},mounted:function(){},methods:{init:function(e){var t=this;this.roleId=e,this.$http(""+i.g.MENULIST_API,"GET",{}).then(function(e){var n=e.data;console.log(n),t.menuList=Object(s.m)(n,"menuId")}).then(function(){t.visible=!0}).then(function(){t.$http(""+i.k.LISTMENU_API,"POST",{roleId:e}).then(function(e){var n=e.data;0===n.code?t.$refs.menuListTree.setCheckedKeys(n.list):t.$message.error(n.msg)})})},dataFormSubmit:function(){var e=this;this.type&&(this.type=!1,this.$http(""+i.k.ROLEMENUUPDATE_API,"POST",{roleId:this.roleId,menuId:[[].concat(this.$refs.menuListTree.getCheckedKeys()),[].concat(this.$refs.menuListTree.getHalfCheckedKeys())]}).then(function(t){var n=t.data;console.log(n),0===n.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.type=!0,e.visible=!1,e.$emit("refreshDataList")}}):e.$message.error(n.msg)}))}},computed:{},components:{}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"功能分配","close-on-click-modal":!1,visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[n("div",{staticStyle:{height:"300px",overflow:"auto"}},[n("el-tree",{ref:"menuListTree",attrs:{data:e.menuList,props:e.menuListTreeProps,"node-key":"menuId","default-expand-all":!0,"expand-on-click-node":!1,"show-checkbox":""}})],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.dataFormSubmit}},[e._v("确定")])],1)])},staticRenderFns:[]};var a=n("C7Lr")(o,r,!1,function(e){n("JsJ/")},"data-v-7672e0e3",null);t.default=a.exports}});
//# sourceMappingURL=89.69e0e89c698a3ecc5302.js.map