{"version":3,"sources":["webpack:///src/views/page/DataEntry/FryWheat/common/pwTime.vue","webpack:///./src/views/page/DataEntry/FryWheat/common/pwTime.vue?446f","webpack:///./src/views/page/DataEntry/FryWheat/common/pwTime.vue","webpack:///src/views/page/DataEntry/FryWheat/common/pwApplyMateriel.vue","webpack:///./src/views/page/DataEntry/FryWheat/common/pwApplyMateriel.vue?d5cd","webpack:///./src/views/page/DataEntry/FryWheat/common/pwApplyMateriel.vue","webpack:///src/views/page/DataEntry/FryWheat/PwWheat/dataEntryIndex.vue","webpack:///./src/views/page/DataEntry/FryWheat/PwWheat/dataEntryIndex.vue?2082","webpack:///./src/views/page/DataEntry/FryWheat/PwWheat/dataEntryIndex.vue"],"names":["pwTime","name","data","pwTimeDate","id","orderNo","orderId","status","prepareTime","prepareTimeUnit","machineTime","machineTimeUnit","humanTime","humanTimeUnit","remark","timeAudit","props","isRedact","order","mounted","methods","GetPwTimeList","_this","this","$http","api","MATERIELTIMELIST_API","order_id","then","_ref","code","listForm","length","listApproval","$message","error","msg","finally","$emit","timerul","ty","PwTimeUpdate","str","resolve","reject","_this2","MATERIELTIMEUPDATE_API","_ref2","catch","AddpwTimeDate","push","delpwTimeDate","row","delFlag","RowDelFlag","_ref3","rowIndex","computed","components","AuditLog","__webpack_require__","e","__WEBPACK_AMD_REQUIRE_ARRAY__","apply","bind","oe","common_pwTime","render","_vm","_h","$createElement","_c","_self","attrs","header-row-class-name","row-class-name","border","tooltip-effect","label","scopedSlots","_u","key","fn","scope","_v","_s","width","disabled","size","placeholder","model","value","callback","$$v","$set","expression","tableData","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","pwApplyMateriel","dictListObj","dispatcherCode","materielDataList","readAudit","getDictList","Boolean","appyMaterielState","String","Object","saveOrderMateriel","validate","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","err","return","MATERIELSAVEORDER_API","console","log","saveMateriel","forEach","item","trim","MATERIELSAVE_API","submitMateriel","_this3","MATERIELSUBMIT_API","flag","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","dispatchMan","productCode","issueCode","productWeight","issueBatch","inStorageWeight","inStorageBatch","_this4","PARAMETERSLIST_API","_ref4","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","dicList","dict","shname","prolist","getMaterielDataList","_this5","inState","MATERIELLIST_API","_ref5","wlist","vrlist","no","sub","che","sav","addNewRecord","lastArr","filter","last","nowStr","net_validate","Date","user","$store","state","realName","branWeight","gmCode","granuleWeight","issueName","issueWeight","productName","productUnit","scrappedWeight","storageWeight","productDate","factory","workShop","productLine","created","creator","changed","changer","dellistbomS","rowDelFlag","_ref6","changeProductWeight","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","recordId","changeProduct","product","find","changeIssue","issue","enableSubmit","watch","order.productDate","n","o","common_pwApplyMateriel","body-style","span","ref","label-width","staticStyle","margin-bottom","value-key","_l","index","staticClass","float","type","on","click","margin-left","change","$event","input","_n","Number","maxlength","fixed","icon","circle","dataEntryIndex","orderStatus","formHeader","common","PWorder","FWfactoryid","factoryName","FWfactoryName","FWworkShop","workShopName","FWworkShopName","productLineName","substring","activeName","enableOpt","readyState","$","PWorderNo","GetOrderList","tabClick","val","$refs","tabs","setCurrentName","beforeLeave","oldActiveName","message","duration","CINDEXORDERLIST_API","list","pwapplymateriel","pwtime","OrderUpdate","countOutput","parseInt","countOutputUnit","realOutput","expAllDate","excrecord","ExcNum","WHTORDERUPDATE_API","SubmitForm","$confirm","confirmButtonText","cancelButtonText","savedOrSubmitForm","excrul","that","net0","promise_default","a","net1","saveOrSubmitExc","net3","textrecord","UpdateText","net4","all","net5","net6","Timeupdate","success","net2","PWMATERIELTIMESUBMIT_API","outputUnit","updateOrderInfo","orderInfo","PWorderId","updateProductDate","dataStr","replace","PWproductDate","setAppyMaterielState","handleTabClick","panes","currentName","SetReadyStatus","get","set","commit","FormHeader","ExcRecord","excRecord","TextRecord","textRecord","PwTime","PwApplyMateriel","PwWheat_dataEntryIndex","margin","updateProductDateCallback","line-height","font-size","style","background","color","text-align","$router","path","isAuth","_e","padding-top","background-color","position","border-radius","before-leave","tab-click","slot","effect","content","placement"],"mappings":"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","file":"static/js/17.3622e689342251528f6a.js","sourcesContent":["<template>\r\n  <div>\r\n    <!--<el-button type=\"primary\" @click=\"AddpwTimeDate()\" size=\"small\" :disabled=\"!isRedact\" style=\"float: right;margin-bottom: 10px\">新增</el-button>-->\r\n    <el-table header-row-class-name=\"tableHead\" :data=\"pwTimeDate\" :row-class-name=\"RowDelFlag\" border tooltip-effect=\"dark\">\r\n      <el-table-column label=\"生产订单号\">\r\n        <template slot-scope=\"scope\">\r\n          {{scope.row.orderNo}}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"准备工时\" width=\"150\">\r\n        <template slot-scope=\"scope\">\r\n          <el-input v-model=\"scope.row.prepareTime\" :disabled=\"!(isRedact && order.orderId)\" size=\"small\" placeholder=\"手工录入\"></el-input>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"单位\" width=\"60\">\r\n        <template slot-scope=\"scope\">\r\n          <span>H</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"*机器工时\" width=\"150\">\r\n        <template slot-scope=\"scope\">\r\n          <el-input v-model=\"scope.row.machineTime\" :disabled=\"!(isRedact && order.orderId)\" size=\"small\" placeholder=\"手工录入\"></el-input>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"单位\" width=\"60\">\r\n        <template slot-scope=\"scope\">\r\n          <span>H</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"*人工工时\" width=\"150\">\r\n        <template slot-scope=\"scope\">\r\n          <el-input v-model=\"scope.row.humanTime\" :disabled=\"!(isRedact && order.orderId)\" size=\"small\" placeholder=\"手工录入\"></el-input>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"单位\" width=\"60\">\r\n        <template slot-scope=\"scope\">\r\n          <span>H</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"备注\" width=\"110\">\r\n        <template slot-scope=\"scope\">\r\n          <el-input v-model=\"scope.row.expInfo\" :disabled=\"!(isRedact && order.orderId)\" size=\"small\" placeholder=\"手工录入\"></el-input>\r\n        </template>\r\n      </el-table-column>\r\n      <!--<el-table-column label=\"操作\" width=\"60\" fixed=\"right\">-->\r\n        <!--<template slot-scope=\"scope\">-->\r\n          <!--<el-button type=\"danger\" icon=\"el-icon-delete\" circle size=\"small\" :disabled=\"!isRedact\" @click=\"delpwTimeDate(scope.row)\"></el-button>-->\r\n        <!--</template>-->\r\n      <!--</el-table-column>-->\r\n    </el-table>\r\n    <audit-log :tableData=\"timeAudit\"></audit-log>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {WHT_API} from '@/api/api'\r\nexport default {\r\n  name: 'pwTime',\r\n  data () {\r\n    return {\r\n      pwTimeDate: [{\r\n        id: '',\r\n        orderNo: '',\r\n        orderId: '',\r\n        status: '',\r\n        prepareTime: '',\r\n        prepareTimeUnit: 'H',\r\n        machineTime: '',\r\n        machineTimeUnit: 'H',\r\n        humanTime: '',\r\n        humanTimeUnit: 'H',\r\n        remark: ''\r\n      }],\r\n      timeAudit: []\r\n    }\r\n  },\r\n  props: {\r\n    isRedact: {},\r\n    order: {}\r\n  },\r\n  mounted () {\r\n  },\r\n  methods: {\r\n    // 获取pw工时数据\r\n    GetPwTimeList () {\r\n      if (this.order.orderId) {\r\n        let status = ''\r\n        this.$http(`${WHT_API.MATERIELTIMELIST_API}`, 'POST', {\r\n          order_id: this.order.orderId\r\n        }).then(({data}) => {\r\n          if (data.code === 0) {\r\n            if (data.listForm && data.listForm.length !== 0) {\r\n              this.pwTimeDate = data.listForm\r\n              this.pwTimeDate[0].prepareTime = this.pwTimeDate[0].prepareTime\r\n              this.pwTimeDate[0].machineTime = this.pwTimeDate[0].machineTime\r\n              this.pwTimeDate[0].humanTime = this.pwTimeDate[0].humanTime\r\n              status = data.listForm[0].status\r\n              this.timeAudit = data.listApproval\r\n            } else {\r\n              this.pwTimeDate = [{\r\n                id: '',\r\n                orderNo: this.order.orderNo,\r\n                orderId: '',\r\n                status: '',\r\n                prepareTime: '',\r\n                prepareTimeUnit: 'H',\r\n                machineTime: '',\r\n                machineTimeUnit: 'H',\r\n                humanTime: '',\r\n                humanTimeUnit: 'H',\r\n                remark: ''\r\n              }]\r\n            }\r\n          } else {\r\n            this.$message.error(data.msg)\r\n          }\r\n        }).finally(() => {\r\n          this.$emit('SetReadyStatus', status)\r\n        })\r\n      }\r\n    },\r\n    // pw工时校验\r\n    timerul () {\r\n      let ty = true\r\n      if ((this.pwTimeDate[0].prepareTime || this.pwTimeDate[0].prepareTime === 0) && (this.pwTimeDate[0].machineTime || this.pwTimeDate[0].machineTime === 0) && (this.pwTimeDate[0].humanTime || this.pwTimeDate[0].humanTime === 0)) {} else {\r\n        ty = false\r\n        this.$message.error('工时录入必填项未填')\r\n        return false\r\n      }\r\n      return ty\r\n    },\r\n    // pw工时修改\r\n    PwTimeUpdate (str, resolve, reject) {\r\n      this.pwTimeDate[0].prepareTime = this.pwTimeDate[0].prepareTime\r\n      this.pwTimeDate[0].machineTime = this.pwTimeDate[0].machineTime\r\n      this.pwTimeDate[0].humanTime = this.pwTimeDate[0].humanTime\r\n      this.pwTimeDate[0].orderId = this.order.orderId\r\n      this.pwTimeDate[0].status = str\r\n      this.$http(`${WHT_API.MATERIELTIMEUPDATE_API}`, 'POST', this.pwTimeDate[0]).then(({data}) => {\r\n        if (data.code === 0) {\r\n        } else {\r\n          this.$message.error(data.msg)\r\n        }\r\n        if (resolve) {\r\n          resolve('resolve')\r\n        }\r\n      }).catch(() => {\r\n        if (resolve) {\r\n          reject('reject')\r\n        }\r\n      })\r\n    },\r\n    AddpwTimeDate () {\r\n      this.pwTimeDate.push({})\r\n    },\r\n    delpwTimeDate (row) {\r\n      row.delFlag = '1'\r\n    },\r\n    //  RowDelFlag\r\n    RowDelFlag ({row, rowIndex}) {\r\n      if (row.delFlag === '1') {\r\n        return 'rowDel'\r\n      } else {\r\n        return ''\r\n      }\r\n    }\r\n  },\r\n  computed: {},\r\n  components: {\r\n    AuditLog: resolve => {\r\n      require(['@/views/components/AuditLog'], resolve)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/page/DataEntry/FryWheat/common/pwTime.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{attrs:{\"header-row-class-name\":\"tableHead\",\"data\":_vm.pwTimeDate,\"row-class-name\":_vm.RowDelFlag,\"border\":\"\",\"tooltip-effect\":\"dark\"}},[_c('el-table-column',{attrs:{\"label\":\"生产订单号\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n        \"+_vm._s(scope.row.orderNo)+\"\\n      \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"准备工时\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"disabled\":!(_vm.isRedact && _vm.order.orderId),\"size\":\"small\",\"placeholder\":\"手工录入\"},model:{value:(scope.row.prepareTime),callback:function ($$v) {_vm.$set(scope.row, \"prepareTime\", $$v)},expression:\"scope.row.prepareTime\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"单位\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(\"H\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"*机器工时\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"disabled\":!(_vm.isRedact && _vm.order.orderId),\"size\":\"small\",\"placeholder\":\"手工录入\"},model:{value:(scope.row.machineTime),callback:function ($$v) {_vm.$set(scope.row, \"machineTime\", $$v)},expression:\"scope.row.machineTime\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"单位\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(\"H\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"*人工工时\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"disabled\":!(_vm.isRedact && _vm.order.orderId),\"size\":\"small\",\"placeholder\":\"手工录入\"},model:{value:(scope.row.humanTime),callback:function ($$v) {_vm.$set(scope.row, \"humanTime\", $$v)},expression:\"scope.row.humanTime\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"单位\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(\"H\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"备注\",\"width\":\"110\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"disabled\":!(_vm.isRedact && _vm.order.orderId),\"size\":\"small\",\"placeholder\":\"手工录入\"},model:{value:(scope.row.expInfo),callback:function ($$v) {_vm.$set(scope.row, \"expInfo\", $$v)},expression:\"scope.row.expInfo\"}})]}}])})],1),_vm._v(\" \"),_c('audit-log',{attrs:{\"tableData\":_vm.timeAudit}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-2952f843\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/page/DataEntry/FryWheat/common/pwTime.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2952f843\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./pwTime.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./pwTime.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./pwTime.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2952f843\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./pwTime.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2952f843\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/page/DataEntry/FryWheat/common/pwTime.vue\n// module id = null\n// module chunks = ","<!--生产入库-->\r\n<template>\r\n  <div>\r\n    <!--数据录入-->\r\n    <el-card body-style=\"padding-top:10px;\">\r\n      <el-row>\r\n        <el-col :span=\"12\">\r\n          <el-form ref=\"form\" label-width=\"100px\">\r\n            <el-form-item label=\"生产调度员\" style='margin-bottom:0px;'>\r\n              <el-select size=\"small\" v-model=\"dispatcherCode\" value-key=\"dispatcherCode\" placeholder=\"请选择生产调度员\" :disabled=\"!isRedact || appyMaterielState == 'submit' || appyMaterielState == 'checked'\" >\r\n                <el-option v-for=\"(item, index) in this.dictListObj['PW_FEVOR']\" :key=\"index\" :label=\"item.code\" :value=\"item.code\" ></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-form>\r\n        </el-col>\r\n        <el-col :span=\"12\">\r\n          <div class=\"btn\" style=\"float:right;\">\r\n            <el-button type=\"primary\" size=\"small\" :disabled=\"!isRedact || appyMaterielState == 'submit' || appyMaterielState == 'checked'\" @click=\"addNewRecord\">新增</el-button>\r\n            <el-button type=\"primary\" style=\"margin-left:0px;\" size=\"small\" :disabled=\"!isRedact || !enableSubmit\" @click=\"saveOrderMateriel\">申请订单</el-button>\r\n            <!-- <el-button type='primary' size=\"small\" @click=\"saveMaterielList\">baocun</el-button>\r\n            <el-button type='primary' size=\"small\" @click=\"submitMaterielList\">tijiao</el-button> -->\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"24\" >\r\n          <el-table\r\n            ref=\"table1\"\r\n            header-row-class-name=\"tableHead\"\r\n            :data=\"materielDataList\"\r\n            :row-class-name=\"rowDelFlag\"\r\n            border\r\n            tooltip-effect=\"dark\"\r\n            style=\"width: 100%;margin-bottom: 20px\">\r\n            <el-table-column\r\n              label=\"生产物料\"\r\n              width=\"220\">\r\n              <template slot-scope=\"scope\">\r\n                <div class=\"required\">\r\n                  <i class=\"reqI\">*</i>\r\n                  <el-select @change=\"changeProduct(scope.row)\"  v-model=\"scope.row.productCode\" value-key=\"productCode\" placeholder=\"请选择生产物料\"  :disabled=\"!isRedact || scope.row.status === 'submit' || scope.row.status === 'checked'\" size=\"small\">\r\n                    <el-option v-for=\"(item, index) in dictListObj['CM_material_prd']\" :key=\"index\" :label=\"item.code + ' ' + item.value\" :value=\"item.code\" ></el-option>\r\n                  </el-select>\r\n                </div>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              width=\"140\"\r\n              label=\"生产数\">\r\n              <template slot-scope=\"scope\">\r\n                <div class=\"required\">\r\n                  <i class=\"reqI\">*</i>\r\n                  <el-input type=\"number\"  v-model.number=\"scope.row.productWeight\" @input=\"changeProductWeight(scope.row)\" :disabled=\"!isRedact || scope.row.status === 'submit' || scope.row.status === 'checked'\" size=\"small\"  placeholder=\"手工录入\"></el-input>\r\n                </div>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              width=\"60\"\r\n              label=\"单位\">\r\n              <template slot-scope=\"scope\">\r\n                {{scope.row.productUnit = 'KG'}}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              width=\"220\"\r\n              label=\"发料料号\">\r\n              <template slot-scope=\"scope\">\r\n                <div class=\"required\">\r\n                  <i class=\"reqI\">*</i>\r\n                  <el-select @change=\"changeIssue(scope.row)\"  v-model=\"scope.row.issueCode\" value-key=\"issueCode\" placeholder=\"请选择发料料号\"  :disabled=\"!isRedact || scope.row.status === 'submit' || scope.row.status === 'checked'\" size=\"small\">\r\n                    <el-option v-for=\"(item, index) in dictListObj['CM_material']\" :key=\"index\" :label=\"item.code + ' ' + item.value\" :value=\"item.code\" ></el-option>\r\n                  </el-select>\r\n                </div>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              width=\"140\"\r\n              label=\"小麦数量\">\r\n              <template slot-scope=\"scope\">\r\n                {{scope.row.issueWeight = Number(scope.row.branWeight) +  Number(scope.row.granuleWeight) +  Number(scope.row.scrappedWeight) + Number(scope.row.inStorageWeight) }}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              width=\"140\"\r\n              label=\"麸皮\">\r\n              <template slot-scope=\"scope\">\r\n                <el-input type=\"number\" v-model.number=\"scope.row.branWeight\" :disabled=\"!isRedact || scope.row.status === 'submit' || scope.row.status === 'checked'\" size=\"small\"  placeholder=\"手工录入\"></el-input>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              width=\"140\"\r\n              label=\"小颗粒\">\r\n              <template slot-scope=\"scope\">\r\n                <el-input type=\"number\" v-model.number=\"scope.row.granuleWeight\" :disabled=\"!isRedact || scope.row.status === 'submit' || scope.row.status === 'checked'\" size=\"small\"  placeholder=\"手工录入\"></el-input>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              width=\"140\"\r\n              label=\"报废小麦\">\r\n              <template slot-scope=\"scope\">\r\n                <el-input type=\"number\" v-model.number=\"scope.row.scrappedWeight\" :disabled=\"!isRedact || scope.row.status === 'submit' || scope.row.status === 'checked'\" size=\"small\"  placeholder=\"手工录入\"></el-input>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              width=\"140\"\r\n              label=\"发料批次\">\r\n              <template slot-scope=\"scope\">\r\n                <div class=\"required\">\r\n                  <i class=\"reqI\">*</i>\r\n                  <el-input maxlength='10' v-model=\"scope.row.issueBatch\" :disabled=\"!isRedact || scope.row.status === 'submit' || scope.row.status === 'checked'\" size=\"small\"  placeholder=\"手工录入\"></el-input>\r\n                </div>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              width=\"140\"\r\n              label=\"入库数\">\r\n              <template slot-scope=\"scope\">\r\n                <div class=\"required\">\r\n                  <i class=\"reqI\">*</i>\r\n                  <el-input type=\"number\" v-model.number=\"scope.row.inStorageWeight\"  :disabled=\"!isRedact || scope.row.status === 'submit' || scope.row.status === 'checked'\" size=\"small\"  placeholder=\"手工录入\" ></el-input>\r\n                </div>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              width=\"140\"\r\n              label=\"入库批次\">\r\n              <template slot-scope=\"scope\">\r\n                <el-input maxlength='10' v-model=\"scope.row.inStorageBatch\" :disabled=\"!isRedact || scope.row.status === 'submit' || scope.row.status === 'checked'\" size=\"small\"  placeholder=\"手工录入\"></el-input>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              width=\"140\"\r\n              label=\"库存数\">\r\n              <template slot-scope=\"scope\">\r\n                <el-input type=\"number\" v-model.number=\"scope.row.storageWeight\" :disabled=\"!isRedact || scope.row.status === 'submit' || scope.row.status === 'checked'\" size=\"small\"  placeholder=\"手工录入\"></el-input>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              width=\"140\"\r\n              label=\"备注\">\r\n              <template slot-scope=\"scope\">\r\n                <el-input v-model=\"scope.row.remark\" :disabled=\"!isRedact || scope.row.status === 'submit' || scope.row.status === 'checked'\" size=\"small\"  placeholder=\"手工录入\"></el-input>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              width=\"200\"\r\n              label=\"生产订单\">\r\n              <template slot-scope=\"scope\">\r\n                {{scope.row.orderNo}}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              fixed=\"right\"\r\n              label=\"操作\"\r\n              width=\"60\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button type=\"danger\" icon=\"el-icon-delete\" circle size=\"small\" :disabled=\"!isRedact || scope.row.status === 'submit' || scope.row.status === 'checked'\"  @click=\"dellistbomS(scope.row)\"></el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-col>\r\n      </el-row>\r\n    </el-card>\r\n    <!--审批-->\r\n    <el-row>\r\n      <el-col :span=\"24\">\r\n        <auditLog :tableData=\"readAudit\"></auditLog>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { WHT_API, SYSTEMSETUP_API } from '@/api/api'\r\nimport { dateFormat } from '@/net/validate'\r\n// const DICT_PW_FEVOR = 'PW_FEVOR'\r\n// const DICT_CM_material_prd = 'CM_material_prd'\r\n// const DICT_CM_material = 'CM_material'\r\nexport default {\r\n  data () {\r\n    return {\r\n      dictListObj: {},\r\n      dispatcherCode: '',\r\n      // dispatcherName: '',\r\n      materielDataList: [],\r\n      readAudit: []\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getDictList()\r\n    // this.getMaterielDataList()\r\n  },\r\n  props: {\r\n    isRedact: Boolean,\r\n    appyMaterielState: String,\r\n    order: Object\r\n  },\r\n  methods: {\r\n    // 申请订单\r\n    saveOrderMateriel () {\r\n      if (this.materielDataList.length > 0) {\r\n        // 数据验证\r\n        if (this.validate('apply')) {\r\n          for (let item of this.materielDataList) {\r\n            item.status = 'submit'\r\n            // item.productDate = this.order && this.order.productDate\r\n          }\r\n          this.$http(`${WHT_API.MATERIELSAVEORDER_API}`, 'POST', this.materielDataList).then(({data}) => {\r\n            if (data.code === 0) {\r\n              // 申请订单成功，订单号回写，触发全局刷新\r\n              this.$emit('updateOrderInfo', {orderId: data.orderId, orderNo: data.orderNo})\r\n            } else {\r\n              this.$message.error(data.msg || '申请订单失败，请稍后尝试')\r\n            }\r\n          }).catch((error) => {\r\n            console.log('catch data::', error)\r\n          })\r\n        }\r\n      }\r\n    },\r\n    // 保存/提交\r\n    saveMateriel (resolve) {\r\n      if (this.materielDataList.length > 0) {\r\n        this.materielDataList.forEach((item) => {\r\n          // 应产品要求，如果对不通过数据做修改保存操作，页签状态还是未通过，故此处不做状态赋值。\r\n          // if (item.status !== 'submit' || item.status !== 'checked') {\r\n          //   item.status = 'saved'\r\n          // }\r\n          // 新增行赋值saved\r\n          if (typeof item.status === 'undefined' || item.status == null || item.status.trim() === '') {\r\n            item.status = 'saved'\r\n          }\r\n        })\r\n        this.$http(WHT_API.MATERIELSAVE_API, 'POST', this.materielDataList).then(({data}) => {\r\n          if (data.code === 0) {\r\n          } else {\r\n            this.$message.error(data.msg)\r\n          }\r\n          if (resolve) {\r\n            resolve('resolve')\r\n          }\r\n        }).catch((error) => {\r\n          console.log('catch data::', error)\r\n        })\r\n      } else {\r\n        if (resolve) {\r\n          resolve('resolve')\r\n        }\r\n      }\r\n    },\r\n    submitMateriel (resolve) {\r\n      if (this.materielDataList.length > 0) {\r\n        this.materielDataList.forEach((item) => {\r\n          if (item.status !== 'checked') {\r\n            item.status = 'submit'\r\n          }\r\n        })\r\n        this.$http(WHT_API.MATERIELSUBMIT_API, 'POST', this.materielDataList).then(({data}) => {\r\n          if (data.code === 0) {\r\n          } else {\r\n            this.$message.error(data.msg)\r\n          }\r\n          if (resolve) {\r\n            resolve('resolve')\r\n          }\r\n        }).catch((error) => {\r\n          console.log('catch data::', error)\r\n        })\r\n      } else {\r\n        if (resolve) {\r\n          resolve('resolve')\r\n        }\r\n      }\r\n    },\r\n    validate (flag) {\r\n      for (let item of this.materielDataList) {\r\n        if (item.delFlag === '0') {\r\n          if (item.dispatchMan === null || item.dispatchMan.trim() === '') {\r\n            this.$message.error('生产调度员不能为空')\r\n            return false\r\n          }\r\n          if (item.productCode === null || item.productCode.trim() === '') {\r\n            this.$message.error('生产物料不能为空')\r\n            return false\r\n          }\r\n          if (item.issueCode === null || item.issueCode.trim() === '') {\r\n            this.$message.error('发料料号不能为空')\r\n            return false\r\n          }\r\n          if (item.productWeight === '') {\r\n            this.$message.error('生产数不能为空')\r\n            return false\r\n          }\r\n          if (item.issueBatch === null || item.issueBatch.trim() === '') {\r\n            this.$message.error('发料批次不能为空')\r\n            return false\r\n          }\r\n          if (item.issueBatch.trim().length > 10) {\r\n            this.$message.error('发料批次长度不能超过10')\r\n            return false\r\n          }\r\n          if (item.inStorageWeight === '') {\r\n            this.$message.error('入库数不能为空')\r\n            return false\r\n          }\r\n          if (flag && flag === 'submit') {\r\n            // 提交的时候验证，申请订单不验证\r\n            if (item.inStorageBatch === null || item.inStorageBatch.trim() === '') {\r\n              this.$message.error('入库批次不能为空')\r\n              return false\r\n            }\r\n          }\r\n          if (item.inStorageBatch && item.inStorageBatch.trim().length > 10) {\r\n            this.$message.error('入库批次长度不能超过10')\r\n            return false\r\n          }\r\n        }\r\n      }\r\n      return true\r\n    },\r\n    getDictList (order) {\r\n      // CM_material 发料物料 CM_material_prd 生产物料 PW_FEVOR  生产调度员\r\n      this.dictListObj = {}\r\n      // let params = {types: ['PW_FEVOR', 'CM_material_prd', 'CM_material'], factory: order.factory}\r\n      let params = ['PW_FEVOR', 'CM_material_prd', 'CM_material']\r\n      this.$http(`${SYSTEMSETUP_API.PARAMETERSLIST_API}`, 'POST', params).then(({data}) => {\r\n        if (data.code === 0) {\r\n          for (let dict of data.dicList) {\r\n            this.$set(this.dictListObj, dict.shname, dict.prolist)\r\n          }\r\n        } else {\r\n          this.$message.error(data.msg)\r\n        }\r\n      }).catch((error) => {\r\n        console.log('catch data::', error)\r\n      })\r\n    },\r\n    getMaterielDataList (orderId) {\r\n      // if (typeof this.order === 'undefined' || typeof this.order.orderId === 'undefined') {\r\n      //   return\r\n      // }\r\n      // console.log('为什么拿不到orderId', this.order.orderId)\r\n      this.materielDataList = []\r\n      this.readAudit = []\r\n      let inState = ''\r\n      this.$http(`${WHT_API.MATERIELLIST_API}`, 'POST', {orderId}, false, false, false).then(({data}) => {\r\n        if (data.code === 0) {\r\n          this.materielDataList = data.wlist\r\n          this.readAudit = data.vrlist\r\n          let no = 0\r\n          let sub = 0\r\n          let che = 0\r\n          let sav = 0\r\n          this.materielDataList.forEach((item) => {\r\n            if (item.status === 'noPass') {\r\n              no = no + 1\r\n            } else if (item.status === 'submit') {\r\n              sub = sub + 1\r\n            } else if (item.status === 'checked') {\r\n              che = che + 1\r\n            } else if (item.status === 'saved') {\r\n              sav = sav + 1\r\n            }\r\n          })\r\n          if (no > 0) {\r\n            inState = 'noPass'\r\n          } else if (sub > 0) {\r\n            inState = 'submit'\r\n          } else if (sav > 0) {\r\n            inState = 'saved'\r\n          } else if (che > 0) {\r\n            inState = 'checked'\r\n          }\r\n          // this.$emit('setAppyMaterielState', inState)\r\n        } else {\r\n          this.$message.error(data.msg)\r\n        }\r\n      }).catch((error) => {\r\n        console.log('catch data::', error)\r\n      }).finally(() => {\r\n        this.$emit('setAppyMaterielState', inState)\r\n      })\r\n    },\r\n    // 新增记录\r\n    addNewRecord () {\r\n      let lastArr = this.materielDataList.filter(item => { return item.delFlag === '0' })\r\n      let last = lastArr && lastArr.length > 0 ? lastArr[lastArr.length - 1] : null\r\n      let nowStr = dateFormat(new Date(), 'yyyy-MM-dd hh:mm:ss')\r\n      let user = this.$store.state.user.realName\r\n      this.materielDataList.push({\r\n        branWeight: last ? last.branWeight : 0,\r\n        delFlag: '0',\r\n        dispatchMan: this.dispatcherCode,\r\n        gmCode: '02',\r\n        // 小颗粒\r\n        granuleWeight: last ? last.granuleWeight : 0,\r\n        inStorageBatch: last ? last.inStorageBatch : '',\r\n        inStorageWeight: last ? last.inStorageWeight : 0,\r\n        // 发料批次\r\n        issueBatch: last ? last.issueBatch : '',\r\n        issueCode: last ? last.issueCode : '',\r\n        issueName: last ? last.issueName : '',\r\n        // 发料数量\r\n        issueWeight: last ? last.issueWeight : 0,\r\n        productCode: last ? last.productCode : '',\r\n        productName: last ? last.productName : '',\r\n        productUnit: 'KG',\r\n        productWeight: last ? last.productWeight : 0,\r\n        remark: last ? last.remark : '',\r\n        scrappedWeight: last ? last.scrappedWeight : 0,\r\n        storageWeight: last ? last.storageWeight : 0,\r\n        // this.order && this.order.productDate\r\n        productDate: this.order && this.order.productDate,\r\n        // this.order && this.order.factory\r\n        factory: this.order && this.order.factory,\r\n        // this.order && this.order.workShop\r\n        workShop: this.order && this.order.workShop,\r\n        // this.order && this.order.productLine\r\n        productLine: this.order && this.order.productLine,\r\n        created: nowStr,\r\n        creator: user,\r\n        changed: nowStr,\r\n        changer: user,\r\n        // 申请订单之后订单号回写，再次新增，订单号带过来\r\n        orderId: this.order && this.order.orderId,\r\n        orderNo: this.order && this.order.orderNo\r\n      })\r\n    },\r\n    // 删除\r\n    dellistbomS (row) {\r\n      row.delFlag = '1'\r\n    },\r\n    //  RowDelFlag\r\n    rowDelFlag ({row, rowIndex}) {\r\n      if (row.delFlag === '1') {\r\n        return 'rowDel'\r\n      } else {\r\n        return ''\r\n      }\r\n    },\r\n    changeProductWeight: function (row) {\r\n      for (let item of this.materielDataList) {\r\n        if (item.recordId === row.recordId) {\r\n          item.inStorageWeight = item.productWeight\r\n        }\r\n      }\r\n    },\r\n    // changeDispatcher: function () {\r\n    //   let dispatcher = this.dictListObj['PW_FEVOR'].find((item) => item.code === this.dispatcherCode)\r\n    //   if (dispatcher) {\r\n    //     this.dispatcherName = dispatcher.name\r\n    //   }\r\n    // },\r\n    changeProduct: function (row) {\r\n      let product = this.dictListObj['CM_material_prd'].find((item) => item.code === row.productCode)\r\n      if (product) {\r\n        row.productName = product.value\r\n      }\r\n    },\r\n    changeIssue: function (row) {\r\n      let issue = this.dictListObj['CM_material'].find((item) => item.code === row.issueCode)\r\n      if (issue) {\r\n        row.issueName = issue.value\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    enableSubmit: function () {\r\n      // 只有进来没订单号的请况下可以提交订单\r\n      return typeof this.order === 'undefined' || typeof this.order.orderId === 'undefined' || this.order.orderId.trim().length === 0\r\n    }\r\n  },\r\n  watch: {\r\n    'order.productDate' (n, o) {\r\n      // 监听头部生产日期\r\n      this.materielDataList.forEach((item) => {\r\n        if (item.status !== 'submit' && item.status !== 'checked') {\r\n          item.productDate = n\r\n        }\r\n      })\r\n    },\r\n    'dispatcherCode' (n, o) {\r\n      // 调度员切换\r\n      this.materielDataList.forEach((item) => {\r\n        if (item.status !== 'submit' && item.status !== 'checked') {\r\n          item.dispatchMan = n\r\n        }\r\n      })\r\n    }\r\n  },\r\n  components: {\r\n    AuditLog: resolve => {\r\n      require(['@/views/components/AuditLog'], resolve)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/page/DataEntry/FryWheat/common/pwApplyMateriel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{attrs:{\"body-style\":\"padding-top:10px;\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"100px\"}},[_c('el-form-item',{staticStyle:{\"margin-bottom\":\"0px\"},attrs:{\"label\":\"生产调度员\"}},[_c('el-select',{attrs:{\"size\":\"small\",\"value-key\":\"dispatcherCode\",\"placeholder\":\"请选择生产调度员\",\"disabled\":!_vm.isRedact || _vm.appyMaterielState == 'submit' || _vm.appyMaterielState == 'checked'},model:{value:(_vm.dispatcherCode),callback:function ($$v) {_vm.dispatcherCode=$$v},expression:\"dispatcherCode\"}},_vm._l((this.dictListObj['PW_FEVOR']),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.code,\"value\":item.code}})}),1)],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticClass:\"btn\",staticStyle:{\"float\":\"right\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":!_vm.isRedact || _vm.appyMaterielState == 'submit' || _vm.appyMaterielState == 'checked'},on:{\"click\":_vm.addNewRecord}},[_vm._v(\"新增\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"0px\"},attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":!_vm.isRedact || !_vm.enableSubmit},on:{\"click\":_vm.saveOrderMateriel}},[_vm._v(\"申请订单\")])],1)])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-table',{ref:\"table1\",staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"20px\"},attrs:{\"header-row-class-name\":\"tableHead\",\"data\":_vm.materielDataList,\"row-class-name\":_vm.rowDelFlag,\"border\":\"\",\"tooltip-effect\":\"dark\"}},[_c('el-table-column',{attrs:{\"label\":\"生产物料\",\"width\":\"220\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"required\"},[_c('i',{staticClass:\"reqI\"},[_vm._v(\"*\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"value-key\":\"productCode\",\"placeholder\":\"请选择生产物料\",\"disabled\":!_vm.isRedact || scope.row.status === 'submit' || scope.row.status === 'checked',\"size\":\"small\"},on:{\"change\":function($event){return _vm.changeProduct(scope.row)}},model:{value:(scope.row.productCode),callback:function ($$v) {_vm.$set(scope.row, \"productCode\", $$v)},expression:\"scope.row.productCode\"}},_vm._l((_vm.dictListObj['CM_material_prd']),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.code + ' ' + item.value,\"value\":item.code}})}),1)],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"140\",\"label\":\"生产数\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"required\"},[_c('i',{staticClass:\"reqI\"},[_vm._v(\"*\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"type\":\"number\",\"disabled\":!_vm.isRedact || scope.row.status === 'submit' || scope.row.status === 'checked',\"size\":\"small\",\"placeholder\":\"手工录入\"},on:{\"input\":function($event){return _vm.changeProductWeight(scope.row)}},model:{value:(scope.row.productWeight),callback:function ($$v) {_vm.$set(scope.row, \"productWeight\", _vm._n($$v))},expression:\"scope.row.productWeight\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"60\",\"label\":\"单位\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n              \"+_vm._s(scope.row.productUnit = 'KG')+\"\\n            \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"220\",\"label\":\"发料料号\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"required\"},[_c('i',{staticClass:\"reqI\"},[_vm._v(\"*\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"value-key\":\"issueCode\",\"placeholder\":\"请选择发料料号\",\"disabled\":!_vm.isRedact || scope.row.status === 'submit' || scope.row.status === 'checked',\"size\":\"small\"},on:{\"change\":function($event){return _vm.changeIssue(scope.row)}},model:{value:(scope.row.issueCode),callback:function ($$v) {_vm.$set(scope.row, \"issueCode\", $$v)},expression:\"scope.row.issueCode\"}},_vm._l((_vm.dictListObj['CM_material']),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.code + ' ' + item.value,\"value\":item.code}})}),1)],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"140\",\"label\":\"小麦数量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n              \"+_vm._s(scope.row.issueWeight = Number(scope.row.branWeight) +  Number(scope.row.granuleWeight) +  Number(scope.row.scrappedWeight) + Number(scope.row.inStorageWeight))+\"\\n            \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"140\",\"label\":\"麸皮\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"type\":\"number\",\"disabled\":!_vm.isRedact || scope.row.status === 'submit' || scope.row.status === 'checked',\"size\":\"small\",\"placeholder\":\"手工录入\"},model:{value:(scope.row.branWeight),callback:function ($$v) {_vm.$set(scope.row, \"branWeight\", _vm._n($$v))},expression:\"scope.row.branWeight\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"140\",\"label\":\"小颗粒\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"type\":\"number\",\"disabled\":!_vm.isRedact || scope.row.status === 'submit' || scope.row.status === 'checked',\"size\":\"small\",\"placeholder\":\"手工录入\"},model:{value:(scope.row.granuleWeight),callback:function ($$v) {_vm.$set(scope.row, \"granuleWeight\", _vm._n($$v))},expression:\"scope.row.granuleWeight\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"140\",\"label\":\"报废小麦\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"type\":\"number\",\"disabled\":!_vm.isRedact || scope.row.status === 'submit' || scope.row.status === 'checked',\"size\":\"small\",\"placeholder\":\"手工录入\"},model:{value:(scope.row.scrappedWeight),callback:function ($$v) {_vm.$set(scope.row, \"scrappedWeight\", _vm._n($$v))},expression:\"scope.row.scrappedWeight\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"140\",\"label\":\"发料批次\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"required\"},[_c('i',{staticClass:\"reqI\"},[_vm._v(\"*\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"maxlength\":\"10\",\"disabled\":!_vm.isRedact || scope.row.status === 'submit' || scope.row.status === 'checked',\"size\":\"small\",\"placeholder\":\"手工录入\"},model:{value:(scope.row.issueBatch),callback:function ($$v) {_vm.$set(scope.row, \"issueBatch\", $$v)},expression:\"scope.row.issueBatch\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"140\",\"label\":\"入库数\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"required\"},[_c('i',{staticClass:\"reqI\"},[_vm._v(\"*\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"type\":\"number\",\"disabled\":!_vm.isRedact || scope.row.status === 'submit' || scope.row.status === 'checked',\"size\":\"small\",\"placeholder\":\"手工录入\"},model:{value:(scope.row.inStorageWeight),callback:function ($$v) {_vm.$set(scope.row, \"inStorageWeight\", _vm._n($$v))},expression:\"scope.row.inStorageWeight\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"140\",\"label\":\"入库批次\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"maxlength\":\"10\",\"disabled\":!_vm.isRedact || scope.row.status === 'submit' || scope.row.status === 'checked',\"size\":\"small\",\"placeholder\":\"手工录入\"},model:{value:(scope.row.inStorageBatch),callback:function ($$v) {_vm.$set(scope.row, \"inStorageBatch\", $$v)},expression:\"scope.row.inStorageBatch\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"140\",\"label\":\"库存数\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"type\":\"number\",\"disabled\":!_vm.isRedact || scope.row.status === 'submit' || scope.row.status === 'checked',\"size\":\"small\",\"placeholder\":\"手工录入\"},model:{value:(scope.row.storageWeight),callback:function ($$v) {_vm.$set(scope.row, \"storageWeight\", _vm._n($$v))},expression:\"scope.row.storageWeight\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"140\",\"label\":\"备注\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"disabled\":!_vm.isRedact || scope.row.status === 'submit' || scope.row.status === 'checked',\"size\":\"small\",\"placeholder\":\"手工录入\"},model:{value:(scope.row.remark),callback:function ($$v) {_vm.$set(scope.row, \"remark\", $$v)},expression:\"scope.row.remark\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"200\",\"label\":\"生产订单\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n              \"+_vm._s(scope.row.orderNo)+\"\\n            \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\",\"size\":\"small\",\"disabled\":!_vm.isRedact || scope.row.status === 'submit' || scope.row.status === 'checked'},on:{\"click\":function($event){return _vm.dellistbomS(scope.row)}}})]}}])})],1)],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('auditLog',{attrs:{\"tableData\":_vm.readAudit}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-276158fa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/page/DataEntry/FryWheat/common/pwApplyMateriel.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-276158fa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./pwApplyMateriel.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./pwApplyMateriel.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./pwApplyMateriel.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-276158fa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./pwApplyMateriel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-276158fa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/page/DataEntry/FryWheat/common/pwApplyMateriel.vue\n// module id = null\n// module chunks = ","<template>\r\n  <el-col>\r\n    <div class=\"main\">\r\n      <el-card class=\"searchCard newCard\" style=\"margin: 0\">\r\n        <el-row type=\"flex\">\r\n          <el-col :span=\"21\">\r\n            <form-header :formHeader=\"formHeader\" :isRedact=\"isRedact\" @updateProductDateCallback='updateProductDate' ></form-header>\r\n          </el-col>\r\n          <el-col :span=\"3\" >\r\n            <!-- <div>\r\n              <span class=\"point\" :style=\"{'background': orderStatus === 'noPass'? 'red': '#7ED321'}\"></span>\r\n              订单状态：\r\n              <span :style=\"{'color': orderStatus === 'noPass'? 'red' : '' }\">\r\n                {{orderStatus === 'noPass'? '审核不通过':orderStatus === 'saved'? '已保存':orderStatus === 'submit' ? '已提交' : orderStatus === 'checked'? '通过':orderStatus === '已同步' ? '未录入' : orderStatus }}\r\n              </span>\r\n            </div> -->\r\n            <div style=\"float:right; line-height:31px;font-size: 14px\">\r\n              <div style=\"float:left\">\r\n                <span class=\"point\" :style=\"{'background': orderStatus === 'noPass'? 'red': '#7ED321'}\"></span>订单状态：\r\n              </div>\r\n              <span :style=\"{'color': orderStatus === 'noPass'? 'red' : '' }\">{{orderStatus === 'noPass'? '审核不通过':orderStatus === 'saved'? '已保存':orderStatus === 'submit' ? '已提交' : orderStatus === 'checked'? '通过':orderStatus === '已同步' ? '未录入' : orderStatus }}</span>\r\n            </div>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row style=\"text-align:right\" class=\"buttonCss\">\r\n          <template style=\"float:right; margin-left: 10px;\">\r\n            <el-button type=\"primary\" size=\"small\" @click=\"$router.push({ path: '/DataEntry-FryWheat-index'})\">返回</el-button>\r\n            <el-button type=\"primary\" size=\"small\" @click=\"isRedact = !isRedact\" v-if=\"orderStatus !== 'submit' && orderStatus !== 'checked' && isAuth('sys:whtPwMaterial:update')\">{{isRedact?'取消':'编辑'}}</el-button>\r\n          </template>\r\n          <template v-if=\"isRedact && enableOpt\" style=\"float:right; margin-left: 10px;\">\r\n            <el-button type=\"primary\" size=\"small\" @click=\"savedOrSubmitForm('saved')\" v-if=\"isAuth('sys:whtPwMaterial:update')\">保存</el-button>\r\n            <el-button type=\"primary\" size=\"small\" @click=\"SubmitForm\" v-if=\"isAuth('sys:whtPwMaterial:update')\">提交</el-button>\r\n          </template>\r\n        </el-row>\r\n        <div class=\"toggleSearchBottom\">\r\n          <i class=\"el-icon-caret-top\"></i>\r\n        </div>\r\n      </el-card>\r\n    </div>\r\n    <div class=\"main\" style=\"padding-top: 0px\">\r\n      <div class=\"tableCard\">\r\n        <div class=\"toggleSearchTop\" style=\"background-color: white;margin-bottom: 8px;position: relative;border-radius: 5px\">\r\n          <i class=\"el-icon-caret-bottom\"></i>\r\n        </div>\r\n        <el-tabs @tab-click='tabClick' ref='tabs' v-model=\"activeName\" id=\"DaatTtabs\" class=\"NewDaatTtabs\"  :before-leave='beforeLeave' type=\"border-card\">\r\n          <el-tab-pane name=\"1\">\r\n            <span slot=\"label\">\r\n              <el-tooltip class=\"item\" effect=\"dark\" :content=\"this.appyMaterielState === 'noPass'? '不通过':this.appyMaterielState === 'saved'? '已保存':this.appyMaterielState === 'submit' ? '已提交' : this.appyMaterielState === 'checked'? '通过':'未录入'\" placement=\"top-start\">\r\n                <el-button :style=\"{'color': this.appyMaterielState === 'noPass'? 'red' : ''}\">物料领用</el-button>\r\n              </el-tooltip>\r\n            </span>\r\n            <pw-apply-materiel ref=\"pwapplymateriel\" :isRedact=\"isRedact\" :order=\"formHeader\" @updateOrderInfo=\"updateOrderInfo\" @setAppyMaterielState='setAppyMaterielState' :appyMaterielState=\"appyMaterielState\" ></pw-apply-materiel>\r\n          </el-tab-pane>\r\n          <el-tab-pane name=\"2\">\r\n            <span slot=\"label\" class=\"spanview\">\r\n              <el-tooltip class=\"item\" effect=\"dark\" :content=\"this.readyState === 'noPass'? '不通过':this.readyState === 'saved'? '已保存':this.readyState === 'submit' ? '已提交' : this.readyState === 'checked'? '通过':'未录入'\" placement=\"top-start\">\r\n                <el-button :style=\"{'color': readyState === 'noPass'? 'red' : ''}\">工时录入</el-button>\r\n              </el-tooltip>\r\n            </span>\r\n            <pw-time ref=\"pwtime\" :isRedact=\"isRedact\" :order=\"formHeader\" @SetReadyStatus=\"SetReadyStatus\"></pw-time>\r\n          </el-tab-pane>\r\n          <el-tab-pane name=\"3\" >\r\n            <span slot=\"label\" class=\"spanview\">\r\n              <el-button>异常记录</el-button>\r\n            </span>\r\n            <exc-record ref=\"excrecord\" :isRedact=\"isRedact\"></exc-record>\r\n          </el-tab-pane>\r\n          <el-tab-pane name=\"4\" >\r\n            <span slot=\"label\" class=\"spanview\">\r\n              <el-button>文本记录</el-button>\r\n            </span>\r\n            <text-record ref=\"textrecord\" :isRedact=\"isRedact\"></text-record>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </div>\r\n    </div>\r\n  </el-col>\r\n</template>\r\n\r\n<script>\r\nimport {WHT_API} from '@/api/api'\r\nimport { headanimation } from '@/net/validate'\r\nimport FormHeader from '@/views/components/formHeader'\r\nimport ExcRecord from '@/views/components/excRecord'\r\nimport PwTime from '../common/pwTime'\r\nimport PwApplyMateriel from '../common/pwApplyMateriel'\r\nimport TextRecord from '@/views/components/textRecord'\r\nexport default {\r\n  name: 'dataEntryIndex',\r\n  data () {\r\n    return {\r\n      orderStatus: '',\r\n      isRedact: false,\r\n      orderNo: '',\r\n      productDate: '',\r\n      workShop: '',\r\n      formHeader: {\r\n        orderNo: this.$store.state.common.PWorder.orderNo,\r\n        orderId: this.$store.state.common.PWorder.orderId,\r\n        factory: this.$store.state.common.FWfactoryid,\r\n        factoryName: this.$store.state.common.FWfactoryName,\r\n        workShop: this.$store.state.common.FWworkShop,\r\n        workShopName: this.$store.state.common.FWworkShopName,\r\n        productLine: this.$store.state.common.PWorder.productLine,\r\n        productLineName: this.$store.state.common.PWorder.productLineName,\r\n        // yyyy-MM-dd\r\n        productDate: `${this.$store.state.common.PWorder.productDate.substring(0, 4)}-${this.$store.state.common.PWorder.productDate.substring(4, 6)}-${this.$store.state.common.PWorder.productDate.substring(6, 8)}`\r\n      },\r\n      activeName: '1',\r\n      // save / submit 是否可用\r\n      enableOpt: false,\r\n      // 物料领用\r\n      appyMaterielState: '',\r\n      // 准备时间\r\n      readyState: ''\r\n    }\r\n  },\r\n  mounted () {\r\n    headanimation(this.$)\r\n    this.orderNo = this.PWorderNo\r\n    // yyyyMMdd\r\n    this.productDate = this.$store.state.common.PWorder.productDate\r\n    this.workShop = this.FWworkShop\r\n    this.GetOrderList()\r\n  },\r\n  methods: {\r\n    tabClick (val) {\r\n      this.$refs.tabs.setCurrentName(val.name)\r\n    },\r\n    beforeLeave (activeName, oldActiveName) {\r\n      if (!this.enableOpt && activeName !== '1') {\r\n        this.$message({type: 'error', message: '请申请订单之后操作', duration: 1000})\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    // 获取表头\r\n    GetOrderList () {\r\n      this.isRedact = false\r\n      if (this.orderNo) {\r\n        // 有订单号\r\n        this.$http(`${WHT_API.CINDEXORDERLIST_API}`, 'POST', {\r\n          workShop: this.workShop,\r\n          productDate: this.productDate,\r\n          orderNo: this.orderNo\r\n        }).then(({data}) => {\r\n          // 2018-06-27\r\n          this.formHeader = data.list[0]\r\n          this.orderStatus = data.list[0].orderStatus\r\n          // console.log('this.formHeader', JSON.stringify(this.formHeader))\r\n          this.$refs.pwapplymateriel.getMaterielDataList(this.formHeader.orderId)\r\n          this.$refs.pwapplymateriel.getDictList(this.formHeader)\r\n          this.$refs.pwtime.GetPwTimeList()\r\n        })\r\n      }\r\n    },\r\n    // 修改表头\r\n    OrderUpdate (str, resolve) {\r\n      let countOutput = 0\r\n      this.$refs.pwapplymateriel.materielDataList.forEach((item) => {\r\n        countOutput += parseInt(item.inStorageWeight)\r\n      })\r\n      this.formHeader.orderStatus = str\r\n      this.formHeader.countOutputUnit = 'KG'\r\n      this.formHeader.countOutput = countOutput + ''\r\n      this.formHeader.realOutput = countOutput + ''\r\n      this.formHeader.expAllDate = this.$refs.excrecord.ExcNum\r\n      this.$http(`${WHT_API.WHTORDERUPDATE_API}`, 'POST', this.formHeader).then(({data}) => {\r\n        if (data.code === 0) {\r\n        } else {\r\n          this.$message.error('保存表头' + data.msg)\r\n        }\r\n        if (resolve) {\r\n          resolve('resolve')\r\n        }\r\n      })\r\n    },\r\n    // 保存\r\n    SubmitForm () {\r\n      this.$confirm('确认提交该订单, 是否继续?', '提交订单', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.savedOrSubmitForm('submit')\r\n      })\r\n    },\r\n    savedOrSubmitForm (str) {\r\n      if (str === 'submit') {\r\n        if (!this.$refs.pwtime.timerul()) {\r\n          return false\r\n        }\r\n        if (!this.$refs.excrecord.excrul()) {\r\n          return false\r\n        }\r\n        if (!this.$refs.pwapplymateriel.validate('submit')) {\r\n          return false\r\n        }\r\n      }\r\n      let that = this\r\n      let net0 = new Promise((resolve, reject) => {\r\n        that.OrderUpdate(str, resolve)\r\n      })\r\n      let net1 = new Promise((resolve, reject) => {\r\n        that.$refs.excrecord.saveOrSubmitExc(this.formHeader.orderId, str, resolve)\r\n      })\r\n      let net3 = new Promise((resolve, reject) => {\r\n        that.$refs.textrecord.UpdateText(this.formHeader, str, resolve)\r\n      })\r\n      let net4 = new Promise((resolve, reject) => {\r\n        that.$refs.pwtime.PwTimeUpdate(str, resolve, reject)\r\n      })\r\n      if (str === 'submit') {\r\n        let net10 = Promise.all([net0, net1, net3, net4])\r\n        net10.then(function () {\r\n          let net5 = new Promise((resolve, reject) => {\r\n            that.$refs.pwapplymateriel.submitMateriel(resolve)\r\n          })\r\n          let net6 = new Promise((resolve, reject) => {\r\n            that.Timeupdate(resolve)\r\n          })\r\n          let net12 = Promise.all([net5, net6])\r\n          net12.then(() => {\r\n            that.GetOrderList()\r\n            that.$message.success('提交成功')\r\n          })\r\n        })\r\n      } else {\r\n        let net2 = new Promise((resolve, reject) => {\r\n          that.$refs.pwapplymateriel.saveMateriel(resolve)\r\n        })\r\n        let net10 = Promise.all([net0, net1, net2, net3, net4])\r\n        net10.then(function () {\r\n          that.GetOrderList()\r\n          that.$message.success('保存成功')\r\n        })\r\n      }\r\n    },\r\n    // 工时提交\r\n    Timeupdate (resolve) {\r\n      this.$http(WHT_API.PWMATERIELTIMESUBMIT_API, 'POST', [this.$refs.pwtime.pwTimeDate[0], {\r\n        orderId: this.formHeader.orderId,\r\n        outputUnit: this.formHeader.outputUnit,\r\n        realOutput: this.formHeader.realOutput,\r\n        countOutput: this.formHeader.countOutput,\r\n        countOutputUnit: this.formHeader.countOutputUnit,\r\n        productDate: this.formHeader.productDate\r\n      }]).then(({data}) => {\r\n        if (data.code === 0) {\r\n        } else {\r\n          this.$message.error(data.msg)\r\n        }\r\n        if (resolve) {\r\n          resolve('resolve')\r\n        }\r\n      })\r\n    },\r\n    updateOrderInfo: function (orderInfo) {\r\n      // 申请订单之后，订单号回写\r\n      this.orderNo = orderInfo.orderNo\r\n      // 更新common store\r\n      this.PWorderNo = orderInfo.orderNo\r\n      this.PWorderId = orderInfo.orderId\r\n    },\r\n    updateProductDate: function (dataStr) {\r\n      if (dataStr) {\r\n        let data = dataStr.replace(/-/g, '')\r\n        this.productDate = data\r\n        // 更新common store\r\n        this.PWproductDate = data\r\n      }\r\n    },\r\n    setAppyMaterielState: function (state) {\r\n      this.appyMaterielState = state\r\n      // 强制tabs刷新\r\n      this.$refs.tabs.handleTabClick(this.$refs.tabs.panes[parseInt(this.$refs.tabs.currentName) - 1])\r\n    },\r\n    // 准备时间状态\r\n    SetReadyStatus (status) {\r\n      this.readyState = status\r\n      this.$refs.tabs.handleTabClick(this.$refs.tabs.panes[parseInt(this.$refs.tabs.currentName) - 1])\r\n    }\r\n  },\r\n  watch: {\r\n    'orderNo' (n, o) {\r\n      // 申请订单之后触发全局刷新\r\n      if (n) {\r\n        // 有订单号情况下才可用\r\n        this.enableOpt = true\r\n      }\r\n      this.GetOrderList()\r\n    }\r\n  },\r\n  computed: {\r\n    PWorderNo: {\r\n      get () { return this.$store.state.common.PWorder.orderNo },\r\n      set (val) { this.$store.commit('common/updatePWorderNo', val) }\r\n    },\r\n    PWorderId: {\r\n      get () { return this.$store.state.common.PWorder.orderId },\r\n      set (val) { this.$store.commit('common/updatePWorderId', val) }\r\n    },\r\n    FWworkShop: {\r\n      get () { return this.$store.state.common.FWworkShop },\r\n      set (val) { this.$store.commit('common/updateFWWorkShop', val) }\r\n    },\r\n    PWproductDate: {\r\n      get () { return this.$store.state.common.PWorder.productDate },\r\n      set (val) { this.$store.commit('common/updatePWproductDate', val) }\r\n    }\r\n  },\r\n  components: {\r\n    FormHeader,\r\n    ExcRecord,\r\n    TextRecord,\r\n    PwTime,\r\n    PwApplyMateriel\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#DaatTtabs{\r\n  h3{\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    float: left;\r\n  }\r\n  border-top: 1px solid #e8e8e8;\r\n  span{\r\n    .el-button{\r\n      background-color: inherit;\r\n      font-size: 16px;\r\n      padding: 0;\r\n      border: none;\r\n    }\r\n  }\r\n  .el-tabs__item{\r\n    height: 40px;\r\n    line-height: 40px;\r\n  }\r\n  table{\r\n    .el-form-item{\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n  .notNull{\r\n    color: red;\r\n  }\r\n  .el-table .warning-row:hover>td{\r\n    background: #bbbbbb!important;\r\n    background-color: #bbbbbb!important;\r\n  }\r\n  .el-table .warning-row>td{\r\n    background: #bbbbbb!important;\r\n    background-color: #bbbbbb!important;\r\n  }\r\n  // .el-input--small .el-input__inner { height: 22px; line-height: 22px; }\r\n}\r\n.required{\r\n  position: relative;\r\n  padding-left: 15px;\r\n  .reqI{\r\n    color: red;\r\n    position: absolute;\r\n    left: 0;\r\n    line-height: 32px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/page/DataEntry/FryWheat/PwWheat/dataEntryIndex.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-col',[_c('div',{staticClass:\"main\"},[_c('el-card',{staticClass:\"searchCard newCard\",staticStyle:{\"margin\":\"0\"}},[_c('el-row',{attrs:{\"type\":\"flex\"}},[_c('el-col',{attrs:{\"span\":21}},[_c('form-header',{attrs:{\"formHeader\":_vm.formHeader,\"isRedact\":_vm.isRedact},on:{\"updateProductDateCallback\":_vm.updateProductDate}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":3}},[_c('div',{staticStyle:{\"float\":\"right\",\"line-height\":\"31px\",\"font-size\":\"14px\"}},[_c('div',{staticStyle:{\"float\":\"left\"}},[_c('span',{staticClass:\"point\",style:({'background': _vm.orderStatus === 'noPass'? 'red': '#7ED321'})}),_vm._v(\"订单状态：\\n            \")]),_vm._v(\" \"),_c('span',{style:({'color': _vm.orderStatus === 'noPass'? 'red' : '' })},[_vm._v(_vm._s(_vm.orderStatus === 'noPass'? '审核不通过':_vm.orderStatus === 'saved'? '已保存':_vm.orderStatus === 'submit' ? '已提交' : _vm.orderStatus === 'checked'? '通过':_vm.orderStatus === '已同步' ? '未录入' : _vm.orderStatus))])])])],1),_vm._v(\" \"),_c('el-row',{staticClass:\"buttonCss\",staticStyle:{\"text-align\":\"right\"}},[[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.$router.push({ path: '/DataEntry-FryWheat-index'})}}},[_vm._v(\"返回\")]),_vm._v(\" \"),(_vm.orderStatus !== 'submit' && _vm.orderStatus !== 'checked' && _vm.isAuth('sys:whtPwMaterial:update'))?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.isRedact = !_vm.isRedact}}},[_vm._v(_vm._s(_vm.isRedact?'取消':'编辑'))]):_vm._e()],_vm._v(\" \"),(_vm.isRedact && _vm.enableOpt)?[(_vm.isAuth('sys:whtPwMaterial:update'))?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.savedOrSubmitForm('saved')}}},[_vm._v(\"保存\")]):_vm._e(),_vm._v(\" \"),(_vm.isAuth('sys:whtPwMaterial:update'))?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.SubmitForm}},[_vm._v(\"提交\")]):_vm._e()]:_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"toggleSearchBottom\"},[_c('i',{staticClass:\"el-icon-caret-top\"})])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"main\",staticStyle:{\"padding-top\":\"0px\"}},[_c('div',{staticClass:\"tableCard\"},[_c('div',{staticClass:\"toggleSearchTop\",staticStyle:{\"background-color\":\"white\",\"margin-bottom\":\"8px\",\"position\":\"relative\",\"border-radius\":\"5px\"}},[_c('i',{staticClass:\"el-icon-caret-bottom\"})]),_vm._v(\" \"),_c('el-tabs',{ref:\"tabs\",staticClass:\"NewDaatTtabs\",attrs:{\"id\":\"DaatTtabs\",\"before-leave\":_vm.beforeLeave,\"type\":\"border-card\"},on:{\"tab-click\":_vm.tabClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"name\":\"1\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":this.appyMaterielState === 'noPass'? '不通过':this.appyMaterielState === 'saved'? '已保存':this.appyMaterielState === 'submit' ? '已提交' : this.appyMaterielState === 'checked'? '通过':'未录入',\"placement\":\"top-start\"}},[_c('el-button',{style:({'color': this.appyMaterielState === 'noPass'? 'red' : ''})},[_vm._v(\"物料领用\")])],1)],1),_vm._v(\" \"),_c('pw-apply-materiel',{ref:\"pwapplymateriel\",attrs:{\"isRedact\":_vm.isRedact,\"order\":_vm.formHeader,\"appyMaterielState\":_vm.appyMaterielState},on:{\"updateOrderInfo\":_vm.updateOrderInfo,\"setAppyMaterielState\":_vm.setAppyMaterielState}})],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"name\":\"2\"}},[_c('span',{staticClass:\"spanview\",attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":this.readyState === 'noPass'? '不通过':this.readyState === 'saved'? '已保存':this.readyState === 'submit' ? '已提交' : this.readyState === 'checked'? '通过':'未录入',\"placement\":\"top-start\"}},[_c('el-button',{style:({'color': _vm.readyState === 'noPass'? 'red' : ''})},[_vm._v(\"工时录入\")])],1)],1),_vm._v(\" \"),_c('pw-time',{ref:\"pwtime\",attrs:{\"isRedact\":_vm.isRedact,\"order\":_vm.formHeader},on:{\"SetReadyStatus\":_vm.SetReadyStatus}})],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"name\":\"3\"}},[_c('span',{staticClass:\"spanview\",attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('el-button',[_vm._v(\"异常记录\")])],1),_vm._v(\" \"),_c('exc-record',{ref:\"excrecord\",attrs:{\"isRedact\":_vm.isRedact}})],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"name\":\"4\"}},[_c('span',{staticClass:\"spanview\",attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('el-button',[_vm._v(\"文本记录\")])],1),_vm._v(\" \"),_c('text-record',{ref:\"textrecord\",attrs:{\"isRedact\":_vm.isRedact}})],1)],1)],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-faeb116c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/page/DataEntry/FryWheat/PwWheat/dataEntryIndex.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-faeb116c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./dataEntryIndex.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./dataEntryIndex.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./dataEntryIndex.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-faeb116c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./dataEntryIndex.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/page/DataEntry/FryWheat/PwWheat/dataEntryIndex.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}