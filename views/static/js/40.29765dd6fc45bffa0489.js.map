{"version":3,"sources":["webpack:///src/views/page/BasicData/OrgStructure/index.vue","webpack:///./src/views/page/BasicData/OrgStructure/index.vue?bac0","webpack:///./src/views/page/BasicData/OrgStructure/index.vue"],"names":["OrgStructure","name","data","FILE_API","filterText","form","adddepform","row","arrList","dictList","fileList","menuVisible","orgid","dialogFormVisible1","dialogFormVisible2","dialogFormVisible3","dialogFormVisible4","dialogFormVisible5","heads","sibling","update","OrgTree","OrgDetail","addDep","clickTreeNode","submitType","fileReader","watch","val","this","$refs","tree2","filter","mounted","_this","FileReader","api","document","addEventListener","e","target","className","token","$cookie","get","getTree","getDictList","ready","_this2","console","log","$el","contains","methods","httpRequest","options","_this3","file","readAsDataURL","onload","base64Str","result","onSuccess","split","type","_this4","$http","ORGSTRUCTURE_API","then","_ref","code","deptList","children","deptId","setdetail","$message","error","msg","_this5","PARAMETERLIST_API","_ref2","dicList","indexMethod","index","_this6","ORGDETAIL_API","_ref3","dept","img","url","showtab1","event","object","value","element","menu","querySelector","style","left","clientX","top","clientY","beforeAvatarUpload","isLt2M","size","message","addfile","res","addfile2","closethis","query","filterNode","label","indexOf","savedatail","_this7","$confirm","confirmButtonText","cancelButtonText","SAVEORG_API","_ref4","deleteorg","_this8","DELETEORG_API","_ref5","addOrg","_this9","parentId","deptType","fileName","proLine","picUrl","ADDORG_API","_ref6","computed","components","BasicData_OrgStructure","render","_vm","_h","$createElement","_c","_self","directives","rawName","expression","modifiers","fullscreen","lock","attrs","element-loading-text","staticClass","gutter","staticStyle","margin-bottom","padding-left","width","placeholder","model","callback","$$v","slot","_v","span","isAuth","ref","node-key","default-expanded-keys","filter-node-method","expand-on-click-node","on","node-contextmenu","node-click","label-width","_s","deptCode","deptName","$set","parentName","dispatchMan","deptTypeName","_l","item","key","properties","_e","src","alt","action","limit","http-request","headers","list-type","file-list","on-success","lxr","phone","remark","text-align","margin-top","click","$event","visible","title","id","update:visible","close","clearForm","label-position","auto-complete","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/40.29765dd6fc45bffa0489.js","sourcesContent":["<template>\r\n  <el-col v-loading.fullscreen.lock=\"lodingStatus\" element-loading-text=\"加载中\">\r\n    <!--<div class=\"topTitle\">-->\r\n      <!--<el-breadcrumb separator=\"/\">-->\r\n        <!--<el-breadcrumb-item>基础数据</el-breadcrumb-item>-->\r\n        <!--<el-breadcrumb-item>组织架构</el-breadcrumb-item>-->\r\n      <!--</el-breadcrumb>-->\r\n    <!--</div>-->\r\n    <div class=\"main\">\r\n      <el-card>\r\n        <el-row :gutter=\"20\">\r\n          <div style=\"margin-bottom: 10px;padding-left: 10px\">\r\n            <el-input placeholder=\"部门名称\" v-model=\"filterText\" size=\"small\" style=\"width: 300px\">\r\n              <i slot=\"prefix\" class=\"el-input__icon el-icon-search\"></i>\r\n            </el-input>\r\n          </div>\r\n          <el-col :span=\"8\">\r\n            <el-card class=\"orgcard\">\r\n              <div slot=\"header\" class=\"clearfix\">\r\n                <span>组织架构一览</span>\r\n              </div>\r\n              <el-tree :data=\"OrgTree\" node-key=\"deptId\" :default-expanded-keys=\"arrList\" v-if=\"isAuth('sys:dept:save')\" @node-contextmenu=\"showtab1\" @node-click=\"setdetail\" :filter-node-method=\"filterNode\" ref=\"tree2\" :expand-on-click-node=\"false\"></el-tree>\r\n              <el-tree :data=\"OrgTree\" node-key=\"deptId\" :default-expanded-keys=\"arrList\" v-else @node-click=\"setdetail\" :filter-node-method=\"filterNode\" ref=\"tree2\" :expand-on-click-node=\"false\"></el-tree>\r\n            </el-card>\r\n          </el-col>\r\n          <el-col :span=\"16\">\r\n            <el-card class=\"orgcard\">\r\n              <div slot=\"header\" class=\"clearfix\">\r\n                <span>组织详细信息</span>\r\n              </div>\r\n              <div>\r\n                <el-form :model=\"OrgDetail\" size=\"small\" label-width=\"110px\">\r\n                  <el-form-item label=\"部门编码：\" >\r\n                    <span>{{OrgDetail.deptCode}}</span>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"部门名称：\" >\r\n                    <span v-if=\"update\">{{OrgDetail.deptName}}</span>\r\n                    <el-input v-model=\"OrgDetail.deptName\" v-else></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"上级部门：\" >\r\n                    <span>{{OrgDetail.parentName}}</span>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"生产调度员：\">\r\n                    <span v-if=\"update\">{{OrgDetail.dispatchMan}}</span>\r\n                    <el-input v-model=\"OrgDetail.dispatchMan\" v-else></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"部门类型：\" >\r\n                    <span v-if=\"update\">{{OrgDetail.deptTypeName}}</span>\r\n                    <el-select v-model=\"OrgDetail.deptType\" v-else>\r\n                      <el-option :label=\"item.value\" v-for=\"(item, index) in dictList\" :key=\"index\" :value=\"item.code\"></el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"产线属性：\" v-if=\"OrgDetail.deptType === 'proLine'\">\r\n                    <span v-if=\"update\">{{OrgDetail.properties}}</span>\r\n                    <el-select v-model=\"OrgDetail.properties\" placeholder=\"请选择部门类型\" style=\"width: 100%\" v-else>\r\n                      <el-option label=\"普通产线\" value=\"普通产线\"></el-option>\r\n                      <el-option label=\"二合一&礼盒产线\" value=\"二合一&礼盒产线\"></el-option>\r\n                    </el-select>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"产线图片：\" v-if=\"OrgDetail.deptType === 'proLine'\">\r\n                    <img :src=\"'data:image/gif;base64,'+ OrgDetail.img\" alt=\"\" v-if=\"update\" class=\"pkgImg\">\r\n                    <el-upload\r\n                      :action=\"FILE_API\"\r\n                      :limit=\"1\"\r\n                      :http-request=\"httpRequest\"\r\n                      :headers=\"heads\"\r\n                      list-type=\"picture\"\r\n                      :file-list=\"fileList\"\r\n                      :on-success=\"addfile2\" v-else>\r\n                      <el-button size=\"small\" type=\"primary\">选取文件</el-button>\r\n                    </el-upload>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"联系人：\" >\r\n                    <span v-if=\"update\">{{OrgDetail.lxr}}</span>\r\n                    <el-input v-model=\"OrgDetail.lxr\" v-else></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"电话：\" >\r\n                    <span v-if=\"update\">{{OrgDetail.phone}}</span>\r\n                    <el-input v-model=\"OrgDetail.phone\" v-else></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"备注：\" >\r\n                    <span v-if=\"update\">{{OrgDetail.remark}}</span>\r\n                    <el-input type=\"textarea\" v-model=\"OrgDetail.remark\" v-else></el-input>\r\n                  </el-form-item>\r\n                  <div style=\"text-align: center; margin-top: 30px;\">\r\n                    <el-button type=\"primary\" size=\"small\" @click=\"update = !update\" v-if=\"update && isAuth('sys:dept:update')\">编辑</el-button>\r\n                    <el-button type=\"primary\" size=\"small\" @click=\"savedatail\" v-if=\"isAuth('sys:dept:update')\">保存</el-button>\r\n                    <el-button type=\"danger\" size=\"small\" @click=\"deleteorg\" v-if=\"isAuth('sys:dept:delete')\">删除</el-button>\r\n                  </div>\r\n                </el-form>\r\n              </div>\r\n            </el-card>\r\n          </el-col>\r\n        </el-row>\r\n        <el-dialog :visible.sync=\"dialogFormVisible1\" @close=\"clearForm('addDep')\" :title=\"sibling?'新增同级':'新增下级'\" id=\"adddepform\">\r\n          <el-form :model=\"addDep\" size=\"small\" label-position=\"left\" label-width=\"100px\">\r\n            <el-form-item label=\"部门编号：\">\r\n              <el-input v-model=\"addDep.deptCode\" auto-complete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"部门名称：\">\r\n              <el-input v-model=\"addDep.deptName\" auto-complete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"上级部门：\">\r\n              <span v-if=\"sibling\">{{addDep.parentName}}</span>\r\n              <span v-if=\"!sibling\">{{addDep.parentName}}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"生产调度员：\">\r\n              <el-input v-model=\"addDep.dispatchMan\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"部门类型：\">\r\n              <!--<el-input v-model=\"addDep.deptType\" auto-complete=\"off\"></el-input>-->\r\n              <el-select v-model=\"addDep.deptType\" placeholder=\"请选择部门类型\" style=\"width: 100%\">\r\n                <el-option :label=\"item.value\" v-for=\"(item, index) in dictList\" :key=\"index\" :value=\"item.code\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"产线属性：\" v-if=\"addDep.deptType== 'proLine'\">\r\n              <el-select v-model=\"addDep.properties\" placeholder=\"请选择产线属性\" style=\"width: 100%\">\r\n                <el-option label=\"普通产线\" value=\"普通产线\"></el-option>\r\n                <el-option label=\"二合一&礼盒产线\" value=\"二合一&礼盒产线\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"产线图片：\" v-if=\"addDep.deptType== 'proLine'\">\r\n              <el-upload\r\n                :action=\"FILE_API\"\r\n                :limit=\"1\"\r\n                :http-request=\"httpRequest\"\r\n                list-type=\"picture\"\r\n                :headers=\"heads\"\r\n                :on-success=\"addfile\">\r\n                <el-button size=\"small\" type=\"primary\">选取文件</el-button>\r\n              </el-upload>\r\n            </el-form-item>\r\n            <el-form-item label=\"联系人：\">\r\n              <el-input v-model=\"addDep.lxr\" auto-complete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"电话：\">\r\n              <el-input v-model=\"addDep.phone\" auto-complete=\"off\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"备注：\">\r\n              <el-input type=\"textarea\" v-model=\"addDep.remark\"></el-input>\r\n            </el-form-item>\r\n            <div style=\"text-align: center\">\r\n              <el-button @click=\"addOrg\">保存</el-button>\r\n              <el-button @click=\"closethis\">关闭</el-button>\r\n            </div>\r\n          </el-form>\r\n        </el-dialog>\r\n        <ul id = \"menu\" v-show = \"menuVisible\">\r\n          <li class=\"menuli\" @click=\"dialogFormVisible1 = true;sibling = true;addDep.parentName = clickTreeNode.parentName\">新增同级</li>\r\n          <li class=\"menuli\" @click=\"dialogFormVisible1 = true;sibling = false;addDep.parentName = clickTreeNode.deptName\">新增下级</li>\r\n        </ul>\r\n      </el-card>\r\n    </div>\r\n  </el-col>\r\n</template>\r\n\r\n<script>\r\nimport {BASICDATA_API, SYSTEMSETUP_API, MAIN_API} from '@/api/api'\r\nexport default {\r\n  name: 'index',\r\n  data () {\r\n    return {\r\n      FILE_API: '',\r\n      filterText: '',\r\n      form: {},\r\n      adddepform: {\r\n        name: ''\r\n      },\r\n      row: {},\r\n      arrList: [],\r\n      dictList: [],\r\n      fileList: [{}],\r\n      menuVisible: false,\r\n      orgid: null,\r\n      dialogFormVisible1: false,\r\n      dialogFormVisible2: false,\r\n      dialogFormVisible3: false,\r\n      dialogFormVisible4: false,\r\n      dialogFormVisible5: false,\r\n      heads: [],\r\n      sibling: true,\r\n      update: true,\r\n      OrgTree: [],\r\n      OrgDetail: {},\r\n      addDep: {},\r\n      clickTreeNode: {},\r\n      submitType: true,\r\n      fileReader: {}\r\n    }\r\n  },\r\n  watch: {\r\n    filterText (val) {\r\n      this.$refs.tree2.filter(val)\r\n    }\r\n  },\r\n  mounted () {\r\n    this.fileReader = new FileReader()\r\n    this.FILE_API = MAIN_API.FILE_API\r\n    document.addEventListener('click', (e) => {\r\n      if (e.target.className !== 'menuli') this.menuVisible = false\r\n    })\r\n    this.heads = {token: this.$cookie.get('token')}\r\n    this.getTree(true)\r\n    this.getDictList()\r\n  },\r\n  ready () {\r\n    document.addEventListener('click', (e) => {\r\n      console.log(e.target)\r\n      if (!this.$el.contains(e.target)) this.menuVisible = false\r\n    })\r\n  },\r\n  methods: {\r\n    httpRequest (options) {\r\n      let file = options.file\r\n      if (file) {\r\n        this.fileReader.readAsDataURL(file)\r\n      }\r\n      this.fileReader.onload = () => {\r\n        let base64Str = this.fileReader.result\r\n        // this.$http(this.FILE_API, 'POST', {pkgImg: base64Str.split(',')[1]}).then(res => {\r\n        //   options.onSuccess(res, file)\r\n        // }).catch(err => {\r\n        //   options.onError(err)\r\n        // })\r\n        options.onSuccess(base64Str.split(',')[1], file)\r\n      }\r\n    },\r\n    // 获取组织结构树\r\n    getTree (type) {\r\n      this.$http(`${BASICDATA_API.ORGSTRUCTURE_API}`, 'GET', {}).then(({data}) => {\r\n        console.log(data)\r\n        if (data.code === 0) {\r\n          this.OrgTree = data.deptList\r\n          this.arrList = [this.OrgTree[0].children[0].deptId]\r\n          if (type) {\r\n            this.setdetail(this.OrgTree[0].children[0])\r\n          }\r\n        } else {\r\n          this.$message.error(data.msg)\r\n        }\r\n      })\r\n    },\r\n    // 组织架构参数下拉\r\n    getDictList () {\r\n      this.$http(`${SYSTEMSETUP_API.PARAMETERLIST_API}?type=dept_type`, 'POST').then(({data}) => {\r\n        if (data.code === 0) {\r\n          this.dictList = data.dicList\r\n        } else {\r\n          this.$message.error(data.msg)\r\n        }\r\n      })\r\n    },\r\n    // 表格自定义序号\r\n    indexMethod (index) {\r\n      return index + 1\r\n    },\r\n    // 设置组织详情\r\n    setdetail (data) {\r\n      this.row = data\r\n      this.update = true\r\n      this.$http(`${BASICDATA_API.ORGDETAIL_API}/${data.deptId}`, 'GET').then(({data}) => {\r\n        if (data.code === 0) {\r\n          this.OrgDetail = data.dept\r\n          if (this.OrgDetail.img) {\r\n            this.fileList[0] = {}\r\n            this.fileList[0].name = ''\r\n            this.fileList[0].url = 'http://10.8.4.153:50080' + this.OrgDetail.img\r\n          } else {\r\n            console.log('.....')\r\n            this.fileList = []\r\n          }\r\n        } else {\r\n          this.$message.error(data.msg)\r\n        }\r\n      })\r\n    },\r\n    // 右键菜单\r\n    showtab1 (event, object, value, element) {\r\n      this.clickTreeNode = object\r\n      console.log(object)\r\n      this.menuVisible = true\r\n      let menu = document.querySelector('#menu')\r\n      menu.style.left = event.clientX + 'px'\r\n      menu.style.top = event.clientY + 'px'\r\n    },\r\n    // 上传图片\r\n    beforeAvatarUpload (file) {\r\n      const isLt2M = file.size / 1024 / 1024 < 50\r\n      if (!isLt2M) {\r\n        this.$message({\r\n          message: '上传文件大小不能超过 10MB!',\r\n          type: 'warning'\r\n        })\r\n      }\r\n      return isLt2M\r\n    },\r\n    // 上传图片图片回调 新增\r\n    addfile (res, file) {\r\n      // console.log(res)\r\n      // this.addDep.img = res.picUrl\r\n      this.addDep.img = res\r\n    },\r\n    // 上传图片回调 修改\r\n    addfile2 (res, file) {\r\n      // console.log(this.fileList)\r\n      // this.OrgDetail.img = res.picUrl\r\n      this.OrgDetail.img = res\r\n    },\r\n    closethis () {\r\n      console.log(this.addDep)\r\n      this.dialogFormVisible1 = false\r\n    },\r\n    // 查询\r\n    query () {\r\n      this.setdetail({deptId: this.form.name})\r\n    },\r\n    // 搜索\r\n    filterNode (value, data) {\r\n      if (!value) return true\r\n      return data.label.indexOf(value) !== -1\r\n    },\r\n    // 保存\r\n    savedatail () {\r\n      this.$confirm('确认修改部门, 是否继续?', '修改部门', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.$http(`${BASICDATA_API.SAVEORG_API}`, 'POST', this.OrgDetail).then(({data}) => {\r\n          if (data.code === 0) {\r\n            this.$message({\r\n              message: '操作成功',\r\n              type: 'success'\r\n            })\r\n            this.OrgDetail = {}\r\n            this.fileList = [{}]\r\n            this.update = true\r\n            this.setdetail(this.row)\r\n          } else {\r\n            this.$message.error(data.msg)\r\n          }\r\n        })\r\n      })\r\n    },\r\n    //  删除\r\n    deleteorg () {\r\n      this.$confirm('确认删除部门, 是否继续?', '删除部门', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.$http(`${BASICDATA_API.DELETEORG_API}`, 'GET', {\r\n          deptId: this.OrgDetail.deptId\r\n        }).then(({data}) => {\r\n          console.log(data)\r\n          if (data.code === 0) {\r\n            this.$message({\r\n              message: '操作成功',\r\n              type: 'success'\r\n            })\r\n            this.getTree()\r\n            this.OrgDetail = {}\r\n          } else {\r\n            this.$message.error(data.msg)\r\n          }\r\n        })\r\n      })\r\n    },\r\n    //  新增\r\n    addOrg () {\r\n      if (this.submitType) {\r\n        this.submitType = false\r\n        if (this.sibling) {\r\n          this.addDep.parentId = this.clickTreeNode.parentId\r\n        } else {\r\n          this.addDep.parentId = this.clickTreeNode.deptId\r\n        }\r\n        if (this.addDep.deptType !== 'proLine') {\r\n          delete this.addDep.fileName\r\n          delete this.addDep.proLine\r\n          delete this.addDep.picUrl\r\n        }\r\n        this.$http(`${BASICDATA_API.ADDORG_API}`, 'POST', this.addDep).then(({data}) => {\r\n          if (data.code === 0) {\r\n            this.$message({\r\n              message: '操作成功',\r\n              type: 'success'\r\n            })\r\n            this.getTree()\r\n            this.addDep = {}\r\n            this.dialogFormVisible1 = false\r\n            this.submitType = true\r\n          } else {\r\n            this.submitType = true\r\n            this.$message.error(data.msg)\r\n          }\r\n        })\r\n      }\r\n    }\r\n  },\r\n  computed: {},\r\n  components: {}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .pkgImg{\r\n    width: 100px;\r\n    height: 100px;\r\n  }\r\n  .el-card__header {\r\n    font-size: 14px;\r\n    padding: 13px 20px;\r\n    background-color: #f9f9f9;\r\n    color: black;\r\n    font-weight: bold;\r\n  }\r\n  .head{\r\n    width: 100%;\r\n    background: white;\r\n    padding: 20px 24px 0 24px;\r\n    h3{\r\n      font-size: 20px;\r\n      font-weight: bold;\r\n      line-height: 50px;\r\n    }\r\n  }\r\n  .rightmain{\r\n    flex: 1;\r\n  }\r\n  #menu{\r\n    cursor: pointer;\r\n    z-index: 99;\r\n    padding: 10px;\r\n    margin: 0;\r\n    list-style: none;\r\n    position: fixed;\r\n    background: white;\r\n    border-radius: 5px;\r\n    box-shadow: 2px 2px 25px 5px rgba(213,221,238,.45);\r\n    li{\r\n      line-height: 28px;\r\n    }\r\n  }\r\n  #adddepform{\r\n    .el-form-item{\r\n      margin-bottom: 5px;\r\n    }\r\n  }\r\n</style>\r\n<style>\r\n  .orgcard .el-card__body{\r\n    height: 450px;\r\n    overflow: auto;\r\n  }\r\n  .orgcard .el-form-item--mini.el-form-item,\r\n  .orgcard .el-form-item--small.el-form-item {\r\n    margin-bottom: 5px;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/page/BasicData/OrgStructure/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-col',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.lodingStatus),expression:\"lodingStatus\",modifiers:{\"fullscreen\":true,\"lock\":true}}],attrs:{\"element-loading-text\":\"加载中\"}},[_c('div',{staticClass:\"main\"},[_c('el-card',[_c('el-row',{attrs:{\"gutter\":20}},[_c('div',{staticStyle:{\"margin-bottom\":\"10px\",\"padding-left\":\"10px\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},attrs:{\"placeholder\":\"部门名称\",\"size\":\"small\"},model:{value:(_vm.filterText),callback:function ($$v) {_vm.filterText=$$v},expression:\"filterText\"}},[_c('i',{staticClass:\"el-input__icon el-icon-search\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-card',{staticClass:\"orgcard\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"组织架构一览\")])]),_vm._v(\" \"),(_vm.isAuth('sys:dept:save'))?_c('el-tree',{ref:\"tree2\",attrs:{\"data\":_vm.OrgTree,\"node-key\":\"deptId\",\"default-expanded-keys\":_vm.arrList,\"filter-node-method\":_vm.filterNode,\"expand-on-click-node\":false},on:{\"node-contextmenu\":_vm.showtab1,\"node-click\":_vm.setdetail}}):_c('el-tree',{ref:\"tree2\",attrs:{\"data\":_vm.OrgTree,\"node-key\":\"deptId\",\"default-expanded-keys\":_vm.arrList,\"filter-node-method\":_vm.filterNode,\"expand-on-click-node\":false},on:{\"node-click\":_vm.setdetail}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":16}},[_c('el-card',{staticClass:\"orgcard\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"组织详细信息\")])]),_vm._v(\" \"),_c('div',[_c('el-form',{attrs:{\"model\":_vm.OrgDetail,\"size\":\"small\",\"label-width\":\"110px\"}},[_c('el-form-item',{attrs:{\"label\":\"部门编码：\"}},[_c('span',[_vm._v(_vm._s(_vm.OrgDetail.deptCode))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"部门名称：\"}},[(_vm.update)?_c('span',[_vm._v(_vm._s(_vm.OrgDetail.deptName))]):_c('el-input',{model:{value:(_vm.OrgDetail.deptName),callback:function ($$v) {_vm.$set(_vm.OrgDetail, \"deptName\", $$v)},expression:\"OrgDetail.deptName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上级部门：\"}},[_c('span',[_vm._v(_vm._s(_vm.OrgDetail.parentName))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"生产调度员：\"}},[(_vm.update)?_c('span',[_vm._v(_vm._s(_vm.OrgDetail.dispatchMan))]):_c('el-input',{model:{value:(_vm.OrgDetail.dispatchMan),callback:function ($$v) {_vm.$set(_vm.OrgDetail, \"dispatchMan\", $$v)},expression:\"OrgDetail.dispatchMan\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"部门类型：\"}},[(_vm.update)?_c('span',[_vm._v(_vm._s(_vm.OrgDetail.deptTypeName))]):_c('el-select',{model:{value:(_vm.OrgDetail.deptType),callback:function ($$v) {_vm.$set(_vm.OrgDetail, \"deptType\", $$v)},expression:\"OrgDetail.deptType\"}},_vm._l((_vm.dictList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.value,\"value\":item.code}})}),1)],1),_vm._v(\" \"),(_vm.OrgDetail.deptType === 'proLine')?_c('el-form-item',{attrs:{\"label\":\"产线属性：\"}},[(_vm.update)?_c('span',[_vm._v(_vm._s(_vm.OrgDetail.properties))]):_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择部门类型\"},model:{value:(_vm.OrgDetail.properties),callback:function ($$v) {_vm.$set(_vm.OrgDetail, \"properties\", $$v)},expression:\"OrgDetail.properties\"}},[_c('el-option',{attrs:{\"label\":\"普通产线\",\"value\":\"普通产线\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"二合一&礼盒产线\",\"value\":\"二合一&礼盒产线\"}})],1)],1):_vm._e(),_vm._v(\" \"),(_vm.OrgDetail.deptType === 'proLine')?_c('el-form-item',{attrs:{\"label\":\"产线图片：\"}},[(_vm.update)?_c('img',{staticClass:\"pkgImg\",attrs:{\"src\":'data:image/gif;base64,'+ _vm.OrgDetail.img,\"alt\":\"\"}}):_c('el-upload',{attrs:{\"action\":_vm.FILE_API,\"limit\":1,\"http-request\":_vm.httpRequest,\"headers\":_vm.heads,\"list-type\":\"picture\",\"file-list\":_vm.fileList,\"on-success\":_vm.addfile2}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"选取文件\")])],1)],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系人：\"}},[(_vm.update)?_c('span',[_vm._v(_vm._s(_vm.OrgDetail.lxr))]):_c('el-input',{model:{value:(_vm.OrgDetail.lxr),callback:function ($$v) {_vm.$set(_vm.OrgDetail, \"lxr\", $$v)},expression:\"OrgDetail.lxr\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"电话：\"}},[(_vm.update)?_c('span',[_vm._v(_vm._s(_vm.OrgDetail.phone))]):_c('el-input',{model:{value:(_vm.OrgDetail.phone),callback:function ($$v) {_vm.$set(_vm.OrgDetail, \"phone\", $$v)},expression:\"OrgDetail.phone\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注：\"}},[(_vm.update)?_c('span',[_vm._v(_vm._s(_vm.OrgDetail.remark))]):_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.OrgDetail.remark),callback:function ($$v) {_vm.$set(_vm.OrgDetail, \"remark\", $$v)},expression:\"OrgDetail.remark\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"center\",\"margin-top\":\"30px\"}},[(_vm.update && _vm.isAuth('sys:dept:update'))?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.update = !_vm.update}}},[_vm._v(\"编辑\")]):_vm._e(),_vm._v(\" \"),(_vm.isAuth('sys:dept:update'))?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.savedatail}},[_vm._v(\"保存\")]):_vm._e(),_vm._v(\" \"),(_vm.isAuth('sys:dept:delete'))?_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":_vm.deleteorg}},[_vm._v(\"删除\")]):_vm._e()],1)],1)],1)])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialogFormVisible1,\"title\":_vm.sibling?'新增同级':'新增下级',\"id\":\"adddepform\"},on:{\"update:visible\":function($event){_vm.dialogFormVisible1=$event},\"close\":function($event){return _vm.clearForm('addDep')}}},[_c('el-form',{attrs:{\"model\":_vm.addDep,\"size\":\"small\",\"label-position\":\"left\",\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"部门编号：\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.addDep.deptCode),callback:function ($$v) {_vm.$set(_vm.addDep, \"deptCode\", $$v)},expression:\"addDep.deptCode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"部门名称：\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.addDep.deptName),callback:function ($$v) {_vm.$set(_vm.addDep, \"deptName\", $$v)},expression:\"addDep.deptName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上级部门：\"}},[(_vm.sibling)?_c('span',[_vm._v(_vm._s(_vm.addDep.parentName))]):_vm._e(),_vm._v(\" \"),(!_vm.sibling)?_c('span',[_vm._v(_vm._s(_vm.addDep.parentName))]):_vm._e()]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"生产调度员：\"}},[_c('el-input',{model:{value:(_vm.addDep.dispatchMan),callback:function ($$v) {_vm.$set(_vm.addDep, \"dispatchMan\", $$v)},expression:\"addDep.dispatchMan\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"部门类型：\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择部门类型\"},model:{value:(_vm.addDep.deptType),callback:function ($$v) {_vm.$set(_vm.addDep, \"deptType\", $$v)},expression:\"addDep.deptType\"}},_vm._l((_vm.dictList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.value,\"value\":item.code}})}),1)],1),_vm._v(\" \"),(_vm.addDep.deptType== 'proLine')?_c('el-form-item',{attrs:{\"label\":\"产线属性：\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择产线属性\"},model:{value:(_vm.addDep.properties),callback:function ($$v) {_vm.$set(_vm.addDep, \"properties\", $$v)},expression:\"addDep.properties\"}},[_c('el-option',{attrs:{\"label\":\"普通产线\",\"value\":\"普通产线\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"二合一&礼盒产线\",\"value\":\"二合一&礼盒产线\"}})],1)],1):_vm._e(),_vm._v(\" \"),(_vm.addDep.deptType== 'proLine')?_c('el-form-item',{attrs:{\"label\":\"产线图片：\"}},[_c('el-upload',{attrs:{\"action\":_vm.FILE_API,\"limit\":1,\"http-request\":_vm.httpRequest,\"list-type\":\"picture\",\"headers\":_vm.heads,\"on-success\":_vm.addfile}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"选取文件\")])],1)],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系人：\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.addDep.lxr),callback:function ($$v) {_vm.$set(_vm.addDep, \"lxr\", $$v)},expression:\"addDep.lxr\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"电话：\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.addDep.phone),callback:function ($$v) {_vm.$set(_vm.addDep, \"phone\", $$v)},expression:\"addDep.phone\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注：\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.addDep.remark),callback:function ($$v) {_vm.$set(_vm.addDep, \"remark\", $$v)},expression:\"addDep.remark\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('el-button',{on:{\"click\":_vm.addOrg}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.closethis}},[_vm._v(\"关闭\")])],1)],1)],1),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menuVisible),expression:\"menuVisible\"}],attrs:{\"id\":\"menu\"}},[_c('li',{staticClass:\"menuli\",on:{\"click\":function($event){_vm.dialogFormVisible1 = true;_vm.sibling = true;_vm.addDep.parentName = _vm.clickTreeNode.parentName}}},[_vm._v(\"新增同级\")]),_vm._v(\" \"),_c('li',{staticClass:\"menuli\",on:{\"click\":function($event){_vm.dialogFormVisible1 = true;_vm.sibling = false;_vm.addDep.parentName = _vm.clickTreeNode.deptName}}},[_vm._v(\"新增下级\")])])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-798b1d9c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/page/BasicData/OrgStructure/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-798b1d9c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-798b1d9c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=1!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-798b1d9c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-798b1d9c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/page/BasicData/OrgStructure/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}