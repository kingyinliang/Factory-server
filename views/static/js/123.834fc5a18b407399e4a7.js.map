{"version":3,"sources":["webpack:///src/views/page/SystemSetup/menu/menuAdd.vue","webpack:///./src/views/page/SystemSetup/menu/menuAdd.vue?4c51","webpack:///./src/views/page/SystemSetup/menu/menuAdd.vue"],"names":["menuAdd","name","data","_this","this","iconList","visible","type","dataForm","id","typeList","parentId","parentName","url","perms","orderNum","icon","dataRule","required","message","trigger","validator","rule","value","callback","test","Error","menuList","menuListTreeProps","label","children","submitType","mounted","methods","init","_this2","console","log","$http","api","MENUSELECT_API","then","_ref","Object","validate","$nextTick","$refs","resetFields","MENUINFO_API","_ref2","menu","menuId","menuListTreeSetCurrentNode","menuListTreeCurrentChangeHandle","node","menuListTree","setCurrentKey","getCurrentNode","iconActiveHandle","iconName","dataFormSubmit","_this3","valid","MENUADD_API","MENUUPDATE_API","undefined","_ref3","code","$message","duration","onClose","$emit","error","msg","computed","components","menu_menuAdd","render","_vm","_h","$createElement","_c","_self","attrs","title","close-on-click-modal","on","update:visible","$event","ref","model","rules","label-width","nativeOn","keyup","indexOf","_k","keyCode","key","prop","placeholder","$$v","$set","expression","_v","_l","index","_s","staticStyle","height","overflow","placement","props","node-key","default-expand-all","highlight-current","expand-on-click-node","current-change","directives","rawName","arg","staticClass","readonly","_e","controls-position","min","span","popper-class","item","class","is-active","click","font-size","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/123.834fc5a18b407399e4a7.js","sourcesContent":["<template>\r\n<el-dialog\r\n  :title=\"!dataForm.id ? '新增' : '修改'\"\r\n  :close-on-click-modal=\"false\"\r\n  :visible.sync=\"visible\">\r\n  <el-form :model=\"dataForm\" :rules=\"dataRule\" ref=\"dataForm\" @keyup.enter.native=\"dataFormSubmit()\" label-width=\"120px\">\r\n    <el-form-item label=\"ID\" prop=\"id\">\r\n      <el-input v-model=\"dataForm.id\" placeholder=\"请输入id\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"类型\" prop=\"type\">\r\n      <el-radio-group v-model=\"dataForm.type\">\r\n        <el-radio v-for=\"(type, index) in dataForm.typeList\" :label=\"index\" :key=\"index\">{{ type }}</el-radio>\r\n      </el-radio-group>\r\n    </el-form-item>\r\n    <el-form-item :label=\"dataForm.typeList[dataForm.type] + '名称'\" prop=\"name\">\r\n      <el-input v-model=\"dataForm.name\" :placeholder=\"dataForm.typeList[dataForm.type] + '名称'\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"上级菜单\" prop=\"parentName\">\r\n      <el-popover\r\n        ref=\"menuListPopover\"\r\n        placement=\"bottom-start\"\r\n        trigger=\"click\" style=\"height: 100%;overflow: auto\">\r\n        <el-tree\r\n          :data=\"menuList\"\r\n          :props=\"menuListTreeProps\"\r\n          node-key=\"menuId\"\r\n          ref=\"menuListTree\"\r\n          @current-change=\"menuListTreeCurrentChangeHandle\"\r\n          :default-expand-all=\"false\"\r\n          :highlight-current=\"true\"\r\n          :expand-on-click-node=\"false\">\r\n        </el-tree>\r\n      </el-popover>\r\n      <el-input v-model=\"dataForm.parentName\" v-popover:menuListPopover :readonly=\"true\" placeholder=\"点击选择上级菜单\" class=\"menu-list__input\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item v-if=\"dataForm.type === 1 || dataForm.type === 3 || dataForm.type === 0\" label=\"菜单路由\" prop=\"url\">\r\n      <el-input v-model=\"dataForm.url\" placeholder=\"菜单路由\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item v-if=\"dataForm.type !== 0\" label=\"授权标识\" prop=\"perms\">\r\n      <el-input v-model=\"dataForm.perms\" placeholder=\"多个用逗号分隔, 如: user:list,user:create\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item v-if=\"dataForm.type !== 2\" label=\"排序号\" prop=\"orderNum\">\r\n      <el-input-number v-model=\"dataForm.orderNum\" controls-position=\"right\" :min=\"0\" label=\"排序号\"></el-input-number>\r\n    </el-form-item>\r\n    <el-form-item v-if=\"dataForm.type !== 2\" label=\"菜单图标\" prop=\"icon\">\r\n      <el-row>\r\n        <el-col :span=\"22\">\r\n          <el-popover\r\n            ref=\"iconListPopover\"\r\n            placement=\"bottom-start\"\r\n            trigger=\"click\"\r\n            popper-class=\"mod-menu__icon-popover\">\r\n            <div class=\"mod-menu__icon-list\">\r\n              <el-button\r\n                v-for=\"(item, index) in iconList\"\r\n                :key=\"index\"\r\n                @click=\"iconActiveHandle(item)\"\r\n                :class=\"{ 'is-active': item === dataForm.icon }\">\r\n                <template>\r\n                  <i :class=\"item\" class=\"iconfont\" style=\"font-size: 20px\"></i>\r\n                </template>\r\n              </el-button>\r\n            </div>\r\n          </el-popover>\r\n          <el-input v-model=\"dataForm.icon\" v-popover:iconListPopover :readonly=\"true\" placeholder=\"菜单图标名称\" class=\"icon-list__input\"></el-input>\r\n        </el-col>\r\n      </el-row>\r\n    </el-form-item>\r\n  </el-form>\r\n  <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"visible = false\">取消</el-button>\r\n      <el-button type=\"primary\" @click=\"dataFormSubmit()\">确定</el-button>\r\n    </span>\r\n</el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { treeDataTranslate } from '@/net/validate'\r\nimport { SYSTEMSETUP_API } from '@/api/api'\r\nexport default {\r\n  name: 'menuAdd',\r\n  data () {\r\n    var validateUrl = (rule, value, callback) => {\r\n      if (this.dataForm.type === 1 && !/\\S/.test(value)) {\r\n        callback(new Error('菜单URL不能为空'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      iconList: ['factory-shouye', 'factory-shezhi', 'factory-luru', 'factory-shenhe', 'factory-baobiao', 'factory-yibiao', 'factory-icon-test'],\r\n      visible: false,\r\n      type: true,\r\n      dataForm: {\r\n        id: 0,\r\n        type: 1,\r\n        typeList: ['目录', '菜单', '按钮', '三级页面'],\r\n        name: '',\r\n        parentId: 0,\r\n        parentName: '',\r\n        url: '',\r\n        perms: '',\r\n        orderNum: 0,\r\n        icon: '',\r\n        iconList: []\r\n      },\r\n      dataRule: {\r\n        id: [\r\n          { required: true, message: '菜单名称不能为空', trigger: 'blur' }\r\n        ],\r\n        name: [\r\n          { required: true, message: '菜单名称不能为空', trigger: 'blur' }\r\n        ],\r\n        parentName: [\r\n          { required: true, message: '上级菜单不能为空', trigger: 'change' }\r\n        ],\r\n        url: [\r\n          { validator: validateUrl, trigger: 'blur' }\r\n        ]\r\n      },\r\n      menuList: [],\r\n      menuListTreeProps: {\r\n        label: 'name',\r\n        children: 'children'\r\n      },\r\n      submitType: true\r\n    }\r\n  },\r\n  mounted () {\r\n  },\r\n  methods: {\r\n    init (id) {\r\n      console.log(id)\r\n      this.$http(`${SYSTEMSETUP_API.MENUSELECT_API}`, 'GET', {}).then(({data}) => {\r\n        this.menuList = treeDataTranslate(data.menuList, 'menuId')\r\n      }).then(() => {\r\n        this.visible = true\r\n        this.$nextTick(() => {\r\n          this.$refs.dataForm.resetFields()\r\n          this.dataForm.id = id || 0\r\n        })\r\n      }).then(() => {\r\n        if (!this.dataForm.id) {\r\n          // 新增\r\n          this.menuListTreeSetCurrentNode()\r\n          this.type = true\r\n        } else {\r\n          // 修改\r\n          this.type = false\r\n          this.$http(`${SYSTEMSETUP_API.MENUINFO_API}/${this.dataForm.id}`, 'GET', {}).then(({data}) => {\r\n            this.dataForm.id = data.menu.menuId\r\n            this.dataForm.type = data.menu.type * 1\r\n            this.dataForm.name = data.menu.name\r\n            this.dataForm.parentId = data.menu.parentId\r\n            this.dataForm.url = data.menu.url\r\n            this.dataForm.perms = data.menu.perms\r\n            this.dataForm.orderNum = data.menu.orderNum\r\n            this.dataForm.icon = data.menu.icon\r\n            this.menuListTreeSetCurrentNode()\r\n          })\r\n        }\r\n      })\r\n    },\r\n    // 菜单树选中\r\n    menuListTreeCurrentChangeHandle (data, node) {\r\n      this.dataForm.parentId = data.menuId\r\n      this.dataForm.parentName = data.name\r\n    },\r\n    // 菜单树设置当前选中节点\r\n    menuListTreeSetCurrentNode () {\r\n      this.$refs.menuListTree.setCurrentKey(this.dataForm.parentId)\r\n      this.dataForm.parentName = (this.$refs.menuListTree.getCurrentNode() || {})['name']\r\n    },\r\n    // 图标选中\r\n    iconActiveHandle (iconName) {\r\n      this.dataForm.icon = iconName\r\n    },\r\n    // 表单提交\r\n    dataFormSubmit () {\r\n      if (this.submitType) {\r\n        this.submitType = false\r\n        this.$refs['dataForm'].validate((valid) => {\r\n          if (valid) {\r\n            this.$http(`${this.type ? SYSTEMSETUP_API.MENUADD_API : SYSTEMSETUP_API.MENUUPDATE_API}`, 'POST', {\r\n              'menuId': this.dataForm.id || undefined,\r\n              'type': this.dataForm.type,\r\n              'name': this.dataForm.name,\r\n              'parentId': this.dataForm.parentId,\r\n              'url': this.dataForm.url,\r\n              'perms': this.dataForm.perms,\r\n              'orderNum': this.dataForm.orderNum,\r\n              'icon': this.dataForm.icon\r\n            }).then(({data}) => {\r\n              if (data && data.code === 0) {\r\n                this.$message({\r\n                  message: '操作成功',\r\n                  type: 'success',\r\n                  duration: 1500,\r\n                  onClose: () => {\r\n                    this.submitType = true\r\n                    this.visible = false\r\n                    this.$emit('refreshDataList')\r\n                  }\r\n                })\r\n              } else {\r\n                this.submitType = true\r\n                this.$message.error(data.msg)\r\n              }\r\n            })\r\n          } else {\r\n            this.submitType = true\r\n          }\r\n        })\r\n      }\r\n    }\r\n  },\r\n  computed: {},\r\n  components: {}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .mod-menu {\r\n    .menu-list__input,\r\n    .icon-list__input {\r\n      > .el-input__inner {\r\n        cursor: pointer;\r\n      }\r\n    }\r\n    &__icon-popover {\r\n      max-width: 370px;\r\n    }\r\n    &__icon-list {\r\n      max-height: 180px;\r\n      padding: 0;\r\n      margin: -8px 0 0 -8px;\r\n      > .el-button {\r\n        padding: 8px;\r\n        margin: 8px 0 0 8px;\r\n        > span {\r\n          display: inline-block;\r\n          vertical-align: middle;\r\n          width: 18px;\r\n          height: 18px;\r\n          font-size: 18px;\r\n        }\r\n      }\r\n    }\r\n    .icon-list__tips {\r\n      font-size: 18px;\r\n      text-align: center;\r\n      color: #e6a23c;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  .el-dialog__body { padding: 10px 20px; }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/page/SystemSetup/menu/menuAdd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":!_vm.dataForm.id ? '新增' : '修改',\"close-on-click-modal\":false,\"visible\":_vm.visible},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('el-form',{ref:\"dataForm\",attrs:{\"model\":_vm.dataForm,\"rules\":_vm.dataRule,\"label-width\":\"120px\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.dataFormSubmit()}}},[_c('el-form-item',{attrs:{\"label\":\"ID\",\"prop\":\"id\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入id\"},model:{value:(_vm.dataForm.id),callback:function ($$v) {_vm.$set(_vm.dataForm, \"id\", $$v)},expression:\"dataForm.id\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"类型\",\"prop\":\"type\"}},[_c('el-radio-group',{model:{value:(_vm.dataForm.type),callback:function ($$v) {_vm.$set(_vm.dataForm, \"type\", $$v)},expression:\"dataForm.type\"}},_vm._l((_vm.dataForm.typeList),function(type,index){return _c('el-radio',{key:index,attrs:{\"label\":index}},[_vm._v(_vm._s(type))])}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.dataForm.typeList[_vm.dataForm.type] + '名称',\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.dataForm.typeList[_vm.dataForm.type] + '名称'},model:{value:(_vm.dataForm.name),callback:function ($$v) {_vm.$set(_vm.dataForm, \"name\", $$v)},expression:\"dataForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上级菜单\",\"prop\":\"parentName\"}},[_c('el-popover',{ref:\"menuListPopover\",staticStyle:{\"height\":\"100%\",\"overflow\":\"auto\"},attrs:{\"placement\":\"bottom-start\",\"trigger\":\"click\"}},[_c('el-tree',{ref:\"menuListTree\",attrs:{\"data\":_vm.menuList,\"props\":_vm.menuListTreeProps,\"node-key\":\"menuId\",\"default-expand-all\":false,\"highlight-current\":true,\"expand-on-click-node\":false},on:{\"current-change\":_vm.menuListTreeCurrentChangeHandle}})],1),_vm._v(\" \"),_c('el-input',{directives:[{name:\"popover\",rawName:\"v-popover:menuListPopover\",arg:\"menuListPopover\"}],staticClass:\"menu-list__input\",attrs:{\"readonly\":true,\"placeholder\":\"点击选择上级菜单\"},model:{value:(_vm.dataForm.parentName),callback:function ($$v) {_vm.$set(_vm.dataForm, \"parentName\", $$v)},expression:\"dataForm.parentName\"}})],1),_vm._v(\" \"),(_vm.dataForm.type === 1 || _vm.dataForm.type === 3 || _vm.dataForm.type === 0)?_c('el-form-item',{attrs:{\"label\":\"菜单路由\",\"prop\":\"url\"}},[_c('el-input',{attrs:{\"placeholder\":\"菜单路由\"},model:{value:(_vm.dataForm.url),callback:function ($$v) {_vm.$set(_vm.dataForm, \"url\", $$v)},expression:\"dataForm.url\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.dataForm.type !== 0)?_c('el-form-item',{attrs:{\"label\":\"授权标识\",\"prop\":\"perms\"}},[_c('el-input',{attrs:{\"placeholder\":\"多个用逗号分隔, 如: user:list,user:create\"},model:{value:(_vm.dataForm.perms),callback:function ($$v) {_vm.$set(_vm.dataForm, \"perms\", $$v)},expression:\"dataForm.perms\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.dataForm.type !== 2)?_c('el-form-item',{attrs:{\"label\":\"排序号\",\"prop\":\"orderNum\"}},[_c('el-input-number',{attrs:{\"controls-position\":\"right\",\"min\":0,\"label\":\"排序号\"},model:{value:(_vm.dataForm.orderNum),callback:function ($$v) {_vm.$set(_vm.dataForm, \"orderNum\", $$v)},expression:\"dataForm.orderNum\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.dataForm.type !== 2)?_c('el-form-item',{attrs:{\"label\":\"菜单图标\",\"prop\":\"icon\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":22}},[_c('el-popover',{ref:\"iconListPopover\",attrs:{\"placement\":\"bottom-start\",\"trigger\":\"click\",\"popper-class\":\"mod-menu__icon-popover\"}},[_c('div',{staticClass:\"mod-menu__icon-list\"},_vm._l((_vm.iconList),function(item,index){return _c('el-button',{key:index,class:{ 'is-active': item === _vm.dataForm.icon },on:{\"click\":function($event){return _vm.iconActiveHandle(item)}}},[[_c('i',{staticClass:\"iconfont\",class:item,staticStyle:{\"font-size\":\"20px\"}})]],2)}),1)]),_vm._v(\" \"),_c('el-input',{directives:[{name:\"popover\",rawName:\"v-popover:iconListPopover\",arg:\"iconListPopover\"}],staticClass:\"icon-list__input\",attrs:{\"readonly\":true,\"placeholder\":\"菜单图标名称\"},model:{value:(_vm.dataForm.icon),callback:function ($$v) {_vm.$set(_vm.dataForm, \"icon\", $$v)},expression:\"dataForm.icon\"}})],1)],1)],1):_vm._e()],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.dataFormSubmit()}}},[_vm._v(\"确定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-176c92ce\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/page/SystemSetup/menu/menuAdd.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-176c92ce\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./menuAdd.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./menuAdd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./menuAdd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-176c92ce\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./menuAdd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/page/SystemSetup/menu/menuAdd.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}