{"version":3,"sources":["webpack:///src/views/page/BasicData/Location/LocationAdd.vue","webpack:///./src/views/page/BasicData/Location/LocationAdd.vue?2894","webpack:///./src/views/page/BasicData/Location/LocationAdd.vue","webpack:///src/views/page/BasicData/Location/LocationManage.vue","webpack:///./src/views/page/BasicData/Location/LocationManage.vue?5317","webpack:///./src/views/page/BasicData/Location/LocationManage.vue"],"names":["LocationAdd","name","data","visible","sapList","factory","workshop","formatDate","deptId","storageLocation","materialType","materialCode","isSample","materialOperation","submitType","dataRule","required","message","trigger","watch","formatDate.factory","n","o","this","Getdeptbyid","props","mounted","Getdeptcode","methods","_this","$http","api","FINDORG_API","then","_ref","code","typeList","$message","error","msg","id","_this2","FINDORGBYID_API","_ref2","init","_this3","PARAMETERLIST_API","_ref3","dicList","dataFormSubmit","_this4","length","$refs","addLo","validate","valid","console","log","materialTypeCode","substring","indexOf","materialTypeName","LOCATIONADD_API","_ref4","type","duration","onClose","$emit","computed","components","Location_LocationAdd","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","close-on-click-modal","on","update:visible","$event","staticStyle","width","margin","ref","model","rules","size","label-width","nativeOn","keyup","_k","keyCode","key","submit","preventDefault","label","prop","placeholder","value","callback","$$v","$set","expression","_v","_l","item","index","deptName","slot","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","LocationManage","visible1","form","serch","list","multipleSelection","SerchSapList","currPage","pageSize","totalCount","GetLocationList","indexMethod","st","LOCATIONLIST_API","page","remove","$confirm","confirmButtonText","cancelButtonText","LOCATIONDEL_API","addLocation","$nextTick","locationAdd","handleSelectionChange","val","_this5","forEach","push","handleSizeChange","handleCurrentChange","Location_LocationManage","directives","rawName","modifiers","fullscreen","lock","element-loading-text","float","inline","suffix-icon","isAuth","_e","margin-bottom","header-row-class-name","border","tooltip-effect","selection-change","show-overflow-tooltip","scopedSlots","_u","fn","scope","_s","row","materialName","current-page","page-sizes","page-size","layout","total","size-change","current-change","refreshDataList"],"mappings":"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","file":"static/js/21.188f48c317ab472c9c31.js","sourcesContent":["<template>\r\n    <el-dialog\r\n      title=\"新增库位\"\r\n      :close-on-click-modal=\"false\"\r\n      :visible.sync=\"visible\"\r\n      class=\"locationdialog1\">\r\n      <div style=\"width: 400px;margin: auto\">\r\n        <el-form ref=\"addLo\" :model=\"formatDate\" :rules=\"dataRule\" size=\"small\" label-width=\"110px\" @keyup.enter.native=\"dataFormSubmit()\" @submit.native.prevent>\r\n          <el-form-item label=\"工厂：\" prop=\"deptId\">\r\n            <el-select v-model=\"formatDate.factory\" placeholder=\"请选择\">\r\n              <el-option label=\"\"  value=\"\"></el-option>\r\n              <el-option :label=\"item.deptName\" v-for=\"(item, index) in factory\" :key=\"index\" :value=\"item.deptId\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"车间：\" prop=\"deptId\">\r\n            <el-select v-model=\"formatDate.deptId\" placeholder=\"请选择\">\r\n              <el-option label=\"\"  value=\"\"></el-option>\r\n              <el-option :label=\"item.deptName\" v-for=\"(item, index) in workshop\" :key=\"index\" :value=\"item.deptId\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"物料类型：\" prop=\"materialType\">\r\n            <el-select v-model=\"formatDate.materialType\" placeholder=\"请选择\">\r\n              <el-option label=\"\"  value=\"\"></el-option>\r\n              <el-option :label=\"item.code + ' ' + item.value\" v-for=\"(item, index) in sapList\" :key=\"index\" :value=\"item.code + ' ' + item.value\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"物料编码：\">\r\n            <el-input v-model=\"formatDate.materialCode\" placeholder=\"手工录入\"></el-input>\r\n            <!--<el-select v-model=\"formatDate.material\" filterable placeholder=\"请选择\">-->\r\n              <!--<el-option-->\r\n                <!--v-for=\"item in SerchSapList\"-->\r\n                <!--:key=\"item.materialCode+' '+item.materialName\"-->\r\n                <!--:label=\"item.materialCode+' '+item.materialName\"-->\r\n                <!--:value=\"item.materialCode+' '+item.materialName\">-->\r\n              <!--</el-option>-->\r\n            <!--</el-select>-->\r\n          </el-form-item>\r\n          <el-form-item label=\"库位：\" prop=\"storageLocation\">\r\n            <el-input v-model=\"formatDate.storageLocation\" placeholder=\"手工录入\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"是否样品库：\">\r\n            <el-select v-model=\"formatDate.isSample\" placeholder=\"请选择\">\r\n              <el-option label=\"是\"  value=\"1\"></el-option>\r\n              <el-option label=\"否\"  value=\"0\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"发料/入库：\" prop=\"materialOperation\">\r\n            <el-select v-model=\"formatDate.materialOperation\" placeholder=\"请选择\">\r\n              <el-option label=\"发料\"  value=\"发料\"></el-option>\r\n              <el-option label=\"入库\"  value=\"入库\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"visible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"dataFormSubmit()\">确定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport {BASICDATA_API, SYSTEMSETUP_API} from '@/api/api'\r\nexport default {\r\n  name: 'LocationAdd',\r\n  data () {\r\n    return {\r\n      visible: false,\r\n      sapList: [],\r\n      factory: [],\r\n      workshop: [],\r\n      formatDate: {\r\n        factory: '',\r\n        deptId: '',\r\n        storageLocation: '',\r\n        materialType: '',\r\n        materialCode: '',\r\n        isSample: '0',\r\n        materialOperation: ''\r\n      },\r\n      submitType: true,\r\n      dataRule: {\r\n        deptId: [\r\n          { required: true, message: '车间不能为空', trigger: 'blur' }\r\n        ],\r\n        materialType: [\r\n          { required: true, message: '物料类型不能为空', trigger: 'blur' }\r\n        ],\r\n        storageLocation: [\r\n          { required: true, message: '库位不能为空', trigger: 'blur' }\r\n        ],\r\n        materialOperation: [\r\n          { required: true, message: '发料/入库不能为空', trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    'formatDate.factory' (n, o) {\r\n      this.Getdeptbyid(n)\r\n    }\r\n  },\r\n  props: {\r\n    // SerchSapList: {}\r\n  },\r\n  mounted () {\r\n    this.Getdeptcode()\r\n  },\r\n  methods: {\r\n    // 获取工厂\r\n    Getdeptcode () {\r\n      this.$http(`${BASICDATA_API.FINDORG_API}?code=factory`, 'POST').then(({data}) => {\r\n        if (data.code === 0) {\r\n          this.factory = data.typeList\r\n        } else {\r\n          this.$message.error(data.msg)\r\n        }\r\n      })\r\n    },\r\n    // 获取车间\r\n    Getdeptbyid (id) {\r\n      this.formatDate.deptId = ''\r\n      if (id) {\r\n        this.$http(`${BASICDATA_API.FINDORGBYID_API}`, 'POST', {deptId: id}).then(({data}) => {\r\n          if (data.code === 0) {\r\n            this.workshop = data.typeList\r\n          } else {\r\n            this.$message.error(data.msg)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    init () {\r\n      this.Getdeptbyid()\r\n      this.$http(`${SYSTEMSETUP_API.PARAMETERLIST_API}?type=material_type`, 'POST').then(({data}) => {\r\n        if (data.code === 0) {\r\n          this.sapList = data.dicList\r\n        } else {\r\n          this.$message.error(data.msg)\r\n        }\r\n      })\r\n      this.visible = true\r\n    },\r\n    // 新增\r\n    dataFormSubmit () {\r\n      if (this.formatDate.materialCode && this.formatDate.materialCode.length !== 10) {\r\n        this.$message.error('物料编码为10位非必填')\r\n        return false\r\n      }\r\n      if (this.submitType) {\r\n        this.submitType = false\r\n        this.$refs.addLo.validate((valid) => {\r\n          if (valid) {\r\n            this.formatDate.materialTypeCode = this.formatDate.materialType.substring(0, this.formatDate.materialType.indexOf(' '))\r\n            this.formatDate.materialTypeName = this.formatDate.materialType.substring(this.formatDate.materialType.indexOf(' ') + 1)\r\n            this.$http(`${BASICDATA_API.LOCATIONADD_API}`, 'POST', this.formatDate).then(({data}) => {\r\n              if (data.code === 0) {\r\n                this.$message({\r\n                  message: '操作成功',\r\n                  type: 'success',\r\n                  duration: 1500,\r\n                  onClose: () => {\r\n                    this.submitType = true\r\n                    this.visible = false\r\n                    this.$emit('refreshDataList')\r\n                  }\r\n                })\r\n              } else {\r\n                this.submitType = true\r\n                this.$message.error(data.msg)\r\n              }\r\n            })\r\n          } else {\r\n            this.submitType = true\r\n            console.log('error submit!!')\r\n            return false\r\n          }\r\n        })\r\n      }\r\n    }\r\n  },\r\n  computed: {},\r\n  components: {}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .locationdialog1{\r\n    .el-select,input{\r\n      width: 100%!important;\r\n    }\r\n    .el-dialog{\r\n      min-width: 450px;\r\n    }\r\n  }\r\n</style>\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/page/BasicData/Location/LocationAdd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:\"locationdialog1\",attrs:{\"title\":\"新增库位\",\"close-on-click-modal\":false,\"visible\":_vm.visible},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('div',{staticStyle:{\"width\":\"400px\",\"margin\":\"auto\"}},[_c('el-form',{ref:\"addLo\",attrs:{\"model\":_vm.formatDate,\"rules\":_vm.dataRule,\"size\":\"small\",\"label-width\":\"110px\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.dataFormSubmit()},\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"工厂：\",\"prop\":\"deptId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.formatDate.factory),callback:function ($$v) {_vm.$set(_vm.formatDate, \"factory\", $$v)},expression:\"formatDate.factory\"}},[_c('el-option',{attrs:{\"label\":\"\",\"value\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.factory),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.deptName,\"value\":item.deptId}})})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"车间：\",\"prop\":\"deptId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.formatDate.deptId),callback:function ($$v) {_vm.$set(_vm.formatDate, \"deptId\", $$v)},expression:\"formatDate.deptId\"}},[_c('el-option',{attrs:{\"label\":\"\",\"value\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.workshop),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.deptName,\"value\":item.deptId}})})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"物料类型：\",\"prop\":\"materialType\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.formatDate.materialType),callback:function ($$v) {_vm.$set(_vm.formatDate, \"materialType\", $$v)},expression:\"formatDate.materialType\"}},[_c('el-option',{attrs:{\"label\":\"\",\"value\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.sapList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.code + ' ' + item.value,\"value\":item.code + ' ' + item.value}})})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"物料编码：\"}},[_c('el-input',{attrs:{\"placeholder\":\"手工录入\"},model:{value:(_vm.formatDate.materialCode),callback:function ($$v) {_vm.$set(_vm.formatDate, \"materialCode\", $$v)},expression:\"formatDate.materialCode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"库位：\",\"prop\":\"storageLocation\"}},[_c('el-input',{attrs:{\"placeholder\":\"手工录入\"},model:{value:(_vm.formatDate.storageLocation),callback:function ($$v) {_vm.$set(_vm.formatDate, \"storageLocation\", $$v)},expression:\"formatDate.storageLocation\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否样品库：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.formatDate.isSample),callback:function ($$v) {_vm.$set(_vm.formatDate, \"isSample\", $$v)},expression:\"formatDate.isSample\"}},[_c('el-option',{attrs:{\"label\":\"是\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"否\",\"value\":\"0\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"发料/入库：\",\"prop\":\"materialOperation\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.formatDate.materialOperation),callback:function ($$v) {_vm.$set(_vm.formatDate, \"materialOperation\", $$v)},expression:\"formatDate.materialOperation\"}},[_c('el-option',{attrs:{\"label\":\"发料\",\"value\":\"发料\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"入库\",\"value\":\"入库\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.dataFormSubmit()}}},[_vm._v(\"确定\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-fdec79f4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/page/BasicData/Location/LocationAdd.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fdec79f4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./LocationAdd.vue\")\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fdec79f4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=1!./LocationAdd.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./LocationAdd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./LocationAdd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fdec79f4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./LocationAdd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fdec79f4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/page/BasicData/Location/LocationAdd.vue\n// module id = null\n// module chunks = ","<template>\r\n  <el-col v-loading.fullscreen.lock=\"lodingStatus\" element-loading-text=\"加载中\">\r\n    <!--<div class=\"topTitle\">-->\r\n      <!--<el-breadcrumb separator=\"/\">-->\r\n        <!--<el-breadcrumb-item>基础数据</el-breadcrumb-item>-->\r\n        <!--<el-breadcrumb-item>库位管理</el-breadcrumb-item>-->\r\n      <!--</el-breadcrumb>-->\r\n    <!--</div>-->\r\n    <div class=\"main\">\r\n      <el-card>\r\n        <div class=\"clearfix\">\r\n          <el-row style=\"float: right\">\r\n            <el-form :inline=\"true\" :model=\"form\" size=\"small\" label-width=\"68px\" class=\"topforms2\" @keyup.enter.native=\"GetLocationList(true)\" @submit.native.prevent>\r\n              <el-form-item>\r\n                <el-input v-model=\"form.deptName\" placeholder=\"车间\" suffix-icon=\"el-icon-search\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item>\r\n                <el-button type=\"primary\" size=\"small\" @click=\"GetLocationList(true)\" v-if=\"isAuth('sys:sto:list')\">查询</el-button>\r\n                <el-button type=\"primary\" size=\"small\" @click=\"visible1 = true\" v-if=\"isAuth('sys:sto:list')\">高级查询</el-button>\r\n                <el-button type=\"primary\" size=\"small\" @click=\"addLocation()\" v-if=\"isAuth('sys:sto:save')\">新增</el-button>\r\n                <el-button type=\"danger\" size=\"small\" @click=\"remove()\" v-if=\"isAuth('sys:sto:delete')\">批量删除</el-button>\r\n              </el-form-item>\r\n            </el-form>\r\n          </el-row>\r\n        </div>\r\n        <el-row>\r\n          <el-table\r\n            ref=\"table1\"\r\n            header-row-class-name=\"tableHead\"\r\n            @selection-change=\"handleSelectionChange\"\r\n            :data=\"list\"\r\n            border\r\n            tooltip-effect=\"dark\"\r\n            style=\"width: 100%;margin-bottom: 20px\">\r\n            <el-table-column\r\n              type=\"selection\"\r\n              width=\"34\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              type=\"index\"\r\n              label=\"序号\"\r\n              :index=\"indexMethod\"\r\n              width=\"55\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"factoryName\"\r\n              width=\"120\"\r\n              :show-overflow-tooltip=\"true\"\r\n              label=\"工厂\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"deptName\"\r\n              width=\"120\"\r\n              :show-overflow-tooltip=\"true\"\r\n              label=\"车间\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              :show-overflow-tooltip=\"true\"\r\n              label=\"物料类型\">\r\n              <template slot-scope=\"scope\">\r\n                {{ scope.row.materialTypeCode + ' ' + scope.row.materialTypeName}}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              :show-overflow-tooltip=\"true\"\r\n              label=\"物料编码\">\r\n              <template slot-scope=\"scope\">\r\n                {{ scope.row.materialCode + ' ' + scope.row.materialName}}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              width=\"80\"\r\n              prop=\"storageLocation\"\r\n              label=\"库位\">\r\n            </el-table-column>\r\n            <el-table-column\r\n              width=\"91\"\r\n              label=\"是否样品库\">\r\n              <template slot-scope=\"scope\">\r\n                {{scope.row.isSample === '0'? '否':'是'}}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"materialOperation\"\r\n              width=\"84\"\r\n              label=\"发料/入库\">\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-row>\r\n        <el-row >\r\n          <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page=\"currPage\"\r\n            :page-sizes=\"[10, 15, 20]\"\r\n            :page-size=\"pageSize\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"totalCount\">\r\n          </el-pagination>\r\n        </el-row>\r\n      </el-card>\r\n    </div>\r\n    <el-dialog\r\n      title=\"高级查询\"\r\n      :close-on-click-modal=\"false\"\r\n      :visible.sync=\"visible1\">\r\n      <el-form :model=\"form\" size=\"small\" label-width=\"110px\" class=\"locationdialog\">\r\n        <el-form-item label=\"车间：\" prop=\"orderNo1\">\r\n          <el-select v-model=\"form.deptId\" placeholder=\"请选择\">\r\n            <el-option label=\"\"  value=\"\"></el-option>\r\n            <el-option :label=\"item.deptName\" v-for=\"(item, index) in workshop\" :key=\"index\" :value=\"item.deptId\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"物料类型：\" prop=\"orderNo2\">\r\n          <el-select v-model=\"form.materialTypeCode\" placeholder=\"请选择\">\r\n            <el-option label=\"\"  value=\"\"></el-option>\r\n            <el-option :label=\"item.value\" v-for=\"(item, index) in sapList\" :key=\"index\" :value=\"item.code\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"库位：\">\r\n          <el-input v-model=\"form.storageLocation\" placeholder=\"手工录入\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"visible1 = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"GetLocationList(true)\">确定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <location-add v-if=\"visible\" ref=\"locationAdd\" @refreshDataList=\"GetLocationList()\"></location-add>\r\n  </el-col>\r\n</template>\r\n\r\n<script>\r\nimport {BASICDATA_API, SYSTEMSETUP_API} from '@/api/api'\r\nimport LocationAdd from './LocationAdd'\r\nexport default {\r\n  name: 'LocationManage',\r\n  data () {\r\n    return {\r\n      visible1: false,\r\n      visible: false,\r\n      form: {\r\n        deptName: '',\r\n        deptId: '',\r\n        materialTypeCode: '',\r\n        storageLocation: ''\r\n      },\r\n      serch: {},\r\n      list: [],\r\n      multipleSelection: [],\r\n      sapList: [],\r\n      workshop: [],\r\n      SerchSapList: [],\r\n      currPage: 1,\r\n      pageSize: 10,\r\n      totalCount: 0\r\n    }\r\n  },\r\n  mounted () {\r\n    this.GetLocationList()\r\n    this.$http(`${BASICDATA_API.FINDORG_API}?code=workshop`, 'POST').then(({data}) => {\r\n      if (data.code === 0) {\r\n        this.workshop = data.typeList\r\n      } else {\r\n        this.$message.error(data.msg)\r\n      }\r\n    })\r\n    this.$http(`${SYSTEMSETUP_API.PARAMETERLIST_API}?type=material_type`, 'POST').then(({data}) => {\r\n      if (data.code === 0) {\r\n        this.sapList = data.dicList\r\n      } else {\r\n        this.$message.error(data.msg)\r\n      }\r\n    })\r\n    // this.$http(`${BASICDATA_API.SERCHSAPLIST_API}`, 'POST', {params: ''}).then(({data}) => {\r\n    //   if (data.code === 0) {\r\n    //     this.SerchSapList = data.allList\r\n    //   } else {\r\n    //     this.$message.error(data.msg)\r\n    //   }\r\n    // })\r\n  },\r\n  methods: {\r\n    // 序号\r\n    indexMethod (index) {\r\n      return index + 1 + (this.currPage * 1 - 1) * (this.pageSize * 1)\r\n    },\r\n    // 获取库位列表\r\n    GetLocationList (st) {\r\n      if (st) {\r\n        this.currPage = 1\r\n      }\r\n      this.$http(`${BASICDATA_API.LOCATIONLIST_API}`, 'POST', {\r\n        deptId: this.form.deptId,\r\n        deptName: this.form.deptName,\r\n        materialTypeCode: this.form.materialTypeCode,\r\n        storageLocation: this.form.storageLocation,\r\n        currPage: this.currPage,\r\n        pageSize: this.pageSize\r\n      }).then(({data}) => {\r\n        console.log(data)\r\n        this.visible = false\r\n        this.visible1 = false\r\n        if (data.code === 0) {\r\n          this.multipleSelection = []\r\n          this.list = data.page.list\r\n          this.currPage = data.page.currPage\r\n          this.pageSize = data.page.pageSize\r\n          this.totalCount = data.page.totalCount\r\n        } else {\r\n          this.$message.error(data.msg)\r\n        }\r\n        this.visible = false\r\n      })\r\n    },\r\n    // 批量删除\r\n    remove () {\r\n      this.$confirm('确认删除库位, 是否继续?', '删除库位', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.$http(`${BASICDATA_API.LOCATIONDEL_API}`, 'POST', this.multipleSelection).then(({data}) => {\r\n          if (data.code === 0) {\r\n            this.$message({\r\n              type: 'success',\r\n              message: '删除成功!'\r\n            })\r\n            this.multipleSelection = []\r\n            this.GetLocationList()\r\n          } else {\r\n            this.$message.error(data.msg)\r\n          }\r\n        })\r\n      })\r\n    },\r\n    // 新增库位\r\n    addLocation () {\r\n      this.visible = true\r\n      this.$nextTick(() => {\r\n        this.$refs.locationAdd.init()\r\n      })\r\n    },\r\n    // 表格选中\r\n    handleSelectionChange (val) {\r\n      this.multipleSelection = []\r\n      val.forEach((item, index) => {\r\n        this.multipleSelection.push(item.id)\r\n      })\r\n    },\r\n    // 改变每页条数\r\n    handleSizeChange (val) {\r\n      this.pageSize = val\r\n      this.GetLocationList()\r\n    },\r\n    // 跳转页数\r\n    handleCurrentChange (val) {\r\n      this.currPage = val\r\n      this.GetLocationList()\r\n    }\r\n  },\r\n  computed: {},\r\n  components: {\r\n    LocationAdd\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/page/BasicData/Location/LocationManage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-col',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.lodingStatus),expression:\"lodingStatus\",modifiers:{\"fullscreen\":true,\"lock\":true}}],attrs:{\"element-loading-text\":\"加载中\"}},[_c('div',{staticClass:\"main\"},[_c('el-card',[_c('div',{staticClass:\"clearfix\"},[_c('el-row',{staticStyle:{\"float\":\"right\"}},[_c('el-form',{staticClass:\"topforms2\",attrs:{\"inline\":true,\"model\":_vm.form,\"size\":\"small\",\"label-width\":\"68px\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.GetLocationList(true)},\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"车间\",\"suffix-icon\":\"el-icon-search\"},model:{value:(_vm.form.deptName),callback:function ($$v) {_vm.$set(_vm.form, \"deptName\", $$v)},expression:\"form.deptName\"}})],1),_vm._v(\" \"),_c('el-form-item',[(_vm.isAuth('sys:sto:list'))?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.GetLocationList(true)}}},[_vm._v(\"查询\")]):_vm._e(),_vm._v(\" \"),(_vm.isAuth('sys:sto:list'))?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.visible1 = true}}},[_vm._v(\"高级查询\")]):_vm._e(),_vm._v(\" \"),(_vm.isAuth('sys:sto:save'))?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.addLocation()}}},[_vm._v(\"新增\")]):_vm._e(),_vm._v(\" \"),(_vm.isAuth('sys:sto:delete'))?_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.remove()}}},[_vm._v(\"批量删除\")]):_vm._e()],1)],1)],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-table',{ref:\"table1\",staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"20px\"},attrs:{\"header-row-class-name\":\"tableHead\",\"data\":_vm.list,\"border\":\"\",\"tooltip-effect\":\"dark\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"34\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"index\":_vm.indexMethod,\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"factoryName\",\"width\":\"120\",\"show-overflow-tooltip\":true,\"label\":\"工厂\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"deptName\",\"width\":\"120\",\"show-overflow-tooltip\":true,\"label\":\"车间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"label\":\"物料类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n              \"+_vm._s(scope.row.materialTypeCode + ' ' + scope.row.materialTypeName)+\"\\n            \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"show-overflow-tooltip\":true,\"label\":\"物料编码\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n              \"+_vm._s(scope.row.materialCode + ' ' + scope.row.materialName)+\"\\n            \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"80\",\"prop\":\"storageLocation\",\"label\":\"库位\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"91\",\"label\":\"是否样品库\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n              \"+_vm._s(scope.row.isSample === '0'? '否':'是')+\"\\n            \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"materialOperation\",\"width\":\"84\",\"label\":\"发料/入库\"}})],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-pagination',{attrs:{\"current-page\":_vm.currPage,\"page-sizes\":[10, 15, 20],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.totalCount},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"高级查询\",\"close-on-click-modal\":false,\"visible\":_vm.visible1},on:{\"update:visible\":function($event){_vm.visible1=$event}}},[_c('el-form',{staticClass:\"locationdialog\",attrs:{\"model\":_vm.form,\"size\":\"small\",\"label-width\":\"110px\"}},[_c('el-form-item',{attrs:{\"label\":\"车间：\",\"prop\":\"orderNo1\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.deptId),callback:function ($$v) {_vm.$set(_vm.form, \"deptId\", $$v)},expression:\"form.deptId\"}},[_c('el-option',{attrs:{\"label\":\"\",\"value\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.workshop),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.deptName,\"value\":item.deptId}})})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"物料类型：\",\"prop\":\"orderNo2\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.materialTypeCode),callback:function ($$v) {_vm.$set(_vm.form, \"materialTypeCode\", $$v)},expression:\"form.materialTypeCode\"}},[_c('el-option',{attrs:{\"label\":\"\",\"value\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.sapList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.value,\"value\":item.code}})})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"库位：\"}},[_c('el-input',{attrs:{\"placeholder\":\"手工录入\"},model:{value:(_vm.form.storageLocation),callback:function ($$v) {_vm.$set(_vm.form, \"storageLocation\", $$v)},expression:\"form.storageLocation\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.visible1 = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.GetLocationList(true)}}},[_vm._v(\"确定\")])],1)],1),_vm._v(\" \"),(_vm.visible)?_c('location-add',{ref:\"locationAdd\",on:{\"refreshDataList\":function($event){return _vm.GetLocationList()}}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-40ac040d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/page/BasicData/Location/LocationManage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-40ac040d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./LocationManage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./LocationManage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./LocationManage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-40ac040d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./LocationManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-40ac040d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/page/BasicData/Location/LocationManage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}